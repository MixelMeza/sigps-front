(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[76],{1185:(O,P,a)=>{"use strict";a.d(P,{a:()=>o});var E=a(5357),c=a(6354),h=a(9437),l=a(8810),u=a(4438),d=a(1626),_=a(1339),f=a(5794),g=a(1416);let o=(()=>{class n{constructor(t,r,s,e){this.http=t,this.authService=r,this.toastr=s,this.getHeaders=e,this.apiPlanTrabajo=E.i.baseUrl+E.i.planTrabajo,this.headers=this.getHeaders.getHeaders()}getPlanTrabajo(){return this.http.get(this.apiPlanTrabajo,{headers:this.headers}).pipe((0,c.T)(t=>t),(0,h.W)(t=>t))}createPlanTrabajo(t){const r=this.getHeaders.getHeaders();return this.http.post(this.apiPlanTrabajo,t,{headers:r}).pipe((0,c.T)(s=>s),(0,h.W)(s=>(console.error("Error creating Plan Trabajo:",s),(0,l.$)(()=>s))))}updatePlanTrabajo(t,r){const s=this.getHeaders.getHeaders();return this.http.put(`${this.apiPlanTrabajo}${t}/`,r,{headers:s}).pipe((0,c.T)(e=>e),(0,h.W)(e=>(console.error("Error updating Plan Trabajo:",e),(0,l.$)(()=>e))))}patchAcuerdo2(t,r){return console.log("Acuerdo:",r),this.http.patch(`${this.apiPlanTrabajo}add-acuerdo/?id=${t}`,r,{headers:this.headers}).pipe((0,c.T)(e=>(console.log("Respuesta del servidor:",e),e)),(0,h.W)(e=>{throw console.error("Error en patchAcuerdo:",e),e}))}static{this.\u0275fac=function(r){return new(r||n)(u.KVO(d.Qq),u.KVO(_.u),u.KVO(f.tw),u.KVO(g.y))}}static{this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},7475:(O,P,a)=>{"use strict";a.d(P,{s:()=>n});var E=a(5357),c=a(6354),h=a(9437),l=a(8810),u=a(4438),d=a(1416),_=a(5794),f=a(1626),g=a(8498),o=a(4037);let n=(()=>{class p{constructor(r,s,e,i,v){this.getHeaders=r,this.toastr=s,this.http=e,this.router=i,this.validator=v,this.ApiUrl=E.i.baseUrl+E.i.profesionales,this.ApiImport=E.i.baseUrl+E.i.importExcel,this.headers=this.getHeaders.getHeaders()}createProfesional(r){if(!this.validator.validarObjeto(r,"Profesional"))return void console.log("validando");const s=this.getHeaders.getHeaders();return this.http.post(this.ApiUrl,r,{headers:s}).pipe((0,c.T)(e=>(this.toastr.success("Profesional creado correctamente"),this.router.navigate(["/red-almenara/post-grado"]),e)),(0,h.W)(e=>{if(console.error("Error al crear:",e),e.error&&e.error.errores&&Array.isArray(e.error.errores)){const i=e.error.errores.join("<br>");this.toastr.error(i,"Error al crear a un Profesional",{enableHtml:!0})}else e.error&&e.error.message?this.toastr.error(e.error.message,"Error al crear a un Profesional"):this.toastr.error("Error al crear a un Profesional");return(0,l.$)(e)}))}updateProfesional(r){const s=this.getHeaders.getHeaders();return this.http.patch(this.ApiUrl+r.id+"/",r,{headers:s}).pipe((0,c.T)(e=>(this.router.navigate(["/red-almenara/post-grado"]),e)),(0,h.W)(e=>(0,l.$)(e)))}deleteProfesional(r){const s=this.getHeaders.getHeaders();return this.http.delete(this.ApiUrl+r+"/",{headers:s}).pipe((0,c.T)(e=>(this.toastr.success("Profesional eliminado correctamente"),e)),(0,h.W)(e=>(0,l.$)(e)))}listProfesionalPost(){const r=this.getHeaders.getHeaders();return this.http.get(this.ApiUrl,{headers:r}).pipe((0,c.T)(s=>s),(0,h.W)(s=>(0,l.$)(s)))}getProfesionalById(r){const s=this.getHeaders.getHeaders();return this.http.get(this.ApiUrl+r+"/",{headers:s}).pipe((0,c.T)(e=>e),(0,h.W)(e=>(0,l.$)(e)))}getFilteredProfesionales(r){return this.http.get(this.ApiUrl,{headers:this.headers,params:r}).pipe((0,c.T)(s=>s),(0,h.W)(s=>(0,l.$)(s)))}uploadFile(r){const s=new FormData;return s.append("file",r),s.forEach((e,i)=>{console.log(i,e)}),this.http.post(`${this.ApiImport}`,s,{headers:this.headers}).pipe((0,c.T)(e=>(this.toastr.success("Datos importados correctamente"),e)),(0,h.W)(e=>{if(console.error("Error importing data:",e),e.error&&e.error.errores&&Array.isArray(e.error.errores)){const i=e.error.errores.join("<br>");this.toastr.error(i,"Error al importar los datos",{enableHtml:!0})}else e.error&&e.error.message?this.toastr.error(e.error.message,"Error al importar los datos"):this.toastr.error("Ocurri\xf3 un error al importar los datos.");return(0,l.$)(()=>e)}))}patchRotacion(r,s){const e=this.getHeaders.getHeaders();return this.http.patch(this.ApiUrl+r+"/",{is_rotacion:s},{headers:e}).pipe((0,c.T)(i=>(this.toastr.success("Rotaci\xf3n actualizada correctamente"),i)),(0,h.W)(i=>(0,l.$)(i)))}changeStateProfesional(r,s){const e=this.getHeaders.getHeaders();return this.http.patch(`${this.ApiUrl}${r}/`,{estado:s},{headers:e}).pipe((0,c.T)(i=>i),(0,h.W)(i=>(console.error("Error changing state Profesional:",i),(0,l.$)(()=>i))))}changeStateProfesionalNivel(r,s){const e=this.getHeaders.getHeaders();return this.http.patch(`${this.ApiUrl}${r}/`,{nivel:s},{headers:e}).pipe((0,c.T)(i=>i),(0,h.W)(i=>(console.error("Error changing level Profesional:",i),(0,l.$)(()=>i))))}changeStateProfesionalRetiro(r,s){const e=this.getHeaders.getHeaders(),i=(new Date).toISOString().split("T")[0];return this.http.patch(`${this.ApiUrl}${r}/`,{is_rejected:s,fecha_retiro:i},{headers:e}).pipe((0,c.T)(v=>v),(0,h.W)(v=>(this.toastr.success(!0===s?`El Profesional renuncio el  ${i}.`:"Cancelo renuncia del Profesional"),console.error("Error changing state Profesional:",v),(0,l.$)(()=>v))))}changeStateProfesionalEgressed(r,s){const e=this.getHeaders.getHeaders();return console.log(`\u{1f535} Enviando PATCH a: ${this.ApiUrl}${r}/ con datos:`,{is_egressed:s}),this.http.patch(`${this.ApiUrl}${r}/`,{is_egressed:s},{headers:e}).pipe((0,c.T)(i=>i),(0,h.W)(i=>(console.error("Error changing state Profesional:",i),(0,l.$)(()=>i))))}static{this.\u0275fac=function(s){return new(s||p)(u.KVO(d.y),u.KVO(_.tw),u.KVO(f.Qq),u.KVO(g.Ix),u.KVO(o.z))}}static{this.\u0275prov=u.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},4653:(O,P,a)=>{"use strict";a.d(P,{R:()=>g});var E=a(5357),c=a(6354),h=a(9437),l=a(8810),u=a(4438),d=a(1626),_=a(1416),f=a(5794);let g=(()=>{class o{constructor(p,t,r){this.http=p,this.getHeaders=t,this.toastr=r,this.ApiUrl=E.i.baseUrl+E.i.rotaciones_rpa,this.headers=this.getHeaders.getHeaders()}createRotacionPersonal(p){return this.http.post(this.ApiUrl,p,{headers:this.headers}).pipe((0,c.T)(t=>(this.toastr.success("Rotaci\xf3n de personal creada correctamente"),t)),(0,h.W)(t=>{if(console.error("Error al crear:",t),t.error&&t.error.errores&&Array.isArray(t.error.errores)){const r=t.error.errores.join("<br>");this.toastr.error(r,"Error al crear una Rotaci\xf3n de Personal",{enableHtml:!0})}else t.error&&t.error.message?this.toastr.error(t.error.message,"Error al crear una Rotaci\xf3n de Personal"):this.toastr.error("Error al crear una Rotaci\xf3n de Personal");return(0,l.$)(t)}))}getRotacionesPersonal(){const p=this.getHeaders.getHeaders();return this.http.get(this.ApiUrl,{headers:p}).pipe((0,c.T)(t=>t),(0,h.W)(t=>t))}static{this.\u0275fac=function(t){return new(t||o)(u.KVO(d.Qq),u.KVO(_.y),u.KVO(f.tw))}}static{this.\u0275prov=u.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},4037:(O,P,a)=>{"use strict";a.d(P,{z:()=>h});var E=a(4438),c=a(5794);let h=(()=>{class l{constructor(d){this.toastr=d}validarObjeto(d,_){const f=[];return d.persona.nombre&&!/^[a-zA-Z\s]+$/.test(d.persona.nombre)&&f.push("El nombre solo debe contener letras y espacios."),d.persona.apellido&&!/^[a-zA-Z\s]+$/.test(d.persona.apellido)&&f.push("El apellido solo debe contener letras y espacios."),d.persona.telefono&&!/^\d{9}$/.test(d.persona.telefono)&&f.push("El n\xfamero de tel\xe9fono debe tener 9 d\xedgitos."),d.persona.numero_documento&&!/^\d{8}$/.test(d.persona.numero_documento)&&f.push("El DNI debe tener 8 d\xedgitos."),d.persona.email&&!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(d.persona.email)&&f.push("El correo electr\xf3nico no es v\xe1lido."),!(f.length>0&&(this.toastr.error(f.join("<br>"),"Error en la validacion de "+_,{enableHtml:!0}),1))}static{this.\u0275fac=function(_){return new(_||l)(E.KVO(c.tw))}}static{this.\u0275prov=E.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},2578:function(O,P){var a,c;void 0!==(c="function"==typeof(a=function(){"use strict";function l(o,n,p){var t=new XMLHttpRequest;t.open("GET",o),t.responseType="blob",t.onload=function(){g(t.response,n,p)},t.onerror=function(){console.error("could not download file")},t.send()}function u(o){var n=new XMLHttpRequest;n.open("HEAD",o,!1);try{n.send()}catch{}return 200<=n.status&&299>=n.status}function d(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(n)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,f=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(o,n,p){var t=_.URL||_.webkitURL,r=document.createElement("a");r.download=n=n||o.name||"download",r.rel="noopener","string"==typeof o?(r.href=o,r.origin===location.origin?d(r):u(r.href)?l(o,n,p):d(r,r.target="_blank")):(r.href=t.createObjectURL(o),setTimeout(function(){t.revokeObjectURL(r.href)},4e4),setTimeout(function(){d(r)},0))}:"msSaveOrOpenBlob"in navigator?function(o,n,p){if(n=n||o.name||"download","string"!=typeof o)navigator.msSaveOrOpenBlob(function h(o,n){return typeof n>"u"?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\ufeff",o],{type:o.type}):o}(o,p),n);else if(u(o))l(o,n,p);else{var t=document.createElement("a");t.href=o,t.target="_blank",setTimeout(function(){d(t)})}}:function(o,n,p,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),"string"==typeof o)return l(o,n,p);var r="application/octet-stream"===o.type,s=/constructor/i.test(_.HTMLElement)||_.safari,e=/CriOS\/[\d]+/.test(navigator.userAgent);if((e||r&&s||f)&&typeof FileReader<"u"){var i=new FileReader;i.onloadend=function(){var A=i.result;A=e?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=A:location=A,t=null},i.readAsDataURL(o)}else{var v=_.URL||_.webkitURL,D=v.createObjectURL(o);t?t.location=D:location.href=D,t=null,setTimeout(function(){v.revokeObjectURL(D)},4e4)}});_.saveAs=g.saveAs=g,O.exports=g})?a.apply(P,[]):a)&&(O.exports=c)}}]);