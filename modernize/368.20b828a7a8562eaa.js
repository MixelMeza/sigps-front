"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[368],{9461:(P,j,c)=>{c.d(j,{I:()=>u});var g=c(1084),e=c(4438);let u=(()=>{class p{static{this.\u0275fac=function(b){return new(b||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[g.c9,g.h_,g.IQ]})}}return p})()},368:(P,j,c)=>{c.r(j),c.d(j,{PlanTrabajoModule:()=>Me});var g=c(177),e=c(4438),u=c(1084),p=c(5596),l=c(9417),F=c(1885),b=c(4013);const I=(r,d)=>d.key;function D(r,d){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s(),e.j41(23,"td"),e.EFF(24),e.k0s(),e.j41(25,"td"),e.EFF(26),e.k0s(),e.j41(27,"td"),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",29)(31,"button",30),e.nrm(32,"i",31),e.k0s(),e.j41(33,"button",32),e.nrm(34,"i",33),e.k0s()()()()),2&r){const n=d.$implicit;e.R7$(2),e.JRh(n.key),e.R7$(2),e.JRh(n.facultad),e.R7$(2),e.JRh(n.universidad),e.R7$(2),e.JRh(n.unidad_organica),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.duration),e.R7$(2),e.JRh(n.sede),e.R7$(2),e.JRh(n.beneficiados),e.R7$(2),e.JRh(n.valorizacion),e.R7$(2),e.JRh(n.responsable),e.R7$(2),e.JRh(n.estado)}}const M=[{key:1,facultad:"Facultad de Ingenier\xeda",universidad:"Universidad Nacional de Trujillo",unidad_organica:"Facultad de Ingenier\xeda",fecha_inicio:"11/07/2024",fecha_fin:"11/07/2024",compromiso:"Compromiso 1",detalle:"Detalle 1",duration:"1 a\xf1o",sede:"Sede 1",beneficiados:"Beneficiados 1",valorizacion:"Valorizaci\xf3n 1",responsable:"Universidad 1",estado:"Activo"},{key:2,facultad:"Facultad de Ingenier\xeda",universidad:"Universidad Nacional de Trujillo",unidad_organica:"Facultad de Ingenier\xeda",fecha_inicio:"11/07/2024",fecha_fin:"11/07/2024",compromiso:"Compromiso 1",detalle:"Detalle 1",duration:"1 a\xf1o",sede:"Sede 1",beneficiados:"Beneficiados 1",valorizacion:"Valorizaci\xf3n 1",responsable:"EsSalud",estado:"Activo"}];let z=(()=>{class r{constructor(n,i){this.modalService=i,this.page=1,this.pageSize=4,this.collectionSize=M.length,n.backdrop="static",n.keyboard=!1,this.refreshCountries()}ngOnInit(){}refreshCountries(){this.convenios=M.map((n,i)=>({id:i+1,...n})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}open(n){this.modalService.open(n)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.LY),e.rXU(u.Bq))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-convenio-universidad"]],decls:95,vars:21,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-4"],["name","","id","tipo_document",1,"form-control"],["value",""],[1,"col-md-3"],[3,"showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"col-md-12"],["for","facultad",1,"form-label","fw-bold"],["type","text","name","facultad","id","facultad","placeholder","Escribir facultad",1,"form-control"],[1,"col-md-2"],[1,"col-md-6"],["for","universidad",1,"form-label","fw-bold"],["type","text","name","universidad","id","universidad","placeholder","Escribir universidad",1,"form-control"],[1,"row","mt-2"],["for","unidad_organica",1,"form-label","fw-bold"],["type","text","name","unidad_organica","id","unidad_organica","placeholder","Escribir unidad organica",1,"form-control"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","name","fecha_inicio","id","fecha_inicio",1,"form-control"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","name","fecha_fin","id","fecha_fin",1,"form-control"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"d-flex"],[1,"btn","btn-sm","btn-outline-primary","me-1"],[1,"fa-regular","fa-eye"],[1,"btn","btn-sm","btn-outline-danger"],[1,"fa-solid","fa-trash"]],template:function(i,o){1&i&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"select",4)(6,"option",5),e.EFF(7,"Filtrar por Universidad"),e.k0s(),e.j41(8,"option",5),e.EFF(9,"UPeU"),e.k0s(),e.j41(10,"option",5),e.EFF(11,"UMSM"),e.k0s(),e.j41(12,"option",5),e.EFF(13,"UVR"),e.k0s()()(),e.nrm(14,"div",6),e.j41(15,"div",6)(16,"app-reusable-modal",7)(17,"div",2)(18,"div",8)(19,"label",9),e.EFF(20,"Compromiso"),e.k0s(),e.nrm(21,"input",10),e.k0s()()()(),e.j41(22,"div",11)(23,"app-reusable-modal",7)(24,"div",2)(25,"div",12)(26,"label",9),e.EFF(27,"Facultad"),e.k0s(),e.nrm(28,"input",10),e.k0s(),e.j41(29,"div",12)(30,"label",13),e.EFF(31,"Universidad"),e.k0s(),e.nrm(32,"input",14),e.k0s()(),e.j41(33,"div",15)(34,"div",8)(35,"label",16),e.EFF(36,"Unidad Organica"),e.k0s(),e.nrm(37,"input",17),e.k0s()(),e.j41(38,"div",15)(39,"div",12)(40,"label",18),e.EFF(41,"Fecha Inicio"),e.k0s(),e.nrm(42,"input",19),e.k0s(),e.j41(43,"div",12)(44,"label",20),e.EFF(45,"Fecha Fin"),e.k0s(),e.nrm(46,"input",21),e.k0s()()()()(),e.nrm(47,"br")(48,"br"),e.j41(49,"div",22)(50,"table",23)(51,"thead")(52,"tr")(53,"th",24),e.EFF(54,"N\xb0"),e.k0s(),e.j41(55,"th",24),e.EFF(56,"Facultad"),e.k0s(),e.j41(57,"th",24),e.EFF(58,"Universidad"),e.k0s(),e.j41(59,"th",24),e.EFF(60,"Unidad Organica"),e.k0s(),e.j41(61,"th",24),e.EFF(62,"Fecha Inicio"),e.k0s(),e.j41(63,"th",24),e.EFF(64,"Fecha Fin"),e.k0s(),e.j41(65,"th",24),e.EFF(66,"Compromiso"),e.k0s(),e.j41(67,"th",24),e.EFF(68,"Detalle"),e.k0s(),e.j41(69,"th",24),e.EFF(70,"Duraci\xf3n"),e.k0s(),e.j41(71,"th",24),e.EFF(72,"Sede"),e.k0s(),e.j41(73,"th",24),e.EFF(74,"Beneficiados"),e.k0s(),e.j41(75,"th",24),e.EFF(76,"Valorizaci\xf3n"),e.k0s(),e.j41(77,"th",24),e.EFF(78,"Responsable"),e.k0s(),e.j41(79,"th",24),e.EFF(80,"Estado"),e.k0s(),e.j41(81,"th",24),e.EFF(82,"OPC"),e.k0s()()(),e.j41(83,"tbody"),e.Z7z(84,D,35,14,"tr",null,I),e.k0s()()(),e.j41(86,"div",25)(87,"ngb-pagination",26),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshCountries()}),e.k0s(),e.j41(88,"select",27),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshCountries()}),e.j41(89,"option",28),e.EFF(90,"2 items per page"),e.k0s(),e.j41(91,"option",28),e.EFF(92,"4 items per page"),e.k0s(),e.j41(93,"option",28),e.EFF(94,"6 items per page"),e.k0s()()()()()),2&i&&(e.Y8G("cardTitle","Plan de Trabajo")("cardSubtitle","Convenios especificos de EsSalud - Universidades "),e.R7$(16),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar Compromiso")("title","Plan de Trabajo")("buttonText","Guardar"),e.R7$(7),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Plan de Trabajo")("buttonText","Guardar"),e.R7$(61),e.Dyx(o.convenios),e.R7$(3),e.Y8G("collectionSize",o.collectionSize),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[p.RN,p.m2,l.xH,l.y7,l.wz,l.BC,l.vS,u.s5,F.v,b.w]})}}return r})();var C=c(1185),A=c(5112),S=c(9107);c(4941);let y=(()=>{class r{constructor(){}exportPlanTrabajoPDF(n){const i=new S.default({orientation:"landscape"}),t=n.map((a,s)=>({numero:s+1,nombre:a.nombre||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",universidad:a.universidadDetalle?.nombre||"",acuerdos:a.acuerdo?.length||0,estado:a.estado?"Activo":"Inactivo"}));i.autoTable({head:[[{header:"N\xb0",dataKey:"numero"},{header:"Nombre",dataKey:"nombre"},{header:"Fecha Inicio",dataKey:"fecha_inicio"},{header:"Fecha Fin",dataKey:"fecha_fin"},{header:"Universidad",dataKey:"universidad"},{header:"N\xb0 de Acuerdos",dataKey:"acuerdos"},{header:"Estado",dataKey:"estado"}].map(a=>a.header)],body:t.map(a=>Object.values(a)),theme:"striped",styles:{fontSize:8,cellPadding:1},margin:{top:20}}),i.save("plan_trabajo_postgrado.pdf")}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var m=c(2288);let N=(()=>{class r{constructor(){}exportarConveniosExcel(n){const i=n.map((a,s)=>({"N\xb0":s+1,Nombre:a.nombre||"","Fecha Inicio":a.fecha_inicio||"","Fecha Fin":a.fecha_fin||"",Universidad:a.universidadDetalle?.nombre||"",Acuerdos:a.acuerdo?.length||0,Estado:a.estado?"Activo":"Inactivo"})),o=m.Wp.json_to_sheet(i),t=m.Wp.book_new();m.Wp.book_append_sheet(t,o,"Convenios Pregrado"),m._h(t,"Convenios_Postgrado.xlsx")}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var h=c(8498);const V=(r,d)=>({"text-success":r,"text-danger":d}),x=r=>["/plan-trabajo/detalle",r];function B(r,d){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function G(r,d){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function U(r,d){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",34),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",35),e.EFF(12),e.k0s(),e.j41(13,"td",35)(14,"span",36),e.nrm(15,"i",36),e.k0s()(),e.j41(16,"td",37)(17,"div",38)(18,"app-reusable-modal",39),e.bIt("buttonClick",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.updatePlanTrabajo(o.id,o))}),e.j41(19,"div",2)(20,"div",3)(21,"label",10),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"input",11),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.nombre,o)||(t.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",3)(25,"label",12),e.EFF(26,"Universidad"),e.k0s(),e.j41(27,"select",13),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.universidad,o)||(t.universidad=o),e.Njj(o)}),e.j41(28,"option"),e.EFF(29,"Selecione la Universidad"),e.k0s(),e.DNE(30,G,2,2,"option",14),e.k0s()()(),e.j41(31,"div",15)(32,"div",3)(33,"label",16),e.EFF(34,"Fecha Inicio"),e.k0s(),e.j41(35,"input",17),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.fecha_inicio,o)||(t.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(36,"div",3)(37,"label",18),e.EFF(38,"Fecha Fin"),e.k0s(),e.j41(39,"input",19),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.fecha_fin,o)||(t.fecha_fin=o),e.Njj(o)}),e.k0s()()()(),e.j41(40,"button",40),e.nrm(41,"i",41),e.EFF(42,"Ver Detalle "),e.k0s()()()()}if(2&r){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.nombre),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(null==n.universidadDetalle?null:n.universidadDetalle.nombre),e.R7$(2),e.JRh(n.acuerdo.length),e.R7$(2),e.Y8G("ngClass",e.l_i(20,V,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(3),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","edit")("buttonTitle","")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",n.nombre),e.R7$(4),e.R50("ngModel",n.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",n.fecha_inicio),e.R7$(4),e.R50("ngModel",n.fecha_fin),e.R7$(),e.Y8G("routerLink",e.eq3(23,x,n.id))}}let O=(()=>{class r{constructor(n,i,o,t,a,s){this.modalService=i,this.planTrabajoService=o,this.universidadesService=t,this.exportPdfService=a,this.exportExcelService=s,this.page=1,this.pageSize=4,this.CONVENIOS=[],this.convenios=[],this.collection=0,this.listuniversidades=[],this.searchTerm="",this.newConvenio={nombre:"",is_postgrado:!0,fecha_inicio:"",fecha_fin:"",estado:!0,universidad:"",acuerdo:[]},n.backdrop="static",n.keyboard=!1,this.refreshPlanTrabajo()}ngOnInit(){this.getPlanTrabajo(),this.getUniversidades()}refreshPlanTrabajo(){let n=this.CONVENIOS;this.searchTerm&&(n=n.filter(i=>{const o=i.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),t=i.universidadDetalle?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase());return o||t})),this.collection=n.length,this.convenios=n.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),0===this.convenios.length&&this.page>1&&(this.page--,this.refreshPlanTrabajo())}onSearchTermChange(){this.refreshPlanTrabajo()}open(n){this.modalService.open(n)}getUniversidades(){this.universidadesService.getUniversidades().subscribe(n=>{console.log(n),this.listuniversidades=n},n=>{console.error(n)})}getPlanTrabajo(){this.planTrabajoService.getPlanTrabajo().subscribe({next:n=>{const i=n.filter(o=>!0===o.is_postgrado);this.CONVENIOS=i,this.collection=i.length,this.refreshPlanTrabajo(),this.universidadesService.getUniversidades().subscribe({next:o=>{i.forEach(t=>{if(t.universidad){const a=o.find(s=>s.id===t.universidad);a&&(t.universidadDetalle=a)}})},error:o=>{console.error("Error fetching universidades:",o)}})},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createPlanTrabajo(){this.planTrabajoService.createPlanTrabajo(this.newConvenio).subscribe(n=>{console.log(n),console.log("Datos enviados:",this.newConvenio),this.getPlanTrabajo()},n=>{console.error(n)})}updatePlanTrabajo(n,i){this.planTrabajoService.updatePlanTrabajo(n,i).subscribe(o=>{console.log(o),this.getPlanTrabajo()},o=>{console.error(o)})}exportarPDF(){this.exportPdfService.exportPlanTrabajoPDF(this.convenios)}exportarExcel(){this.exportExcelService.exportarConveniosExcel(this.convenios)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C.a),e.rXU(A.k),e.rXU(y),e.rXU(N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-postgrado"]],features:[e.Jv_([u.LY,u.Bq])],decls:71,vars:22,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"example-input","position-relative"],["type","text","placeholder","Buscar por nombre de plan o universidad",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"position","absolute","right","0","top","0"],[1,"fas","fa-search"],[2,"text-align","right"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],["for","universidad",1,"form-label","fw-bold"],["name","universidad","id","universidad",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","id","fecha_inicio","name","fecha_inicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","id","fecha_fin","name","fecha_fin",1,"form-control",3,"ngModelChange","ngModel"],["nz-button","","nzType","link",1,"fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-pdf","me-2"],["nz-button","","nzType","link",1,"text-success","fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-excel","me-2"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"justify-content-center","d-flex"],[1,"d-flex"],[1,"me-1",3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"routerLink"],[1,""]],template:function(i,o){1&i&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(a){return e.DH7(o.searchTerm,a)||(o.searchTerm=a),a}),e.bIt("input",function(){return o.onSearchTermChange()}),e.k0s(),e.j41(7,"button",6),e.nrm(8,"i",7),e.k0s()()(),e.j41(9,"div",3)(10,"div",8)(11,"app-reusable-modal",9),e.bIt("buttonClick",function(){return o.createPlanTrabajo()}),e.j41(12,"div",2)(13,"div",3)(14,"label",10),e.EFF(15,"Nombre"),e.k0s(),e.j41(16,"input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.nombre,a)||(o.newConvenio.nombre=a),a}),e.k0s()(),e.j41(17,"div",3)(18,"label",12),e.EFF(19,"Universidad"),e.k0s(),e.j41(20,"select",13),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.universidad,a)||(o.newConvenio.universidad=a),a}),e.j41(21,"option"),e.EFF(22,"Selecione la Universidad"),e.k0s(),e.DNE(23,B,2,2,"option",14),e.k0s()()(),e.j41(24,"div",15)(25,"div",3)(26,"label",16),e.EFF(27,"Fecha Inicio"),e.k0s(),e.j41(28,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_inicio,a)||(o.newConvenio.fecha_inicio=a),a}),e.k0s()(),e.j41(29,"div",3)(30,"label",18),e.EFF(31,"Fecha Fin"),e.k0s(),e.j41(32,"input",19),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_fin,a)||(o.newConvenio.fecha_fin=a),a}),e.k0s()()()(),e.j41(33,"a",20),e.bIt("click",function(){return o.exportarPDF()}),e.nrm(34,"i",21),e.EFF(35," Exportar PDF "),e.k0s(),e.j41(36,"a",22),e.bIt("click",function(){return o.exportarExcel()}),e.nrm(37,"i",23),e.EFF(38," Exportar Excel "),e.k0s()()()(),e.nrm(39,"br"),e.j41(40,"div",24)(41,"table",25)(42,"thead")(43,"tr")(44,"th",26),e.EFF(45,"N\xb0"),e.k0s(),e.j41(46,"th",26),e.EFF(47,"Nombre"),e.k0s(),e.j41(48,"th",26),e.EFF(49,"Fec. Inicio"),e.k0s(),e.j41(50,"th",26),e.EFF(51,"Fec. Fin"),e.k0s(),e.j41(52,"th",26),e.EFF(53,"Universidad"),e.k0s(),e.j41(54,"th",27),e.EFF(55,"Acuerdos"),e.k0s(),e.j41(56,"th",27),e.EFF(57,"Estado"),e.k0s(),e.j41(58,"th",27),e.EFF(59,"Acciones"),e.k0s()()(),e.j41(60,"tbody"),e.DNE(61,U,43,25,"tr",28),e.k0s()()(),e.j41(62,"div",29)(63,"ngb-pagination",30),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshPlanTrabajo()}),e.k0s(),e.j41(64,"select",31),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshPlanTrabajo()}),e.j41(65,"option",32),e.EFF(66,"2 items per page"),e.k0s(),e.j41(67,"option",32),e.EFF(68,"4 items per page"),e.k0s(),e.j41(69,"option",32),e.EFF(70,"6 items per page"),e.k0s()()()()()),2&i&&(e.Y8G("cardTitle","Plan de Trabajo Postgrado")("cardSubtitle","Convenios especificos de EsSalud - Universidades"),e.R7$(6),e.R50("ngModel",o.searchTerm),e.R7$(5),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newConvenio.nombre),e.R7$(4),e.R50("ngModel",o.newConvenio.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",o.newConvenio.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newConvenio.fecha_fin),e.R7$(29),e.Y8G("ngForOf",o.convenios),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[g.YU,g.Sq,h.Wk,p.RN,p.m2,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,u.s5,F.v,b.w],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.filter-title[_ngcontent-%COMP%]{font-size:13px;color:#8f9bb3;margin-bottom:5px}.input-rounded[_ngcontent-%COMP%]{border-radius:50px;padding:0 15px}.icon-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:none;background:transparent;cursor:pointer;color:#276ca1}.icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#276ca1}.btn-blue[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.ayuda-btn[_ngcontent-%COMP%]{background-color:#007bff!important;border-color:#007bff!important;color:#fff}"]})}}return r})(),$=(()=>{class r{constructor(){}exportPlanTrabajoPDF(n){const i=new S.default({orientation:"landscape"}),t=n.map((a,s)=>({numero:s+1,nombre:a.nombre||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",universidad:a.universidadDetalle?.nombre||"",acuerdos:a.acuerdo?.length||0,estado:a.estado?"Activo":"Inactivo"}));i.autoTable({head:[[{header:"N\xb0",dataKey:"numero"},{header:"Nombre",dataKey:"nombre"},{header:"Fecha Inicio",dataKey:"fecha_inicio"},{header:"Fecha Fin",dataKey:"fecha_fin"},{header:"Universidad",dataKey:"universidad"},{header:"N\xb0 de Acuerdos",dataKey:"acuerdos"},{header:"Estado",dataKey:"estado"}].map(a=>a.header)],body:t.map(a=>Object.values(a)),theme:"striped",styles:{fontSize:8,cellPadding:1},margin:{top:20}}),i.save("plan_trabajo_pregrado.pdf")}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),H=(()=>{class r{constructor(){}exportarConveniosExcel(n){const i=n.map((a,s)=>({"N\xb0":s+1,Nombre:a.nombre||"","Fecha Inicio":a.fecha_inicio||"","Fecha Fin":a.fecha_fin||"",Universidad:a.universidadDetalle?.nombre||"",Acuerdos:a.acuerdo?.length||0,Estado:a.estado?"Activo":"Inactivo"})),o=m.Wp.json_to_sheet(i),t=m.Wp.book_new();m.Wp.book_append_sheet(t,o,"Convenios Pregrado"),m._h(t,"Convenios_Pregrado.xlsx")}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Y=(r,d)=>({"text-success":r,"text-danger":d}),X=r=>["/plan-trabajo/pre-detalle",r];function J(r,d){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function L(r,d){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=d.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function W(r,d){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",34),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",35),e.EFF(12),e.k0s(),e.j41(13,"td",35)(14,"span",36),e.nrm(15,"i",36),e.k0s()(),e.j41(16,"td",37)(17,"div",38)(18,"app-reusable-modal",39),e.bIt("buttonClick",function(){const o=e.eBV(n).$implicit,t=e.XpG();return e.Njj(t.updatePlanTrabajo(o.id,o))}),e.j41(19,"div",2)(20,"div",3)(21,"label",10),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"input",11),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.nombre,o)||(t.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",3)(25,"label",12),e.EFF(26,"Universidad"),e.k0s(),e.j41(27,"select",13),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.universidad,o)||(t.universidad=o),e.Njj(o)}),e.j41(28,"option"),e.EFF(29,"Selecione la Universidad"),e.k0s(),e.DNE(30,L,2,2,"option",14),e.k0s()()(),e.j41(31,"div",15)(32,"div",3)(33,"label",16),e.EFF(34,"Fecha Inicio"),e.k0s(),e.j41(35,"input",17),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.fecha_inicio,o)||(t.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(36,"div",3)(37,"label",18),e.EFF(38,"Fecha Fin"),e.k0s(),e.j41(39,"input",19),e.mxI("ngModelChange",function(o){const t=e.eBV(n).$implicit;return e.DH7(t.fecha_fin,o)||(t.fecha_fin=o),e.Njj(o)}),e.k0s()()()(),e.j41(40,"button",40),e.nrm(41,"i",41),e.EFF(42,"Ver Detalle "),e.k0s()()()()}if(2&r){const n=d.$implicit,i=d.index,o=e.XpG();e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.nombre),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(null==n.universidadDetalle?null:n.universidadDetalle.nombre),e.R7$(2),e.JRh(n.acuerdo.length),e.R7$(2),e.Y8G("ngClass",e.l_i(20,Y,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(3),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","edit")("buttonTitle","")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",n.nombre),e.R7$(4),e.R50("ngModel",n.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",n.fecha_inicio),e.R7$(4),e.R50("ngModel",n.fecha_fin),e.R7$(),e.Y8G("routerLink",e.eq3(23,X,n.id))}}let K=(()=>{class r{constructor(n,i,o,t,a,s){this.modalService=i,this.planTrabajoService=o,this.universidadesService=t,this.exportPdfService=a,this.exportExcelService=s,this.page=1,this.pageSize=4,this.CONVENIOS=[],this.convenios=[],this.collection=0,this.listuniversidades=[],this.searchTerm="",this.newConvenio={nombre:"",is_postgrado:!1,fecha_inicio:"",fecha_fin:"",estado:!0,universidad:"",acuerdo:[]},n.backdrop="static",n.keyboard=!1,this.refreshPlanTrabajo()}ngOnInit(){this.getPlanTrabajo(),this.getUniversidades()}refreshPlanTrabajo(){let n=this.CONVENIOS;this.searchTerm&&(n=n.filter(i=>{const o=i.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),t=i.universidadDetalle?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase());return o||t})),this.collection=n.length,this.convenios=n.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),0===this.convenios.length&&this.page>1&&(this.page--,this.refreshPlanTrabajo())}open(n){this.modalService.open(n)}onSearchTermChange(){this.refreshPlanTrabajo()}getUniversidades(){this.universidadesService.getUniversidades().subscribe(n=>{console.log(n),this.listuniversidades=n},n=>{console.error(n)})}getPlanTrabajo(){this.planTrabajoService.getPlanTrabajo().subscribe({next:n=>{const i=n.filter(o=>!1===o.is_postgrado);this.CONVENIOS=i,this.collection=i.length,this.refreshPlanTrabajo(),this.universidadesService.getUniversidades().subscribe({next:o=>{i.forEach(t=>{if(t.universidad){const a=o.find(s=>s.id===t.universidad);a&&(t.universidadDetalle=a)}})},error:o=>{console.error("Error fetching universidades:",o)}})},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createPlanTrabajo(){this.planTrabajoService.createPlanTrabajo(this.newConvenio).subscribe(n=>{console.log(n),console.log("Datos enviados:",this.newConvenio),this.getPlanTrabajo()},n=>{console.error(n)})}updatePlanTrabajo(n,i){this.planTrabajoService.updatePlanTrabajo(n,i).subscribe(o=>{console.log(o),this.getPlanTrabajo()},o=>{console.error(o)})}exportarPDF(){this.exportPdfService.exportPlanTrabajoPDF(this.convenios)}exportarExcel(){this.exportExcelService.exportarConveniosExcel(this.convenios)}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C.a),e.rXU(A.k),e.rXU($),e.rXU(H))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-grado"]],features:[e.Jv_([u.LY,u.Bq])],decls:71,vars:22,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"example-input","position-relative"],["type","text","placeholder","Buscar por nombre de plan o universidad",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"position","absolute","right","0","top","0"],[1,"fas","fa-search"],[2,"text-align","right"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],["for","universidad",1,"form-label","fw-bold"],["name","universidad","id","universidad",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","id","fecha_inicio","name","fecha_inicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","id","fecha_fin","name","fecha_fin",1,"form-control",3,"ngModelChange","ngModel"],["nz-button","","nzType","link",1,"fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-pdf","me-2"],["nz-button","","nzType","link",1,"text-success","fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-excel","me-2"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"justify-content-center","d-flex"],[1,"d-flex"],[1,"me-1",3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"routerLink"],[1,""]],template:function(i,o){1&i&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(a){return e.DH7(o.searchTerm,a)||(o.searchTerm=a),a}),e.bIt("input",function(){return o.onSearchTermChange()}),e.k0s(),e.j41(7,"button",6),e.nrm(8,"i",7),e.k0s()()(),e.j41(9,"div",3)(10,"div",8)(11,"app-reusable-modal",9),e.bIt("buttonClick",function(){return o.createPlanTrabajo()}),e.j41(12,"div",2)(13,"div",3)(14,"label",10),e.EFF(15,"Nombre"),e.k0s(),e.j41(16,"input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.nombre,a)||(o.newConvenio.nombre=a),a}),e.k0s()(),e.j41(17,"div",3)(18,"label",12),e.EFF(19,"Universidad"),e.k0s(),e.j41(20,"select",13),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.universidad,a)||(o.newConvenio.universidad=a),a}),e.j41(21,"option"),e.EFF(22,"Selecione la Universidad"),e.k0s(),e.DNE(23,J,2,2,"option",14),e.k0s()()(),e.j41(24,"div",15)(25,"div",3)(26,"label",16),e.EFF(27,"Fecha Inicio"),e.k0s(),e.j41(28,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_inicio,a)||(o.newConvenio.fecha_inicio=a),a}),e.k0s()(),e.j41(29,"div",3)(30,"label",18),e.EFF(31,"Fecha Inicio"),e.k0s(),e.j41(32,"input",19),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_fin,a)||(o.newConvenio.fecha_fin=a),a}),e.k0s()()()(),e.j41(33,"a",20),e.bIt("click",function(){return o.exportarPDF()}),e.nrm(34,"i",21),e.EFF(35," Exportar PDF "),e.k0s(),e.j41(36,"a",22),e.bIt("click",function(){return o.exportarExcel()}),e.nrm(37,"i",23),e.EFF(38," Exportar Excel "),e.k0s()()()(),e.nrm(39,"br"),e.j41(40,"div",24)(41,"table",25)(42,"thead")(43,"tr")(44,"th",26),e.EFF(45,"N\xb0"),e.k0s(),e.j41(46,"th",26),e.EFF(47,"Nombre"),e.k0s(),e.j41(48,"th",26),e.EFF(49,"Fec. Inicio"),e.k0s(),e.j41(50,"th",26),e.EFF(51,"Fec. Fin"),e.k0s(),e.j41(52,"th",26),e.EFF(53,"Universidad"),e.k0s(),e.j41(54,"th",27),e.EFF(55,"Acuerdos"),e.k0s(),e.j41(56,"th",27),e.EFF(57,"Estado"),e.k0s(),e.j41(58,"th",27),e.EFF(59,"Detalle"),e.k0s()()(),e.j41(60,"tbody"),e.DNE(61,W,43,25,"tr",28),e.k0s()()(),e.j41(62,"div",29)(63,"ngb-pagination",30),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshPlanTrabajo()}),e.k0s(),e.j41(64,"select",31),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshPlanTrabajo()}),e.j41(65,"option",32),e.EFF(66,"2 items per page"),e.k0s(),e.j41(67,"option",32),e.EFF(68,"4 items per page"),e.k0s(),e.j41(69,"option",32),e.EFF(70,"6 items per page"),e.k0s()()()()()),2&i&&(e.Y8G("cardTitle","Plan de Trabajo Pregrado")("cardSubtitle","Convenios especificos de EsSalud - Universidades"),e.R7$(6),e.R50("ngModel",o.searchTerm),e.R7$(5),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newConvenio.nombre),e.R7$(4),e.R50("ngModel",o.newConvenio.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",o.newConvenio.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newConvenio.fecha_fin),e.R7$(29),e.Y8G("ngForOf",o.convenios),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[g.YU,g.Sq,h.Wk,p.RN,p.m2,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,u.s5,F.v,b.w],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.filter-title[_ngcontent-%COMP%]{font-size:13px;color:#8f9bb3;margin-bottom:5px}.input-rounded[_ngcontent-%COMP%]{border-radius:50px;padding:0 15px}.icon-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:none;background:transparent;cursor:pointer;color:#276ca1}.icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#276ca1}.btn-blue[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.ayuda-btn[_ngcontent-%COMP%]{background-color:#007bff!important;border-color:#007bff!important;color:#fff}"]})}}return r})();var v=c(5357),k=c(6354),f=c(9437),_=c(8810),Q=c(7468),Z=c(1626),q=c(1339),ee=c(5794),oe=c(1416);let R=(()=>{class r{constructor(n,i,o,t){this.http=n,this.authService=i,this.toastr=o,this.getHeaders=t,this.apiPlanTrabajo=v.i.baseUrl+v.i.planTrabajo,this.apiAcuerdos=v.i.baseUrl+v.i.acuerdos}getAcuerdos(){const n=this.getHeaders.getHeaders();return this.http.get(this.apiAcuerdos,{headers:n}).pipe((0,k.T)(i=>i),(0,f.W)(i=>i))}getPlanTrabajoById(n){const i=this.getHeaders.getHeaders();return this.http.get(`${this.apiPlanTrabajo}${n}/`,{headers:i}).pipe((0,f.W)(t=>(console.error("Error fetching plan de trabajo:",t),(0,_.$)(()=>t))))}getAcuerdosByDetalle(n){const i=this.getHeaders.getHeaders();return this.http.get(`${this.apiAcuerdos}${n}/`,{headers:i}).pipe((0,f.W)(t=>(console.error("Error fetching acuerdo:",t),(0,_.$)(()=>t))))}getAcuerdosByIds(n){const i=n.map(o=>this.getAcuerdosByDetalle(o));return(0,Q.p)(i).pipe((0,f.W)(o=>(console.error("Error fetching acuerdos:",o),(0,_.$)(()=>o))))}createAcuerdos(n){const i=this.getHeaders.getHeaders();return this.http.post(this.apiAcuerdos,n,{headers:i}).pipe((0,k.T)(o=>o),(0,f.W)(o=>(console.error("Error creating Acuerdo:",o),(0,_.$)(()=>o))))}updateAcuerdo(n,i){const o=this.getHeaders.getHeaders();return this.http.put(`${this.apiAcuerdos}${n}/`,i,{headers:o}).pipe((0,k.T)(t=>t),(0,f.W)(t=>(console.error("Error updating Acuerdo:",t),(0,_.$)(()=>t))))}changeStateCarreraTrue(n,i){const o=this.getHeaders.getHeaders();return this.http.patch(`${this.apiAcuerdos}${n}/`,{estado:i},{headers:o}).pipe((0,k.T)(t=>{this.toastr.success("Entidad eliminada correctamente")}),(0,f.W)(t=>(console.error("Error changing state Acuerdo:",t),(0,_.$)(()=>t))))}static{this.\u0275fac=function(i){return new(i||r)(e.KVO(Z.Qq),e.KVO(q.u),e.KVO(ee.tw),e.KVO(oe.y))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const ne=()=>["/plan-trabajo/postgrado"],te=(r,d)=>({"text-success":r,"text-danger":d});function ie(r,d){if(1&r){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.patchEstado(o.id,!1))}),e.nrm(1,"i",34),e.k0s()}}function ae(r,d){if(1&r){const n=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.patchEstado(o.id,!0))}),e.nrm(1,"i",36),e.k0s()}}function re(r,d){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",24),e.EFF(2),e.k0s(),e.j41(3,"td",25),e.EFF(4),e.k0s(),e.j41(5,"td",25),e.EFF(6),e.k0s(),e.j41(7,"td",25),e.EFF(8),e.k0s(),e.j41(9,"td",25),e.EFF(10),e.k0s(),e.j41(11,"td",25),e.EFF(12),e.k0s(),e.j41(13,"td",25),e.EFF(14),e.k0s(),e.j41(15,"td",25),e.EFF(16),e.k0s(),e.j41(17,"td",26)(18,"span",27),e.nrm(19,"i",27),e.k0s()(),e.j41(20,"td",25)(21,"div",28)(22,"button",29),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG(),a=e.sdS(62);return e.Njj(t.openEditModal(o,a))}),e.nrm(23,"i",30),e.k0s(),e.DNE(24,ie,2,0,"button",31)(25,ae,2,0,"button",32),e.k0s()()()}if(2&r){const n=d.$implicit,i=d.index;e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.beneficiarios),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.SpI("S/.",n.valorizacion,""),e.R7$(2),e.JRh(n.is_esssalud_responsable?"Essalud":"Externo"),e.R7$(2),e.Y8G("ngClass",e.l_i(12,te,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(5),e.Y8G("ngIf",n.estado),e.R7$(),e.Y8G("ngIf",!n.estado)}}function se(r,d){if(1&r){const n=e.RV6();e.j41(0,"div",37)(1,"h4",38),e.EFF(2,"Editar Acuerdo"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.k0s()(),e.j41(4,"div",40)(5,"form")(6,"div",41)(7,"label",42),e.EFF(8,"Compromiso"),e.k0s(),e.j41(9,"input",43),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.compromiso,o)||(t.newAcuerdo.compromiso=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",41)(11,"label",44),e.EFF(12,"Detalle"),e.k0s(),e.j41(13,"input",45),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.detalle,o)||(t.newAcuerdo.detalle=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",41)(15,"label",46),e.EFF(16,"Beneficiarios"),e.k0s(),e.j41(17,"input",47),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.beneficiarios,o)||(t.newAcuerdo.beneficiarios=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",41)(19,"label",48),e.EFF(20,"Fecha Inicio"),e.k0s(),e.j41(21,"input",49),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.fecha_inicio,o)||(t.newAcuerdo.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div",41)(23,"label",50),e.EFF(24,"Fecha Fin"),e.k0s(),e.j41(25,"input",51),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.fecha_fin,o)||(t.newAcuerdo.fecha_fin=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",41)(27,"label",52),e.EFF(28,"Valorizaci\xf3n"),e.k0s(),e.j41(29,"input",53),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.valorizacion,o)||(t.newAcuerdo.valorizacion=o),e.Njj(o)}),e.k0s()()()(),e.j41(30,"div",54)(31,"button",55),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.EFF(32,"Cancelar"),e.k0s(),e.j41(33,"button",56),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.XpG().updateAcuerdo(),e.Njj(o.close())}),e.EFF(34,"Guardar"),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(9),e.R50("ngModel",n.newAcuerdo.compromiso),e.R7$(4),e.R50("ngModel",n.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",n.newAcuerdo.beneficiarios),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_fin),e.R7$(4),e.R50("ngModel",n.newAcuerdo.valorizacion)}}let le=(()=>{class r{constructor(n,i,o,t,a){this.route=n,this.modalService=o,this.acuerdosService=t,this.router=a,this.page=1,this.pageSize=10,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.pasarId="",this.planNombre="",this.essaludValorizacion=0,this.externoValorizacion=0,this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},i.backdrop="static",i.keyboard=!1,this.refreshAcuerdos()}arreglarDecimales(n){return n.toFixed(2)}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.pasarId=this.convenioId,this.getPlanTrabajo()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getPlanTrabajo(){this.acuerdosService.getPlanTrabajoById(this.convenioId).subscribe({next:n=>{this.getAcuerdos(n.acuerdo),this.planNombre=n.nombre,console.log("Plan de trabajo:",n)},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}patchEstado(n,i){this.acuerdosService.changeStateCarreraTrue(n,i).subscribe({next:o=>{console.log("Carrera updated successfully:",o),this.getPlanTrabajo(),this.refreshAcuerdos()},error:o=>{console.error("Error updating carrera:",o)}})}getAcuerdos(n){this.acuerdosService.getAcuerdosByIds(n).subscribe({next:i=>{this.ACUERDOS=i,this.collection=i.length,this.essaludValorizacion=0,this.externoValorizacion=0,i.forEach(o=>{o.is_esssalud_responsable?this.essaludValorizacion+=Number(o.valorizacion):this.externoValorizacion+=Number(o.valorizacion)}),this.refreshAcuerdos()},error:i=>{console.error("Error fetching acuerdos:",i)}})}getPasarId(){this.router.navigate(["/plan-trabajo/registro-plan",this.pasarId])}openEditModal(n,i){this.newAcuerdo={...n},this.modalService.open(i)}updateAcuerdo(){const n=this.newAcuerdo.id;n?this.acuerdosService.updateAcuerdo(n,this.newAcuerdo).subscribe({next:i=>{console.log("Acuerdo updated successfully:",i),this.getPlanTrabajo(),this.refreshAcuerdos(),this.modalService.dismissAll()},error:i=>{console.error("Error updating acuerdo:",i)}}):console.error("No se puede actualizar el acuerdo: ID es indefinido")}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(h.nX),e.rXU(u.LY),e.rXU(u.Bq),e.rXU(R),e.rXU(h.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-detalle"]],decls:63,vars:14,consts:[["editModal",""],[1,"cardWithShadow",3,"click"],[1,"row"],[1,"col-md-6"],[1,"d-flex"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"routerLink"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"cardWithShadow"],[1,"col-md-4"],[2,"text-align","right"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-circle-plus"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"align-middle"],[1,"text-center","align-middle"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","compromiso",1,"form-label"],["id","compromiso","name","compromiso",1,"form-control",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label"],["id","detalle","name","detalle",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label"],["id","beneficiarios","name","beneficiarios",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label"],["id","fechaInicio","type","date","name","fechaInicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label"],["id","fechaFin","type","date","name","fechaFin",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label"],["id","valorizacion","type","number","name","valorizacion",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"mat-card",1),e.bIt("click",function(s){return e.eBV(t),e.Njj(s.stopPropagation())}),e.j41(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.nrm(7,"i",7),e.k0s()(),e.nrm(8,"div",5),e.j41(9,"mat-card-title",8),e.EFF(10),e.k0s()()(),e.nrm(11,"div",9),e.k0s()()(),e.j41(12,"mat-card",10)(13,"mat-card-content")(14,"div",2)(15,"div",11)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"div",11)(19,"span"),e.EFF(20),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){return e.eBV(t),e.Njj(o.getPasarId())}),e.nrm(23,"i",14),e.EFF(24," Agregar "),e.k0s()(),e.nrm(25,"br"),e.j41(26,"div",15)(27,"table",16)(28,"thead")(29,"tr")(30,"th",17),e.EFF(31,"N\xb0"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Compromiso"),e.k0s(),e.j41(34,"th",17),e.EFF(35,"Detalle"),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Beneficiarios"),e.k0s(),e.j41(38,"th",17),e.EFF(39,"Fec. Inicio"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Fec. Fin"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"Valorizaci\xf3n"),e.k0s(),e.j41(44,"th",17),e.EFF(45,"Responsable"),e.k0s(),e.j41(46,"th",18),e.EFF(47,"Estado"),e.k0s(),e.j41(48,"th",18),e.EFF(49,"OPC"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,re,26,15,"tr",19),e.k0s()()(),e.j41(52,"div",20)(53,"ngb-pagination",21),e.mxI("pageChange",function(s){return e.eBV(t),e.DH7(o.page,s)||(o.page=s),e.Njj(s)}),e.bIt("pageChange",function(){return e.eBV(t),e.Njj(o.refreshAcuerdos())}),e.k0s(),e.j41(54,"select",22),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.pageSize,s)||(o.pageSize=s),e.Njj(s)}),e.bIt("ngModelChange",function(){return e.eBV(t),e.Njj(o.refreshAcuerdos())}),e.j41(55,"option",23),e.EFF(56,"10 items per page"),e.k0s(),e.j41(57,"option",23),e.EFF(58,"15 items per page"),e.k0s(),e.j41(59,"option",23),e.EFF(60,"20 items per page"),e.k0s()()()()(),e.DNE(61,se,35,6,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(13,ne)),e.R7$(4),e.SpI("Detalle de ",o.planNombre,""),e.R7$(7),e.SpI("Valorizaci\xf3n RPA: S/. ",o.arreglarDecimales(o.essaludValorizacion),""),e.R7$(3),e.Lme("Valorizaci\xf3n ",o.planNombre,": S/. ",o.arreglarDecimales(o.externoValorizacion),""),e.R7$(31),e.Y8G("ngForOf",o.acuerdos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",20))},dependencies:[g.YU,g.Sq,g.bT,h.Wk,p.RN,p.m2,p.dh,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.vS,l.cV,u.s5],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})();var w=c(8084),T=c(8557);const de=()=>["/plan-trabajo/pre-grado"],ue=(r,d)=>({"text-success":r,"text-danger":d});function pe(r,d){if(1&r){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.patchEstado(o.id,!1))}),e.nrm(1,"i",34),e.k0s()}}function ge(r,d){if(1&r){const n=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,t=e.XpG();return e.Njj(t.patchEstado(o.id,!0))}),e.nrm(1,"i",36),e.k0s()}}function he(r,d){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",24),e.EFF(2),e.k0s(),e.j41(3,"td",25),e.EFF(4),e.k0s(),e.j41(5,"td",25),e.EFF(6),e.k0s(),e.j41(7,"td",25),e.EFF(8),e.k0s(),e.j41(9,"td",25),e.EFF(10),e.k0s(),e.j41(11,"td",25),e.EFF(12),e.k0s(),e.j41(13,"td",25),e.EFF(14),e.k0s(),e.j41(15,"td",25),e.EFF(16),e.k0s(),e.j41(17,"td",26)(18,"span",27),e.nrm(19,"i",27),e.k0s()(),e.j41(20,"td",25)(21,"div",28)(22,"button",29),e.bIt("click",function(){const o=e.eBV(n).$implicit,t=e.XpG(),a=e.sdS(62);return e.Njj(t.openEditModal(o,a))}),e.nrm(23,"i",30),e.k0s(),e.DNE(24,pe,2,0,"button",31)(25,ge,2,0,"button",32),e.k0s()()()}if(2&r){const n=d.$implicit,i=d.index;e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.beneficiarios),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.SpI("S/.",n.valorizacion,""),e.R7$(2),e.JRh(n.is_esssalud_responsable?"Essalud":"Externo"),e.R7$(2),e.Y8G("ngClass",e.l_i(12,ue,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(5),e.Y8G("ngIf",n.estado),e.R7$(),e.Y8G("ngIf",!n.estado)}}function me(r,d){if(1&r){const n=e.RV6();e.j41(0,"div",37)(1,"h4",38),e.EFF(2,"Editar Acuerdo"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.k0s()(),e.j41(4,"div",40)(5,"form")(6,"div",41)(7,"label",42),e.EFF(8,"Compromiso"),e.k0s(),e.j41(9,"input",43),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.compromiso,o)||(t.newAcuerdo.compromiso=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",41)(11,"label",44),e.EFF(12,"Detalle"),e.k0s(),e.j41(13,"input",45),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.detalle,o)||(t.newAcuerdo.detalle=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",41)(15,"label",46),e.EFF(16,"Beneficiarios"),e.k0s(),e.j41(17,"input",47),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.beneficiarios,o)||(t.newAcuerdo.beneficiarios=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",41)(19,"label",48),e.EFF(20,"Fecha Inicio"),e.k0s(),e.j41(21,"input",49),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.fecha_inicio,o)||(t.newAcuerdo.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div",41)(23,"label",50),e.EFF(24,"Fecha Fin"),e.k0s(),e.j41(25,"input",51),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.fecha_fin,o)||(t.newAcuerdo.fecha_fin=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",41)(27,"label",52),e.EFF(28,"Valorizaci\xf3n"),e.k0s(),e.j41(29,"input",53),e.mxI("ngModelChange",function(o){e.eBV(n);const t=e.XpG();return e.DH7(t.newAcuerdo.valorizacion,o)||(t.newAcuerdo.valorizacion=o),e.Njj(o)}),e.k0s()()()(),e.j41(30,"div",54)(31,"button",55),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.EFF(32,"Cancelar"),e.k0s(),e.j41(33,"button",56),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.XpG().updateAcuerdo(),e.Njj(o.close())}),e.EFF(34,"Guardar"),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(9),e.R50("ngModel",n.newAcuerdo.compromiso),e.R7$(4),e.R50("ngModel",n.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",n.newAcuerdo.beneficiarios),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_fin),e.R7$(4),e.R50("ngModel",n.newAcuerdo.valorizacion)}}const fe=[{path:"",children:[{path:"convenios",component:z},{path:"postgrado",component:O},{path:"pre-grado",component:K},{path:"detalle/:id",component:le},{path:"registro-plan/:id",component:(()=>{class r{constructor(n,i,o,t,a,s,E){this.modalService=i,this.acuerdosService=o,this.planTrabajoService=t,this.route=a,this.router=s,this.sedeAdjudicacionService=E,this.page=1,this.pageSize=4,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.listSedeAdjudicacion=[],this.idAcuerdo="",this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},n.backdrop="static",n.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.getSedeAdjudicaciones(),this.getAcuerdos()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getSedeAdjudicaciones(){this.sedeAdjudicacionService.getSedeAdjudicacion().subscribe(n=>{console.log(n),this.listSedeAdjudicacion=n},n=>{console.error(n)})}getAcuerdos(){this.acuerdosService.getAcuerdos().subscribe({next:n=>{this.ACUERDOS=n,this.collection=n.length,this.refreshAcuerdos()},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createAcuerdos(){this.acuerdosService.createAcuerdos(this.newAcuerdo).subscribe(n=>{const i=n.id;console.log(n),console.log("Acuerdo creado con ID:",i),console.log("Datos enviados:",this.newAcuerdo),this.actualizarAcuerdo(i),this.getAcuerdos()},n=>{console.error(n)})}actualizarAcuerdo(n){if("string"!=typeof n||!n)return void console.error("acuerdoId no es una cadena v\xe1lida:",n);const i={acuerdo_id:n};console.log("Acuerdos creados:",i),this.planTrabajoService.patchAcuerdo2(this.convenioId,i).subscribe(o=>{console.log("Plan de trabajo actualizado:",o),this.getAcuerdos(),this.regresar()},o=>{console.error("Error actualizando plan de trabajo:",o)})}regresar(){this.router.navigate(["/plan-trabajo/detalle",this.convenioId])}actualizarPagina(){window.location.reload()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(R),e.rXU(C.a),e.rXU(h.nX),e.rXU(h.Ix),e.rXU(w.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-registro"]],inputs:{idAcuerdo:"idAcuerdo"},decls:79,vars:11,consts:[["acuerdoForm","ngForm"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"click"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"col-md-4"],[1,"d-flex","justify-content-end"],[1,"btn","ayuda-btn","me-2"],[1,"fa-solid","fa-circle-question","me-2","text-light"],[1,"text-light","fw-bold"],[1,"btn","border","actualizar-btn",3,"click"],[1,"fa-solid","fa-rotate-right","me-2","actualizar-icon"],[1,"fw-bold","actualizar-text"],[3,"ngSubmit"],[1,"col-md-12"],["for","compromiso",1,"form-label","fw-bold"],["id","compromiso","name","compromiso","rows","5","required","",1,"form-control",2,"resize","vertical",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label","fw-bold"],["type","text","id","detalle","name","detalle","placeholder","Escribir detalle","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label","fw-bold"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label","fw-bold"],["type","text","id","beneficiarios","name","beneficiarios","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],["type","number","id","valorizacion","name","valorizacion","min","0","step","0.01","placeholder","0.00","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","responsable",1,"form-label","fw-bold"],[1,"form-check"],["type","radio","name","responsableEssalud","id","responsableSi","value","true",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableSi",1,"form-check-label"],["type","radio","name","responsableEssalud","id","responsableNo","value","false",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableNo",1,"form-check-label"],["for","sedeAdjudicacion",1,"form-label","fw-bold"],["bindLabel","nombre","bindValue","id","placeholder","Selecciona la Hospital",3,"modelChange","items","model"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-5","w-25",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.bIt("click",function(){return e.eBV(t),e.Njj(o.regresar())}),e.nrm(8,"i",8),e.k0s()(),e.j41(9,"div")(10,"mat-card-title",9),e.EFF(11,"Registro de Compromiso"),e.k0s()()()()(),e.nrm(12,"div",10),e.j41(13,"div",11)(14,"div",12)(15,"button",13),e.nrm(16,"i",14),e.j41(17,"span",15),e.EFF(18,"Ayuda"),e.k0s()(),e.j41(19,"button",16),e.bIt("click",function(){return e.eBV(t),e.Njj(o.actualizarPagina())}),e.nrm(20,"i",17),e.j41(21,"span",18),e.EFF(22,"Actualizar"),e.k0s()()()()()()(),e.j41(23,"mat-card",1)(24,"mat-card-content")(25,"form",19,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.createAcuerdos())}),e.j41(27,"div",2)(28,"div",20)(29,"label",21),e.EFF(30,"Compromiso"),e.k0s(),e.j41(31,"textarea",22),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.compromiso,s)||(o.newAcuerdo.compromiso=s),e.Njj(s)}),e.k0s()()(),e.nrm(32,"br"),e.j41(33,"div",2)(34,"div",11)(35,"label",23),e.EFF(36,"Detalle"),e.k0s(),e.j41(37,"input",24),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.detalle,s)||(o.newAcuerdo.detalle=s),e.Njj(s)}),e.k0s()(),e.j41(38,"div",11)(39,"label",25),e.EFF(40,"Fecha Inicio"),e.k0s(),e.j41(41,"input",26),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.fecha_inicio,s)||(o.newAcuerdo.fecha_inicio=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",11)(43,"label",27),e.EFF(44,"Fecha Fin"),e.k0s(),e.j41(45,"input",28),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.fecha_fin,s)||(o.newAcuerdo.fecha_fin=s),e.Njj(s)}),e.k0s()()(),e.nrm(46,"br"),e.j41(47,"div",2)(48,"div",11)(49,"label",29),e.EFF(50,"Beneficiario"),e.k0s(),e.j41(51,"input",30),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.beneficiarios,s)||(o.newAcuerdo.beneficiarios=s),e.Njj(s)}),e.k0s()(),e.j41(52,"div",11)(53,"label",31),e.EFF(54,"Valorizaci\xf3n"),e.k0s(),e.j41(55,"div",32)(56,"span",33),e.EFF(57,"S/."),e.k0s(),e.j41(58,"input",34),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.valorizacion,s)||(o.newAcuerdo.valorizacion=s),e.Njj(s)}),e.k0s()()(),e.j41(59,"div",11)(60,"label",35),e.EFF(61,"Responsable RPA"),e.k0s(),e.j41(62,"div",36)(63,"input",37),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(64,"label",38),e.EFF(65,"S\xed"),e.k0s()(),e.j41(66,"div",36)(67,"input",39),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(68,"label",40),e.EFF(69,"No"),e.k0s()()()(),e.j41(70,"div",2)(71,"div",11)(72,"label",41),e.EFF(73,"Sede Adjudicacion"),e.k0s(),e.j41(74,"app-custom-select",42),e.mxI("modelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.sede_Adjudicacion,s)||(o.newAcuerdo.sede_Adjudicacion=s),e.Njj(s)}),e.k0s()()(),e.nrm(75,"br"),e.j41(76,"div",43)(77,"button",44),e.EFF(78,"Registrar"),e.k0s()()()()()}if(2&i){const t=e.sdS(26);e.R7$(31),e.R50("ngModel",o.newAcuerdo.compromiso),e.R7$(6),e.R50("ngModel",o.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_fin),e.R7$(6),e.R50("ngModel",o.newAcuerdo.beneficiarios),e.R7$(7),e.R50("ngModel",o.newAcuerdo.valorizacion),e.R7$(5),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(4),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(7),e.Y8G("items",o.listSedeAdjudicacion),e.R50("model",o.newAcuerdo.sede_Adjudicacion),e.R7$(3),e.Y8G("disabled",!t.valid)}},dependencies:[p.RN,p.m2,p.dh,l.qT,l.me,l.Q0,l.Fm,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,T.f],styles:[".custom-icon-bg[_ngcontent-%COMP%]{background-color:#276ca1;border-radius:50%;box-shadow:0 4px 8px #0003;width:30px;height:30px;display:flex;justify-content:center;align-items:center}.ayuda-btn[_ngcontent-%COMP%]{background-color:#00a5d7!important;border-color:#00a5d7!important;color:#fff}.actualizar-btn[_ngcontent-%COMP%]{border-color:#276ca1!important}.actualizar-text[_ngcontent-%COMP%], .actualizar-icon[_ngcontent-%COMP%]{color:#276ca1!important}.titles[_ngcontent-%COMP%]{font-size:17px}.subtitles[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})()},{path:"pre-detalle/:id",component:(()=>{class r{constructor(n,i,o,t,a){this.route=n,this.modalService=o,this.acuerdosService=t,this.router=a,this.page=1,this.pageSize=10,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.pasarId="",this.planNombre="",this.essaludValorizacion=0,this.externoValorizacion=0,this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},i.backdrop="static",i.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.pasarId=this.convenioId,this.getPlanTrabajo()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getPlanTrabajo(){this.acuerdosService.getPlanTrabajoById(this.convenioId).subscribe({next:n=>{this.getAcuerdos(n.acuerdo),this.planNombre=n.nombre,console.log("Plan de trabajo:",n)},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}patchEstado(n,i){this.acuerdosService.changeStateCarreraTrue(n,i).subscribe({next:o=>{console.log("Carrera updated successfully:",o),this.getPlanTrabajo(),this.refreshAcuerdos()},error:o=>{console.error("Error updating carrera:",o)}})}arreglarDecimales(n){return n.toFixed(2)}getAcuerdos(n){this.acuerdosService.getAcuerdosByIds(n).subscribe({next:i=>{this.ACUERDOS=i,this.collection=i.length,this.essaludValorizacion=0,this.externoValorizacion=0,i.forEach(o=>{o.is_esssalud_responsable?this.essaludValorizacion+=Number(o.valorizacion):this.externoValorizacion+=Number(o.valorizacion)}),this.refreshAcuerdos()},error:i=>{console.error("Error fetching acuerdos:",i)}})}getPasarId(){this.router.navigate(["/plan-trabajo/pre-registro",this.pasarId])}openEditModal(n,i){this.newAcuerdo={...n},this.modalService.open(i)}updateAcuerdo(){const n=this.newAcuerdo.id;n?this.acuerdosService.updateAcuerdo(n,this.newAcuerdo).subscribe({next:i=>{console.log("Acuerdo updated successfully:",i),this.getPlanTrabajo(),this.refreshAcuerdos(),this.modalService.dismissAll()},error:i=>{console.error("Error updating acuerdo:",i)}}):console.error("No se puede actualizar el acuerdo: ID es indefinido")}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(h.nX),e.rXU(u.LY),e.rXU(u.Bq),e.rXU(R),e.rXU(h.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-detalle"]],decls:63,vars:14,consts:[["editModal",""],[1,"cardWithShadow",3,"click"],[1,"row"],[1,"col-md-6"],[1,"d-flex"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"routerLink"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"cardWithShadow"],[1,"col-md-4"],[2,"text-align","right"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-circle-plus"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"align-middle"],[1,"text-center","align-middle"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","compromiso",1,"form-label"],["id","compromiso","name","compromiso",1,"form-control",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label"],["id","detalle","name","detalle",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label"],["id","beneficiarios","name","beneficiarios",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label"],["id","fechaInicio","type","date","name","fechaInicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label"],["id","fechaFin","type","date","name","fechaFin",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label"],["id","valorizacion","type","number","name","valorizacion",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"mat-card",1),e.bIt("click",function(s){return e.eBV(t),e.Njj(s.stopPropagation())}),e.j41(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.nrm(7,"i",7),e.k0s()(),e.nrm(8,"div",5),e.j41(9,"mat-card-title",8),e.EFF(10),e.k0s()()(),e.nrm(11,"div",9),e.k0s()()(),e.j41(12,"mat-card",10)(13,"mat-card-content")(14,"div",2)(15,"div",11)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"div",11)(19,"span"),e.EFF(20),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){return e.eBV(t),e.Njj(o.getPasarId())}),e.nrm(23,"i",14),e.EFF(24," Agregar "),e.k0s()(),e.nrm(25,"br"),e.j41(26,"div",15)(27,"table",16)(28,"thead")(29,"tr")(30,"th",17),e.EFF(31,"N\xb0"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Compromiso"),e.k0s(),e.j41(34,"th",17),e.EFF(35,"Detalle"),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Beneficiarios"),e.k0s(),e.j41(38,"th",17),e.EFF(39,"Fec. Inicio"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Fec. Fin"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"Valorizaci\xf3n"),e.k0s(),e.j41(44,"th",17),e.EFF(45,"Responsable"),e.k0s(),e.j41(46,"th",18),e.EFF(47,"Estado"),e.k0s(),e.j41(48,"th",18),e.EFF(49,"OPC"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,he,26,15,"tr",19),e.k0s()()(),e.j41(52,"div",20)(53,"ngb-pagination",21),e.mxI("pageChange",function(s){return e.eBV(t),e.DH7(o.page,s)||(o.page=s),e.Njj(s)}),e.bIt("pageChange",function(){return e.eBV(t),e.Njj(o.refreshAcuerdos())}),e.k0s(),e.j41(54,"select",22),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.pageSize,s)||(o.pageSize=s),e.Njj(s)}),e.bIt("ngModelChange",function(){return e.eBV(t),e.Njj(o.refreshAcuerdos())}),e.j41(55,"option",23),e.EFF(56,"10 items per page"),e.k0s(),e.j41(57,"option",23),e.EFF(58,"15 items per page"),e.k0s(),e.j41(59,"option",23),e.EFF(60,"20 items per page"),e.k0s()()()()(),e.DNE(61,me,35,6,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(13,de)),e.R7$(4),e.SpI("Detalle de ",o.planNombre,""),e.R7$(7),e.SpI("Valorizaci\xf3n RPA: S/. ",o.arreglarDecimales(o.essaludValorizacion),""),e.R7$(3),e.Lme("Valorizaci\xf3n ",o.planNombre,": S/. ",o.arreglarDecimales(o.externoValorizacion),""),e.R7$(31),e.Y8G("ngForOf",o.acuerdos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",20))},dependencies:[g.YU,g.Sq,g.bT,h.Wk,p.RN,p.m2,p.dh,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.BC,l.cb,l.vS,l.cV,u.s5],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})()},{path:"pre-registro/:id",component:(()=>{class r{constructor(n,i,o,t,a,s,E){this.modalService=i,this.acuerdosService=o,this.planTrabajoService=t,this.route=a,this.router=s,this.sedeAdjudicacionService=E,this.page=1,this.pageSize=4,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.listSedeAdjudicacion=[],this.idAcuerdo="",this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},n.backdrop="static",n.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.getSedeAdjudicaciones(),this.getAcuerdos()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getSedeAdjudicaciones(){this.sedeAdjudicacionService.getSedeAdjudicacion().subscribe(n=>{console.log(n),this.listSedeAdjudicacion=n},n=>{console.error(n)})}getAcuerdos(){this.acuerdosService.getAcuerdos().subscribe({next:n=>{this.ACUERDOS=n,this.collection=n.length,this.refreshAcuerdos()},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createAcuerdos(){this.acuerdosService.createAcuerdos(this.newAcuerdo).subscribe(n=>{const i=n.id;console.log(n),console.log("Acuerdo creado con ID:",i),console.log("Datos enviados:",this.newAcuerdo),this.actualizarAcuerdo(i),this.getAcuerdos()},n=>{console.error(n)})}actualizarAcuerdo(n){if("string"!=typeof n||!n)return void console.error("acuerdoId no es una cadena v\xe1lida:",n);const i={acuerdo_id:n};console.log("Acuerdos creados:",i),this.planTrabajoService.patchAcuerdo2(this.convenioId,i).subscribe(o=>{console.log("Plan de trabajo actualizado:",o),this.getAcuerdos(),this.regresar()},o=>{console.error("Error actualizando plan de trabajo:",o)})}regresar(){this.router.navigate(["/plan-trabajo/pre-detalle",this.convenioId])}actualizarPagina(){window.location.reload()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(R),e.rXU(C.a),e.rXU(h.nX),e.rXU(h.Ix),e.rXU(w.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-registro"]],inputs:{idAcuerdo:"idAcuerdo"},decls:79,vars:11,consts:[["acuerdoForm","ngForm"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"click"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"col-md-4"],[1,"d-flex","justify-content-end"],[1,"btn","ayuda-btn","me-2"],[1,"fa-solid","fa-circle-question","me-2","text-light"],[1,"text-light","fw-bold"],[1,"btn","border","actualizar-btn",3,"click"],[1,"fa-solid","fa-rotate-right","me-2","actualizar-icon"],[1,"fw-bold","actualizar-text"],[3,"ngSubmit"],[1,"col-md-12"],["for","compromiso",1,"form-label","fw-bold"],["id","compromiso","name","compromiso","rows","5","required","",1,"form-control",2,"resize","vertical",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label","fw-bold"],["type","text","id","detalle","name","detalle","placeholder","Escribir detalle","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label","fw-bold"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label","fw-bold"],["type","text","id","beneficiarios","name","beneficiarios","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],["type","number","id","valorizacion","name","valorizacion","min","0","step","0.01","placeholder","0.00","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","responsable",1,"form-label","fw-bold"],[1,"form-check"],["type","radio","name","responsableEssalud","id","responsableSi","value","true",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableSi",1,"form-check-label"],["type","radio","name","responsableEssalud","id","responsableNo","value","false",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableNo",1,"form-check-label"],["for","sedeAdjudicacion",1,"form-label","fw-bold"],["bindLabel","nombre","bindValue","id","placeholder","Selecciona la Hospital",3,"modelChange","items","model"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-5","w-25",3,"disabled"]],template:function(i,o){if(1&i){const t=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.bIt("click",function(){return e.eBV(t),e.Njj(o.regresar())}),e.nrm(8,"i",8),e.k0s()(),e.j41(9,"div")(10,"mat-card-title",9),e.EFF(11,"Registro de Compromiso"),e.k0s()()()()(),e.nrm(12,"div",10),e.j41(13,"div",11)(14,"div",12)(15,"button",13),e.nrm(16,"i",14),e.j41(17,"span",15),e.EFF(18,"Ayuda"),e.k0s()(),e.j41(19,"button",16),e.bIt("click",function(){return e.eBV(t),e.Njj(o.actualizarPagina())}),e.nrm(20,"i",17),e.j41(21,"span",18),e.EFF(22,"Actualizar"),e.k0s()()()()()()(),e.j41(23,"mat-card",1)(24,"mat-card-content")(25,"form",19,0),e.bIt("ngSubmit",function(){return e.eBV(t),e.Njj(o.createAcuerdos())}),e.j41(27,"div",2)(28,"div",20)(29,"label",21),e.EFF(30,"Compromiso"),e.k0s(),e.j41(31,"textarea",22),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.compromiso,s)||(o.newAcuerdo.compromiso=s),e.Njj(s)}),e.k0s()()(),e.nrm(32,"br"),e.j41(33,"div",2)(34,"div",11)(35,"label",23),e.EFF(36,"Detalle"),e.k0s(),e.j41(37,"input",24),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.detalle,s)||(o.newAcuerdo.detalle=s),e.Njj(s)}),e.k0s()(),e.j41(38,"div",11)(39,"label",25),e.EFF(40,"Fecha Inicio"),e.k0s(),e.j41(41,"input",26),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.fecha_inicio,s)||(o.newAcuerdo.fecha_inicio=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",11)(43,"label",27),e.EFF(44,"Fecha Fin"),e.k0s(),e.j41(45,"input",28),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.fecha_fin,s)||(o.newAcuerdo.fecha_fin=s),e.Njj(s)}),e.k0s()()(),e.nrm(46,"br"),e.j41(47,"div",2)(48,"div",11)(49,"label",29),e.EFF(50,"Beneficiario"),e.k0s(),e.j41(51,"input",30),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.beneficiarios,s)||(o.newAcuerdo.beneficiarios=s),e.Njj(s)}),e.k0s()(),e.j41(52,"div",11)(53,"label",31),e.EFF(54,"Valorizaci\xf3n"),e.k0s(),e.j41(55,"div",32)(56,"span",33),e.EFF(57,"S/."),e.k0s(),e.j41(58,"input",34),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.valorizacion,s)||(o.newAcuerdo.valorizacion=s),e.Njj(s)}),e.k0s()()(),e.j41(59,"div",11)(60,"label",35),e.EFF(61,"Responsable RPA"),e.k0s(),e.j41(62,"div",36)(63,"input",37),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(64,"label",38),e.EFF(65,"S\xed"),e.k0s()(),e.j41(66,"div",36)(67,"input",39),e.mxI("ngModelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(68,"label",40),e.EFF(69,"No"),e.k0s()()()(),e.j41(70,"div",2)(71,"div",11)(72,"label",41),e.EFF(73,"Sede Docente"),e.k0s(),e.j41(74,"app-custom-select",42),e.mxI("modelChange",function(s){return e.eBV(t),e.DH7(o.newAcuerdo.sede_Adjudicacion,s)||(o.newAcuerdo.sede_Adjudicacion=s),e.Njj(s)}),e.k0s()()(),e.nrm(75,"br"),e.j41(76,"div",43)(77,"button",44),e.EFF(78,"Registrar"),e.k0s()()()()()}if(2&i){const t=e.sdS(26);e.R7$(31),e.R50("ngModel",o.newAcuerdo.compromiso),e.R7$(6),e.R50("ngModel",o.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_fin),e.R7$(6),e.R50("ngModel",o.newAcuerdo.beneficiarios),e.R7$(7),e.R50("ngModel",o.newAcuerdo.valorizacion),e.R7$(5),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(4),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(7),e.Y8G("items",o.listSedeAdjudicacion),e.R50("model",o.newAcuerdo.sede_Adjudicacion),e.R7$(3),e.Y8G("disabled",!t.valid)}},dependencies:[p.RN,p.m2,p.dh,l.qT,l.me,l.Q0,l.Fm,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV,T.f]})}}return r})()}]}];var _e=c(2941),be=c(9159),je=c(3887),Fe=c(4912),Ce=c(5509),ve=c(6695),ke=c(4006),Re=c(9461),Ee=c(8834);let Me=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[g.MD,h.iI.forChild(fe),_e.G,l.YN,be.tP,ve.Ou,l.X1,ke.hM,Re.I,Ee.Hl,je.G,Fe.X4.pick(Ce)]})}}return r})()}}]);