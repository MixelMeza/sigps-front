"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[532],{2532:(Y,I,p)=>{p.r(I),p.d(I,{ConfigurationModule:()=>jo});var v=p(8498),_=p(177),d=p(9417),N=p(2941),s=p(4912),w=p(5509),m=p(1084),e=p(4438),y=p(2282),G=p(2511),k=p(1339),h=p(5596);const F=(r,l)=>({"text-success":r,"text-danger":l});function E(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",28),e.k0s()}}function f(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",30),e.k0s()}}function R(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteEspecialidad(o.id))}),e.nrm(1,"i",31),e.k0s()}}function O(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",21)(8,"span",22),e.nrm(9,"i",22),e.k0s()(),e.j41(10,"td",21)(11,"button",23),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(43);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",24),e.k0s(),e.DNE(13,E,2,0,"button",25)(14,f,2,0,"button",26)(15,R,2,0,"button",25),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Lme("",null==t.grupo_profesional?null:t.grupo_profesional.nombre," (",null==t.grupo_profesional||null==t.grupo_profesional.categoria_profesional?null:t.grupo_profesional.categoria_profesional.nombre,")"),e.R7$(2),e.Y8G("ngClass",e.l_i(9,F,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function H(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," (",t.categoria_profesional.nombre,") ")}}function L(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Agregar Especialidad"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newEspecialidad.nombre,o)||(i.newEspecialidad.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Grupo Profesional"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newEspecialidad.grupo_profesional,o)||(i.newEspecialidad.grupo_profesional=o),e.Njj(o)}),e.j41(14,"option",40),e.EFF(15,"Seleccione Grupo Profesional"),e.k0s(),e.DNE(16,H,2,3,"option",41),e.k0s()()(),e.nrm(17,"br"),e.k0s(),e.j41(18,"div",42)(19,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cancel click"))}),e.EFF(20,"Cancelar"),e.k0s(),e.j41(21,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveEspecialidad())}),e.EFF(22,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newEspecialidad.nombre),e.R7$(4),e.R50("ngModel",t.newEspecialidad.grupo_profesional),e.R7$(3),e.Y8G("ngForOf",t.listgrupos)}}function A(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre,"(",t.categoria_profesional.nombre,") ")}}function J(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Editar Especialidad"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editEspecialidad.nombre,o)||(i.editEspecialidad.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Grupo Profesional"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editEspecialidad.grupo_profesional.id,o)||(i.editEspecialidad.grupo_profesional.id=o),e.Njj(o)}),e.j41(14,"option",40),e.EFF(15,"Seleccione Grupo Profesional"),e.k0s(),e.DNE(16,A,2,3,"option",41),e.k0s()()()(),e.j41(17,"div",42)(18,"button",46),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(19,"Cancelar"),e.k0s(),e.j41(20,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateEspecialidad())}),e.EFF(21,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.editEspecialidad.nombre),e.R7$(4),e.R50("ngModel",t.editEspecialidad.grupo_profesional.id),e.R7$(3),e.Y8G("ngForOf",t.listgrupos)}}let z=(()=>{class r{constructor(t,n,o,i,c){this.modalService=n,this.especialidadesService=o,this.grupoService=i,this.auth=c,this.page=1,this.pageSize=4,this.ESPECIALIDADES=[],this.especialidades=[],this.collection=0,this.listgrupos=[],this.newEspecialidad={nombre:"",estado:!0,grupo_profesional:void 0},this.editEspecialidad={nombre:"",estado:!0,grupo_profesional:void 0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshEspecialidades()}ngOnInit(){this.getEspecialidades(),this.getGrupoProfesional()}refreshEspecialidades(){this.especialidades=this.ESPECIALIDADES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ESPECIALIDADES.length}open(t){this.modalService.open(t)}openEditModal(t,n){console.log(t),this.editEspecialidad={...t},this.modalService.open(n)}getGrupoProfesional(){this.grupoService.getGruposProfesionales().subscribe(t=>{console.log(t),this.listgrupos=t},t=>{console.error(t)})}getEspecialidades(){this.especialidadesService.getEspecialidades().subscribe({next:t=>{this.ESPECIALIDADES=t,this.collection=t.length,this.refreshEspecialidades()},error:t=>{console.error("Error fetching especialidad:",t)}})}saveEspecialidad(){this.newEspecialidad.nombre&&this.newEspecialidad.grupo_profesional?this.especialidadesService.createEspecialidad(this.newEspecialidad).subscribe({next:t=>{console.log("Especialidad created successfully:",t),this.getEspecialidades(),this.refreshEspecialidades(),this.modalService.dismissAll(),this.newEspecialidad={nombre:"",estado:!0,grupo_profesional:void 0}},error:t=>{console.error("Error creating especialidad:",t)}}):console.error("Por favor complete todos los campos requeridos.")}updateEspecialidad(){console.log(this.editEspecialidad);const t=this.editEspecialidad.id;t?this.especialidadesService.updateEspecialidad(t,this.editEspecialidad).subscribe({next:n=>{console.log("Especialidad updated successfully:",n),this.getEspecialidades(),this.refreshEspecialidades(),this.modalService.dismissAll()},error:n=>{console.error("Error updating especialidad:",n)}}):console.error("No se puede actualizar la especialidad: ID es indefinido")}patchEstado(t){this.especialidadesService.changeStateEspecialidad(t).subscribe({next:n=>{console.log("Especialidad updated successfully:",n),this.getEspecialidades(),this.refreshEspecialidades()},error:n=>{console.error("Error updating especialidad:",n)}})}patchEstadoTrue(t){this.especialidadesService.changeStateEspecialidadTrue(t).subscribe({next:n=>{console.log("Grupo updated successfully:",n),this.getEspecialidades(),this.refreshEspecialidades()},error:n=>{console.error("Error updating grupo:",n)}})}deleteEspecialidad(t){this.especialidadesService.deleteEspecialidad(t).subscribe({next:n=>{console.log("Especialidad deleted successfully:",n),this.getEspecialidades(),this.refreshEspecialidades()},error:n=>{console.error("Error deleting Especialidad:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(y.c),e.rXU(G.J),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-especialidades"]],features:[e.Jv_([m.LY,m.Bq])],decls:44,vars:8,consts:[["content",""],["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[1,"btn","border","border-primary","position-absolute","top-0","end-0",3,"click"],[1,"fa-solid","fa-file-medical","me-2","text-primary"],[1,"text-primary","fw-bold"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_especialidad",1,"form-label","fw-bold"],["type","text","name","nombre_especialidad","id","nombre_especialidad","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","grupo_profesional",1,"form-label","fw-bold"],["name","grupo_profesional","id","grupo_profesional",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"],[3,"value"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",2)(1,"mat-card-content")(2,"div",3)(3,"div",4)(4,"mat-card-title",5),e.nrm(5,"i",6),e.EFF(6," Especialidades "),e.k0s()(),e.j41(7,"div",4)(8,"div",7)(9,"button",8),e.bIt("click",function(){e.eBV(i);const a=e.sdS(41);return e.Njj(o.open(a))}),e.nrm(10,"i",9),e.j41(11,"span",10),e.EFF(12,"Agregar"),e.k0s()()()()(),e.nrm(13,"br")(14,"br"),e.j41(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th",13),e.EFF(20,"#"),e.k0s(),e.j41(21,"th",13),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"th",13),e.EFF(24,"Grupo Profesional"),e.k0s(),e.j41(25,"th",14),e.EFF(26,"Estado"),e.k0s(),e.j41(27,"th",14),e.EFF(28,"OPC"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,O,16,12,"tr",15),e.k0s()()(),e.j41(31,"div",16)(32,"ngb-pagination",17),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshEspecialidades())}),e.k0s(),e.j41(33,"select",18),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshEspecialidades())}),e.j41(34,"option",19),e.EFF(35,"2 items per page"),e.k0s(),e.j41(36,"option",19),e.EFF(37,"4 items per page"),e.k0s(),e.j41(38,"option",19),e.EFF(39,"6 items per page"),e.k0s()()()()(),e.DNE(40,L,23,3,"ng-template",null,0,e.C5r)(42,J,22,3,"ng-template",null,1,e.C5r)}2&n&&(e.R7$(30),e.Y8G("ngForOf",o.especialidades),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5]})}}return r})();var U=p(5112),P=p(5357),M=p(6354),B=p(9437),D=p(8810),W=p(1626),K=p(5794),Q=p(1416);let $=(()=>{class r{constructor(t,n,o,i,c){this.http=t,this.router=n,this.toastr=o,this.authService=i,this.getHeaders=c,this.apiCoordinadores=P.i.baseUrl+P.i.coordinadores,this.token=this.authService.getToken()}createCoordinador(t){const n=this.getHeaders.getHeaders();return this.http.post(this.apiCoordinadores,t,{headers:n}).pipe((0,M.T)(o=>o),(0,B.W)(o=>(console.error("Error creating Coordinador:",o),(0,D.$)(()=>o))))}getCoordinador(){const t=this.getHeaders.getHeaders();return this.http.get(this.apiCoordinadores,{headers:t}).pipe((0,M.T)(n=>n),(0,B.W)(n=>n))}getCoordinadorById(t){return this.getCoordinador().pipe((0,M.T)(n=>n.find(o=>o.id===t)))}updateCoordinador(t,n){const o=this.getHeaders.getHeaders();return this.http.put(`${this.apiCoordinadores}${t}/`,n,{headers:o}).pipe((0,M.T)(i=>i),(0,B.W)(i=>(console.error("Error updating Coordinador:",i),(0,D.$)(()=>i))))}changeStateCoordinador(t){const n=this.getHeaders.getHeaders();return this.http.patch(`${this.apiCoordinadores}${t}/`,{estado:!1},{headers:n}).pipe((0,M.T)(o=>o),(0,B.W)(o=>(console.error("Error changing state coordinador:",o),(0,D.$)(()=>o))))}changeStateCargoTrue(t){const n=this.getHeaders.getHeaders();return this.http.patch(`${this.apiCoordinadores}${t}/`,{estado:!0},{headers:n}).pipe((0,M.T)(o=>o),(0,B.W)(o=>(console.error("Error changing state Rol:",o),(0,D.$)(()=>o))))}deleteCoordinadores(t){const n=this.getHeaders.getHeaders();return this.http.delete(`${this.apiCoordinadores}${t}/`,{headers:n}).pipe((0,M.T)(o=>(this.toastr.success("Coordinador eliminado correctamente"),o)),(0,B.W)(o=>(console.error("Error deleting Coordinadores:",o),(0,D.$)(()=>o))))}static{this.\u0275fac=function(n){return new(n||r)(e.KVO(W.Qq),e.KVO(v.Ix),e.KVO(K.tw),e.KVO(k.u),e.KVO(Q.y))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var S=p(4013);const Z=(r,l)=>({"text-success":r,"text-danger":l});function q(r,l){if(1&r&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," ",t.apellido," ")}}function ee(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",33),e.k0s()}}function te(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",35),e.k0s()}}function oe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteUniversity(o.id))}),e.nrm(1,"i",36),e.k0s()}}function ne(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",25),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",26)(12,"span",27),e.nrm(13,"i",27),e.k0s()(),e.j41(14,"td",26)(15,"button",28),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(64);return e.Njj(i.openEditModal(o,c))}),e.nrm(16,"i",29),e.k0s(),e.DNE(17,ee,2,0,"button",30)(18,te,2,0,"button",31)(19,oe,2,0,"button",30),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.siglas),e.R7$(2),e.JRh(t.ciudad),e.R7$(2),e.JRh(t.coordinadorDetalle?t.coordinadorDetalle.nombre+" "+t.coordinadorDetalle.apellido:"No asignado"),e.R7$(2),e.Y8G("ngClass",e.l_i(10,Z,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function ie(r,l){if(1&r&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," ",t.apellido," ")}}function re(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",37)(1,"h4",38),e.EFF(2,"Editar Universidad"),e.k0s(),e.j41(3,"button",39),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",40)(5,"div",2)(6,"div",3)(7,"label",8),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",9),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newUniversity.nombre,o)||(i.newUniversity.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",3)(11,"label",8),e.EFF(12,"Siglas"),e.k0s(),e.j41(13,"input",10),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newUniversity.siglas,o)||(i.newUniversity.siglas=o),e.Njj(o)}),e.k0s()()(),e.nrm(14,"br"),e.j41(15,"div",2)(16,"div",3)(17,"label",8),e.EFF(18,"Ciudad"),e.k0s(),e.j41(19,"input",11),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newUniversity.ciudad,o)||(i.newUniversity.ciudad=o),e.Njj(o)}),e.k0s()(),e.j41(20,"div",3)(21,"label",8),e.EFF(22,"Coordinador General"),e.k0s(),e.j41(23,"select",12),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newUniversity.coordinador,o)||(i.newUniversity.coordinador=o),e.Njj(o)}),e.j41(24,"option",13),e.EFF(25,"Seleccione un coordinador"),e.k0s(),e.DNE(26,ie,2,3,"option",14),e.k0s()()()(),e.j41(27,"div",41)(28,"button",42),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(29,"Cancelar"),e.k0s(),e.j41(30,"button",43),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateUniverity())}),e.EFF(31,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newUniversity.nombre),e.R7$(4),e.R50("ngModel",t.newUniversity.siglas),e.R7$(6),e.R50("ngModel",t.newUniversity.ciudad),e.R7$(4),e.R50("ngModel",t.newUniversity.coordinador),e.R7$(3),e.Y8G("ngForOf",t.listcoordinadores)}}let X=(()=>{class r{constructor(t,n,o,i,c){this.modalService=n,this.universidadService=o,this.coordinadoresService=i,this.auth=c,this.page=1,this.pageSize=4,this.UNIVERSITIES=[],this.universities=[],this.collection=0,this.newUniversity={nombre:"",siglas:"",ciudad:"",coordinador:"",estado:!0},this.newCoordinador={nombre:"",apellido:"",documento:"",estado:!0},this.listcoordinadores=[],this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshUniversities()}ngOnInit(){this.getUniversidades()}refreshUniversities(){this.universities=this.UNIVERSITIES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.UNIVERSITIES.length}open(t){this.modalService.open(t)}getCoordinadores(){this.coordinadoresService.getCoordinador().subscribe({next:t=>{this.listcoordinadores=t.filter(n=>!this.UNIVERSITIES.some(o=>o.coordinador===n.id)),console.log(this.listcoordinadores)},error:t=>{console.error("Error al obtener coordinadores:",t)}})}getUniversidades(){this.universidadService.getUniversidades().subscribe({next:t=>{this.UNIVERSITIES=t,this.collection=t.length,this.refreshUniversities(),t.forEach(n=>{n.coordinador&&this.coordinadoresService.getCoordinadorById(n.coordinador).subscribe({next:o=>{n.coordinadorDetalle=o},error:o=>{console.error("Error fetching coordinator:",o)}})}),this.getCoordinadores()},error:t=>{console.error("Error fetching universities:",t)}})}createCoordinador(){console.log("Coordinador:",this.newCoordinador),this.coordinadoresService.createCoordinador(this.newCoordinador).subscribe({next:t=>{console.log("Coordinador created successfully:",t),this.newUniversity.coordinador=t.id,this.createUniversity()},error:t=>{console.error("Error creating coordinator:",t)}})}createUniversity(){this.universidadService.createUniversidad(this.newUniversity).subscribe({next:t=>{console.log("University created successfully:",t),this.newUniversity={nombre:"",siglas:"",ciudad:"",coordinador:"",estado:!0},this.getUniversidades(),this.refreshUniversities()},error:t=>{console.error("Error creating university:",t)}})}deleteUniversity(t){this.universidadService.deleteUniversidad(t).subscribe({next:n=>{console.log("University deleted successfully:",n),this.getUniversidades(),this.refreshUniversities()},error:n=>{console.error("Error deleting university:",n)}})}openEditModal(t,n){this.newUniversity={...t},this.modalService.open(n)}updateUniverity(){const t=this.newUniversity.id;t?this.universidadService.updateUniversidad(t,this.newUniversity).subscribe({next:n=>{console.log("University updated successfully:",n),this.getUniversidades(),this.refreshUniversities(),this.modalService.dismissAll()},error:n=>{console.error("Error updating university:",n)}}):console.error("No se puede actualizar la universidad: ID es indefinido")}patchEstado(t){this.universidadService.changeStateUniversidad(t).subscribe({next:n=>{console.log("University updated successfully:",n),this.getUniversidades(),this.refreshUniversities()},error:n=>{console.error("Error updating university:",n)}})}patchEstadoTrue(t){this.universidadService.changeStateUniversidadTrue(t).subscribe({next:n=>{console.log("University updated successfully:",n),this.getUniversidades(),this.refreshUniversities()},error:n=>{console.error("Error updating university:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(U.k),e.rXU($),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-universidad"]],features:[e.Jv_([m.LY,m.Bq])],decls:65,vars:20,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],[1,"form-label","fw-bold"],["type","text","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Escribir siglas",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Escribir ciudad",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Universidades "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createUniversity())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newUniversity.nombre,a)||(o.newUniversity.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",8),e.EFF(17,"Siglas"),e.k0s(),e.j41(18,"input",10),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newUniversity.siglas,a)||(o.newUniversity.siglas=a),e.Njj(a)}),e.k0s()()(),e.nrm(19,"br"),e.j41(20,"div",2)(21,"div",3)(22,"label",8),e.EFF(23,"Ciudad"),e.k0s(),e.j41(24,"input",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newUniversity.ciudad,a)||(o.newUniversity.ciudad=a),e.Njj(a)}),e.k0s()(),e.j41(25,"div",3)(26,"label",8),e.EFF(27,"Coordinador General"),e.k0s(),e.j41(28,"select",12),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newUniversity.coordinador,a)||(o.newUniversity.coordinador=a),e.Njj(a)}),e.j41(29,"option",13),e.EFF(30,"Seleccione un coordinador"),e.k0s(),e.DNE(31,q,2,3,"option",14),e.k0s()()()()()()(),e.nrm(32,"br")(33,"br"),e.j41(34,"div",15)(35,"table",16)(36,"thead")(37,"tr")(38,"th",17),e.EFF(39,"#"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Nombre"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"Siglas"),e.k0s(),e.j41(44,"th",17),e.EFF(45,"Ciudad"),e.k0s(),e.j41(46,"th",17),e.EFF(47,"Coordinador General"),e.k0s(),e.j41(48,"th",18),e.EFF(49,"Estado"),e.k0s(),e.j41(50,"th",18),e.EFF(51,"OPC"),e.k0s()()(),e.j41(52,"tbody"),e.DNE(53,ne,20,13,"tr",19),e.k0s()()(),e.j41(54,"div",20)(55,"ngb-pagination",21),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshUniversities())}),e.k0s(),e.j41(56,"select",22),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshUniversities())}),e.j41(57,"option",23),e.EFF(58,"2 items per page"),e.k0s(),e.j41(59,"option",23),e.EFF(60,"4 items per page"),e.k0s(),e.j41(61,"option",23),e.EFF(62,"6 items per page"),e.k0s()()()()(),e.DNE(63,re,32,5,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Universidad")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newUniversity.nombre),e.R7$(4),e.R50("ngModel",o.newUniversity.siglas),e.R7$(6),e.R50("ngModel",o.newUniversity.ciudad),e.R7$(4),e.R50("ngModel",o.newUniversity.coordinador),e.R7$(3),e.Y8G("ngForOf",o.listcoordinadores),e.R7$(22),e.Y8G("ngForOf",o.universities),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var se=p(1620),ae=p(2198);const le=(r,l)=>({"text-success":r,"text-danger":l});function C(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",29),e.k0s()}}function T(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",31),e.k0s()}}function u(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteCentroAsistencial(o.id))}),e.nrm(1,"i",32),e.k0s()}}function g(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",21),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",22)(8,"span",23),e.nrm(9,"i",23),e.k0s()(),e.j41(10,"td",22)(11,"button",24),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(48);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",25),e.k0s(),e.DNE(13,C,2,0,"button",26)(14,T,2,0,"button",27)(15,u,2,0,"button",26),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.direccion),e.R7$(2),e.Y8G("ngClass",e.l_i(8,le,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function b(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"h4",34),e.EFF(2,"Editar Centro Asistencial"),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",36)(5,"div",2)(6,"div",3)(7,"label",37),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",38),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCentroAsistencial.nombre,o)||(i.newCentroAsistencial.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",3)(11,"label",39),e.EFF(12,"Direccion"),e.k0s(),e.j41(13,"input",40),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCentroAsistencial.direccion,o)||(i.newCentroAsistencial.direccion=o),e.Njj(o)}),e.k0s()()(),e.nrm(14,"br"),e.k0s(),e.j41(15,"div",41)(16,"button",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateCentroAsistencial())}),e.EFF(17,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newCentroAsistencial.nombre),e.R7$(4),e.R50("ngModel",t.newCentroAsistencial.direccion)}}let j=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.centrosAsistencialesService=o,this.auth=i,this.page=1,this.pageSize=4,this.CENTROS_ASISTENCIALES=[],this.centrosAsistenciales=[],this.collection=0,this.newCentroAsistencial={nombre:"",direccion:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshCentrosAsistenciales()}ngOnInit(){this.getCentroAsistencial()}refreshCentrosAsistenciales(){this.centrosAsistenciales=this.CENTROS_ASISTENCIALES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.CENTROS_ASISTENCIALES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newCentroAsistencial={...t},this.modalService.open(n)}getCentroAsistencial(){this.centrosAsistencialesService.getCentrosAsistenciales().subscribe({next:t=>{this.CENTROS_ASISTENCIALES=t,this.collection=t.length,this.refreshCentrosAsistenciales()},error:t=>{console.error("Error fetching especialidad:",t)}})}updateCentroAsistencial(){const t=this.newCentroAsistencial.id;t?this.centrosAsistencialesService.updateCentroAsistencial(t,this.newCentroAsistencial).subscribe({next:n=>{console.log("Centro asistencial updated successfully:",n),this.getCentroAsistencial(),this.refreshCentrosAsistenciales(),this.modalService.dismissAll()},error:n=>{console.error("Error updating centro asistencial:",n)}}):console.error("No se ha podido actualizar el centro asistencial")}deleteCentroAsistencial(t){this.centrosAsistencialesService.deleteCentroAsistencial(t).subscribe({next:n=>{console.log("CentroAsistencial deleted successfully:",n),this.getCentroAsistencial(),this.refreshCentrosAsistenciales()},error:n=>{console.error("Error deleting CentroAsistencial:",n)}})}createCentroAsistencial(){this.centrosAsistencialesService.createCentroAsistencial(this.newCentroAsistencial).subscribe({next:t=>{console.log("Centro asistencial created successfully:",t),this.getCentroAsistencial(),this.refreshCentrosAsistenciales(),this.modalService.dismissAll()},error:t=>{console.error("Error creating centro asistencial:",t)}})}patchEstado(t){this.centrosAsistencialesService.changeStateCentroAsistencial(t).subscribe({next:n=>{console.log("Centro asistencial state changed successfully:",n),this.getCentroAsistencial(),this.refreshCentrosAsistenciales()},error:n=>{console.error("Error changing state centro asistencial:",n)}})}patchEstadoTrue(t){this.centrosAsistencialesService.changeStateCentroAsistencialTrue(t).subscribe({next:n=>{console.log("Centro asistencial state changed successfully:",n),this.getCentroAsistencial(),this.refreshCentrosAsistenciales()},error:n=>{console.error("Error changing state centro asistencial:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(ae.f),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-centro-asistencial"]],features:[e.Jv_([m.LY,m.Bq])],decls:49,vars:17,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label","fw-bold"],["type","text","name","descripcion","id","descripcion","placeholder","Escribir direccion",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_especialidad",1,"form-label","fw-bold"],["type","text","name","nombre_especialidad","id","nombre_especialidad","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","coordinador",1,"form-label","fw-bold"],["type","text","name","coordinador","id","coordinador","placeholder","Escribir direccion",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Centro Asistencial "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createCentroAsistencial())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCentroAsistencial.nombre,a)||(o.newCentroAsistencial.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",10),e.EFF(17,"Direcci\xf3n"),e.k0s(),e.j41(18,"input",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCentroAsistencial.direccion,a)||(o.newCentroAsistencial.direccion=a),e.Njj(a)}),e.k0s()()(),e.nrm(19,"br"),e.k0s()()()(),e.nrm(20,"br")(21,"br"),e.j41(22,"div",12)(23,"table",13)(24,"thead")(25,"tr")(26,"th",14),e.EFF(27,"#"),e.k0s(),e.j41(28,"th",14),e.EFF(29,"Nombre"),e.k0s(),e.j41(30,"th",14),e.EFF(31,"Direcci\xf3n"),e.k0s(),e.j41(32,"th",15),e.EFF(33,"Estado"),e.k0s(),e.j41(34,"th",15),e.EFF(35,"OPC"),e.k0s()()(),e.j41(36,"tbody"),e.DNE(37,g,16,11,"tr",16),e.k0s()()(),e.j41(38,"div",17)(39,"ngb-pagination",18),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshCentrosAsistenciales())}),e.k0s(),e.j41(40,"select",19),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshCentrosAsistenciales())}),e.j41(41,"option",20),e.EFF(42,"2 items per page"),e.k0s(),e.j41(43,"option",20),e.EFF(44,"4 items per page"),e.k0s(),e.j41(45,"option",20),e.EFF(46,"6 items per page"),e.k0s()()()()(),e.DNE(47,b,18,2,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Centro Asistencial")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newCentroAsistencial.nombre),e.R7$(4),e.R50("ngModel",o.newCentroAsistencial.direccion),e.R7$(19),e.Y8G("ngForOf",o.centrosAsistenciales),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var V=p(8084);const x=(r,l)=>({"text-success":r,"text-danger":l});function be(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",31),e.k0s()}}function he(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",33),e.k0s()}}function fe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteSede(o.id))}),e.nrm(1,"i",34),e.k0s()}}function Ce(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",23),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td",24)(10,"span",25),e.nrm(11,"i",25),e.k0s()(),e.j41(12,"td",24)(13,"button",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(56);return e.Njj(i.openEditModal(o,c))}),e.nrm(14,"i",27),e.k0s(),e.DNE(15,be,2,0,"button",28)(16,he,2,0,"button",29)(17,fe,2,0,"button",28),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.direccion),e.R7$(2),e.JRh(t.ciudad),e.R7$(2),e.Y8G("ngClass",e.l_i(9,x,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function je(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",35)(1,"h4",36),e.EFF(2,"Editar Especialidad"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",2)(6,"div",3)(7,"label",8),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",9),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newSedeAdjudicacion.nombre,o)||(i.newSedeAdjudicacion.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",3)(11,"label",10),e.EFF(12,"Descripci\xf3n"),e.k0s(),e.j41(13,"input",11),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newSedeAdjudicacion.direccion,o)||(i.newSedeAdjudicacion.direccion=o),e.Njj(o)}),e.k0s()()(),e.nrm(14,"br"),e.j41(15,"div",2)(16,"div",3)(17,"label",12),e.EFF(18,"Ciudad"),e.k0s(),e.j41(19,"input",13),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newSedeAdjudicacion.ciudad,o)||(i.newSedeAdjudicacion.ciudad=o),e.Njj(o)}),e.k0s()()()(),e.j41(20,"div",39)(21,"button",40),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(22,"Cancelar"),e.k0s(),e.j41(23,"button",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateSedeAdjudicacion())}),e.EFF(24,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newSedeAdjudicacion.nombre),e.R7$(4),e.R50("ngModel",t.newSedeAdjudicacion.direccion),e.R7$(6),e.R50("ngModel",t.newSedeAdjudicacion.ciudad)}}let ce=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.sedeAdjudicacionService=o,this.auth=i,this.page=1,this.pageSize=4,this.SEDE_ADJUDICACIONES=[],this.sedeAdjudicaciones=[],this.collection=0,this.newSedeAdjudicacion={nombre:"",direccion:"",ciudad:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshSedeAdjudicacion()}ngOnInit(){this.getSedeAdjudicacion()}refreshSedeAdjudicacion(){this.sedeAdjudicaciones=this.SEDE_ADJUDICACIONES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.SEDE_ADJUDICACIONES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newSedeAdjudicacion={...t},this.modalService.open(n)}getSedeAdjudicacion(){this.sedeAdjudicacionService.getSedeAdjudicacion().subscribe({next:t=>{this.SEDE_ADJUDICACIONES=t,this.collection=t.length,this.refreshSedeAdjudicacion()},error:t=>{console.error("Error fetching especialidad:",t)}})}createSedeAdjudicacion(){this.sedeAdjudicacionService.createSedeAdjudicacion(this.newSedeAdjudicacion).subscribe({next:t=>{console.log("Sede created successfully:",t),this.newSedeAdjudicacion={nombre:"",direccion:"",ciudad:"",estado:!0},this.getSedeAdjudicacion(),this.refreshSedeAdjudicacion()},error:t=>{console.error("Error creating sede:",t)}})}updateSedeAdjudicacion(){const t=this.newSedeAdjudicacion.id;t&&this.sedeAdjudicacionService.updateSedeAdjudicacion(t,this.newSedeAdjudicacion).subscribe({next:n=>{console.log("Sede updated successfully:",n),this.getSedeAdjudicacion(),this.refreshSedeAdjudicacion(),this.modalService.dismissAll()},error:n=>{console.error("Error updating sede:",n)}})}patchEstado(t){this.sedeAdjudicacionService.changeStateSedeAdjudicacion(t).subscribe({next:n=>{console.log("Sede updated successfully:",n),this.getSedeAdjudicacion(),this.refreshSedeAdjudicacion()},error:n=>{console.error("Error updating sede:",n)}})}patchEstadoTrue(t){this.sedeAdjudicacionService.changeStateSedeAdjudicacionTrue(t).subscribe({next:n=>{console.log("Sede updated successfully:",n),this.getSedeAdjudicacion(),this.refreshSedeAdjudicacion()},error:n=>{console.error("Error updating sede:",n)}})}deleteSede(t){this.sedeAdjudicacionService.deleteSedeAdjudicacion(t).subscribe({next:n=>{console.log("Sede deleted successfully:",n),this.getSedeAdjudicacion(),this.refreshSedeAdjudicacion()},error:n=>{console.error("Error deleting Sede:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(V.N),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-sede-adjudicacion"]],features:[e.Jv_([m.LY,m.Bq])],decls:57,vars:18,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label","fw-bold"],["type","text","name","descripcion","id","descripcion","placeholder","Escribir descripci\xf3n",1,"form-control",3,"ngModelChange","ngModel"],["for","ciudad",1,"form-label","fw-bold"],["type","text","name","ciudad","id","ciudad","placeholder","Escribir ciudad",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Sede Adjudicacion "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createSedeAdjudicacion())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newSedeAdjudicacion.nombre,a)||(o.newSedeAdjudicacion.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",10),e.EFF(17,"Descripci\xf3n"),e.k0s(),e.j41(18,"input",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newSedeAdjudicacion.direccion,a)||(o.newSedeAdjudicacion.direccion=a),e.Njj(a)}),e.k0s()()(),e.nrm(19,"br"),e.j41(20,"div",2)(21,"div",3)(22,"label",12),e.EFF(23,"Ciudad"),e.k0s(),e.j41(24,"input",13),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newSedeAdjudicacion.ciudad,a)||(o.newSedeAdjudicacion.ciudad=a),e.Njj(a)}),e.k0s()()(),e.nrm(25,"br"),e.k0s()()()(),e.nrm(26,"br")(27,"br"),e.j41(28,"div",14)(29,"table",15)(30,"thead")(31,"tr")(32,"th",16),e.EFF(33,"#"),e.k0s(),e.j41(34,"th",16),e.EFF(35,"Nombre"),e.k0s(),e.j41(36,"th",16),e.EFF(37,"Direcci\xf3n"),e.k0s(),e.j41(38,"th",16),e.EFF(39,"Ciudad"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Estado"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"OPC"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,Ce,18,12,"tr",18),e.k0s()()(),e.j41(46,"div",19)(47,"ngb-pagination",20),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshSedeAdjudicacion())}),e.k0s(),e.j41(48,"select",21),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshSedeAdjudicacion())}),e.j41(49,"option",22),e.EFF(50,"2 items per page"),e.k0s(),e.j41(51,"option",22),e.EFF(52,"4 items per page"),e.k0s(),e.j41(53,"option",22),e.EFF(54,"6 items per page"),e.k0s()()()()(),e.DNE(55,je,25,3,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Sede Adjudicacion")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newSedeAdjudicacion.nombre),e.R7$(4),e.R50("ngModel",o.newSedeAdjudicacion.direccion),e.R7$(6),e.R50("ngModel",o.newSedeAdjudicacion.ciudad),e.R7$(21),e.Y8G("ngForOf",o.sedeAdjudicaciones),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var de=p(8348);const Ee=(r,l)=>({"text-success":r,"text-danger":l});function ke(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",34),e.k0s()}}function Fe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",36),e.k0s()}}function ve(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteTipoProfesional(o.id))}),e.nrm(1,"i",37),e.k0s()}}function Re(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",26),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",27)(6,"span",28),e.nrm(7,"i",28),e.k0s()(),e.j41(8,"td",27)(9,"button",29),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(51);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",30),e.k0s(),e.DNE(11,ke,2,0,"button",31)(12,Fe,2,0,"button",32)(13,ve,2,0,"button",31),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,Ee,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Se(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",38)(1,"h4",39),e.EFF(2,"Editar Tipo Profesional"),e.k0s(),e.j41(3,"button",40),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",41)(5,"div",2)(6,"div",8)(7,"label",9),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",10),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newTipoProfesional.nombre,o)||(i.newTipoProfesional.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",11)(11,"div",12)(12,"input",42),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newTipoProfesional.is_postgrado,o)||(i.newTipoProfesional.is_postgrado=o),e.Njj(o)}),e.k0s(),e.j41(13,"label",14),e.EFF(14," Pregrado "),e.k0s()(),e.j41(15,"div",12)(16,"input",15),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newTipoProfesional.is_postgrado,o)||(i.newTipoProfesional.is_postgrado=o),e.Njj(o)}),e.k0s(),e.j41(17,"label",16),e.EFF(18," Postgrado "),e.k0s()()()(),e.nrm(19,"br"),e.k0s(),e.j41(20,"div",43)(21,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateTipoProfesional())}),e.EFF(22,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newTipoProfesional.nombre),e.R7$(3),e.R50("ngModel",t.newTipoProfesional.is_postgrado),e.Y8G("value",!1),e.R7$(4),e.R50("ngModel",t.newTipoProfesional.is_postgrado),e.Y8G("value",!0)}}let pe=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.tipoProfesionalService=o,this.auth=i,this.page=1,this.pageSize=4,this.TIPOPROFESIONALES=[],this.tipoProfesionales=[],this.collection=0,this.newTipoProfesional={nombre:"",is_postgrado:!1,estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshTipoProfesional()}ngOnInit(){this.getTipoProfesional()}refreshTipoProfesional(){this.tipoProfesionales=this.TIPOPROFESIONALES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.TIPOPROFESIONALES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newTipoProfesional={...t},this.modalService.open(n)}getTipoProfesional(){this.tipoProfesionalService.getTipoProfesionales().subscribe({next:t=>{this.TIPOPROFESIONALES=t,this.collection=t.length,this.refreshTipoProfesional()},error:t=>{console.error("Error fetching especialidad:",t)}})}createTipoProfesional(){this.tipoProfesionalService.createTipoProfesional(this.newTipoProfesional).subscribe({next:t=>{console.log("Tipo-Profesional created successfully:",t),this.getTipoProfesional(),this.refreshTipoProfesional(),this.modalService.dismissAll()},error:t=>{console.error("Error creating tipo-profesional:",t)}})}updateTipoProfesional(){const t=this.newTipoProfesional.id;t?this.tipoProfesionalService.updateTipoProfesional(t,this.newTipoProfesional).subscribe({next:n=>{console.log("Tipo-Profesional updated successfully:",n),this.getTipoProfesional(),this.refreshTipoProfesional(),this.modalService.dismissAll()},error:n=>{console.error("Error updating tipo-profesional:",n)}}):console.error("No se puede actualizar el tipo-profesional: ID es indefinido")}patchEstado(t){this.tipoProfesionalService.changeStateTipoProfesional(t).subscribe({next:n=>{console.log("Tipo-Profesional updated successfully:",n),this.getTipoProfesional(),this.refreshTipoProfesional()},error:n=>{console.error("Error updating tipo-profesional:",n)}})}patchEstadoTrue(t){this.tipoProfesionalService.changeStateTipoProfesionalTrue(t).subscribe({next:n=>{console.log("Tipo-Profesional updated successfully:",n),this.getTipoProfesional(),this.refreshTipoProfesional()},error:n=>{console.error("Error updating tipo-profesional:",n)}})}deleteTipoProfesional(t){this.tipoProfesionalService.deleteTipoProfesional(t).subscribe({next:n=>{console.log("TipoProfesional deleted successfully:",n),this.getTipoProfesional(),this.refreshTipoProfesional()},error:n=>{console.error("Error deleting TipoProfesional:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(de.A),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-tipo-profesional"]],features:[e.Jv_([m.LY,m.Bq])],decls:52,vars:20,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],[1,"col-md-6",2,"margin-right","3.0rem"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4","d-flex","justify-content-end","flex-column","align-items-start"],[1,"form-check"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1","checked","",1,"form-check-input",3,"ngModelChange","ngModel","value"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","flexRadioDefault","id","flexRadioDefault2",1,"form-check-input",3,"ngModelChange","ngModel","value"],["for","flexRadioDefault2",1,"form-check-label"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"ngModelChange","ngModel","value"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Tipo Profesional "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createTipoProfesional())}),e.j41(10,"div",2)(11,"div",8)(12,"label",9),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",10),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newTipoProfesional.nombre,a)||(o.newTipoProfesional.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",11)(16,"div",12)(17,"input",13),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newTipoProfesional.is_postgrado,a)||(o.newTipoProfesional.is_postgrado=a),e.Njj(a)}),e.k0s(),e.j41(18,"label",14),e.EFF(19," Pregrado "),e.k0s()(),e.j41(20,"div",12)(21,"input",15),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newTipoProfesional.is_postgrado,a)||(o.newTipoProfesional.is_postgrado=a),e.Njj(a)}),e.k0s(),e.j41(22,"label",16),e.EFF(23," Postgrado "),e.k0s()()()(),e.nrm(24,"br"),e.k0s()()()(),e.nrm(25,"br")(26,"br"),e.j41(27,"div",17)(28,"table",18)(29,"thead")(30,"tr")(31,"th",19),e.EFF(32,"#"),e.k0s(),e.j41(33,"th",19),e.EFF(34,"Nombre"),e.k0s(),e.j41(35,"th",20),e.EFF(36,"Estado"),e.k0s(),e.j41(37,"th",20),e.EFF(38,"OPC"),e.k0s()()(),e.j41(39,"tbody"),e.DNE(40,Re,14,10,"tr",21),e.k0s()()(),e.j41(41,"div",22)(42,"ngb-pagination",23),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshTipoProfesional())}),e.k0s(),e.j41(43,"select",24),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshTipoProfesional())}),e.j41(44,"option",25),e.EFF(45,"2 items per page"),e.k0s(),e.j41(46,"option",25),e.EFF(47,"4 items per page"),e.k0s(),e.j41(48,"option",25),e.EFF(49,"6 items per page"),e.k0s()()()()(),e.DNE(50,Se,23,5,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Tipo Profesional")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newTipoProfesional.nombre),e.R7$(3),e.R50("ngModel",o.newTipoProfesional.is_postgrado),e.Y8G("value",!1),e.R7$(4),e.R50("ngModel",o.newTipoProfesional.is_postgrado),e.Y8G("value",!0),e.R7$(19),e.Y8G("ngForOf",o.tipoProfesionales),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.Fm,d.BC,d.vS,m.s5,S.w],styles:[".form-check-input[_ngcontent-%COMP%]:checked{background-color:#008607;border-color:#008607}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#86feb8;outline:0;box-shadow:0 0 0 .25rem #0dfd2d40}"]})}}return r})();var Te=p(9480);const Ne=(r,l)=>({"text-success":r,"text-danger":l});function we(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",27),e.k0s()}}function Ge(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function Ie(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteEntidad(o.id))}),e.nrm(1,"i",30),e.k0s()}}function ye(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",19),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",20)(6,"span",21),e.nrm(7,"i",21),e.k0s()(),e.j41(8,"td",20)(9,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",23),e.k0s(),e.DNE(11,we,2,0,"button",24)(12,Ge,2,0,"button",25)(13,Ie,2,0,"button",24),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,Ne,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Me(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"Editar entidad"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",2)(6,"div",3)(7,"label",35),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",36),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newEntidad.nombre,o)||(i.newEntidad.nombre=o),e.Njj(o)}),e.k0s()()(),e.nrm(10,"br"),e.k0s(),e.j41(11,"div",37)(12,"button",38),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateEntidad())}),e.EFF(13,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newEntidad.nombre)}}let ue=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.entidadService=o,this.auth=i,this.page=1,this.pageSize=4,this.ENTIDADES=[],this.entidades=[],this.collection=0,this.newEntidad={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshEntidades()}ngOnInit(){this.getEntidades()}refreshEntidades(){this.entidades=this.ENTIDADES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ENTIDADES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newEntidad={...t},this.modalService.open(n)}getEntidades(){this.entidadService.getEntidades().subscribe({next:t=>{this.ENTIDADES=t,this.collection=t.length,this.refreshEntidades()},error:t=>{console.error("Error fetching especialidad:",t)}})}updateEntidad(){const t=this.newEntidad.id;t?this.entidadService.updateEntidad(t,this.newEntidad).subscribe({next:n=>{console.log("Entidad updated successfully:",n),this.getEntidades(),this.refreshEntidades(),this.modalService.dismissAll()},error:n=>{console.error("Error updating entidad:",n)}}):console.error("No se puede actualizar la entidad: ID es indefinido")}createEntidad(){this.entidadService.createEntidad(this.newEntidad).subscribe({next:t=>{console.log("Entidad created successfully:",t),this.getEntidades(),this.refreshEntidades(),this.modalService.dismissAll()},error:t=>{console.error("Error creating entidad:",t)}})}patchEstado(t){this.entidadService.changeStateEntidad(t).subscribe({next:n=>{console.log("Entidad state changed successfully:",n),this.getEntidades(),this.refreshEntidades()},error:n=>{console.error("Error changing state entidad:",n)}})}patchEstadoTrue(t){this.entidadService.changeStateEntidadTrue(t).subscribe({next:n=>{console.log("Entidad state changed successfully:",n),this.getEntidades(),this.refreshEntidades()},error:n=>{console.error("Error changing state entidad:",n)}})}deleteEntidad(t){this.entidadService.deleteEntidad(t).subscribe({next:n=>{console.log("Entidad deleted successfully:",n),this.getEntidades(),this.refreshEntidades()},error:n=>{console.error("Error deleting Entidad:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(Te.t),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-entidad"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:16,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_especialidad",1,"form-label","fw-bold"],["type","text","name","nombre_especialidad","id","nombre_especialidad","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Entidad "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createEntidad())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newEntidad.nombre,a)||(o.newEntidad.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",13),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",13),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,ye,14,10,"tr",14),e.k0s()()(),e.j41(32,"div",15)(33,"ngb-pagination",16),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshEntidades())}),e.k0s(),e.j41(34,"select",17),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshEntidades())}),e.j41(35,"option",18),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",18),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,Me,14,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Entidad")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newEntidad.nombre),e.R7$(17),e.Y8G("ngForOf",o.entidades),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var Ve=p(6284);const xe=(r,l)=>({"text-success":r,"text-danger":l});function Be(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",28),e.k0s()}}function De(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",30),e.k0s()}}function Ae(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deletePlaza(o.id))}),e.nrm(1,"i",31),e.k0s()}}function ze(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",21)(6,"span",22),e.nrm(7,"i",22),e.k0s()(),e.j41(8,"td",21)(9,"button",23),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",24),e.k0s(),e.DNE(11,Be,2,0,"button",25)(12,De,2,0,"button",26)(13,Ae,2,0,"button",25),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,xe,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Ue(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Editar Plaza"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",2)(6,"div",8)(7,"label",9),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",10),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newPlaza.nombre,o)||(i.newPlaza.nombre=o),e.Njj(o)}),e.k0s()()(),e.nrm(10,"br"),e.k0s(),e.j41(11,"div",36)(12,"button",37),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(13,"Cancelar"),e.k0s(),e.j41(14,"button",38),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updatePlaza())}),e.EFF(15,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newPlaza.nombre)}}let me=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.plazaService=o,this.auth=i,this.page=1,this.pageSize=4,this.PLAZAS=[],this.plazas=[],this.collection=0,this.newPlaza={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshPlazas()}ngOnInit(){this.getPlaza()}refreshPlazas(){this.plazas=this.PLAZAS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.PLAZAS.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newPlaza={...t},this.modalService.open(n)}getPlaza(){this.plazaService.getPlaza().subscribe({next:t=>{this.PLAZAS=t,this.collection=t.length,this.refreshPlazas()},error:t=>{console.error("Error fetching especialidad:",t)}})}createPlaza(){this.plazaService.createPlaza(this.newPlaza).subscribe({next:t=>{console.log("Plaza created successfully:",t),this.newPlaza={nombre:"",estado:!0},this.getPlaza(),this.refreshPlazas()},error:t=>{console.error("Error creating plaza:",t)}})}deletePlaza(t){this.plazaService.deletePlaza(t).subscribe({next:n=>{console.log("Plaza deleted successfully:",n),this.getPlaza(),this.refreshPlazas()},error:n=>{console.error("Error deleting Plaza:",n)}})}updatePlaza(){const t=this.newPlaza.id;t&&this.plazaService.updatePlaza(t,this.newPlaza).subscribe({next:n=>{console.log("Plaza updated successfully:",n),this.newPlaza={nombre:"",estado:!0},this.getPlaza(),this.refreshPlazas(),this.modalService.dismissAll()},error:n=>{console.error("Error updating plaza:",n)}})}patchEstado(t){this.plazaService.changeStatePlaza(t).subscribe({next:n=>{console.log("Plaza updated successfully:",n),this.getPlaza(),this.refreshPlazas()},error:n=>{console.error("Error updating plaza:",n)}})}patchEstadoTrue(t){this.plazaService.changeStatePlazaTrue(t).subscribe({next:n=>{console.log("Rol updated successfully:",n),this.getPlaza(),this.refreshPlazas()},error:n=>{console.error("Error updating rol:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(Ve._),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-plaza"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:15,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"col-md-12"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Plaza "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createPlaza())}),e.j41(10,"div",2)(11,"div",8)(12,"label",9),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",10),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newPlaza.nombre,a)||(o.newPlaza.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th",13),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",13),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",14),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",14),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,ze,14,10,"tr",15),e.k0s()()(),e.j41(32,"div",16)(33,"ngb-pagination",17),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshPlazas())}),e.k0s(),e.j41(34,"select",18),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshPlazas())}),e.j41(35,"option",19),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",19),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",19),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,Ue,16,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Plaza")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newPlaza.nombre),e.R7$(17),e.Y8G("ngForOf",o.plazas),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var Pe=p(8480);const $e=(r,l)=>({"text-success":r,"text-danger":l});function Xe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",29),e.k0s()}}function Ye(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",31),e.k0s()}}function Oe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteRol(o.id))}),e.nrm(1,"i",32),e.k0s()}}function He(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",21),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",22)(8,"span",23),e.nrm(9,"i",23),e.k0s()(),e.j41(10,"td",22)(11,"button",24),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(48);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",25),e.k0s(),e.DNE(13,Xe,2,0,"button",26)(14,Ye,2,0,"button",27)(15,Oe,2,0,"button",26),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.descripcion),e.R7$(2),e.Y8G("ngClass",e.l_i(8,$e,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.role.includes("ADMIN"))}}function Le(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",33)(1,"h4",34),e.EFF(2,"Editar Rol"),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",36)(5,"div",2)(6,"div",3)(7,"label",37),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",38),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newRol.nombre,o)||(i.newRol.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",3)(11,"label",39),e.EFF(12,"Descripci\xf3n"),e.k0s(),e.j41(13,"input",40),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newRol.descripcion,o)||(i.newRol.descripcion=o),e.Njj(o)}),e.k0s()()(),e.nrm(14,"br"),e.k0s(),e.j41(15,"div",41)(16,"button",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateRol())}),e.EFF(17,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newRol.nombre),e.R7$(4),e.R50("ngModel",t.newRol.descripcion)}}let ge=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.rolService=o,this.auth=i,this.page=1,this.pageSize=4,this.ROLES=[],this.roles=[],this.collection=0,this.newRol={nombre:"",descripcion:"",estado:!0},this.role="",this.role=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshRoles()}ngOnInit(){this.getRoles()}refreshRoles(){this.roles=this.ROLES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ROLES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newRol={...t},this.modalService.open(n)}updateRol(){const t=this.newRol.id;t?this.rolService.updateRol(t,this.newRol).subscribe({next:n=>{console.log("Rol updated successfully:",n),this.getRoles(),this.refreshRoles(),this.modalService.dismissAll()},error:n=>{console.error("Error updating rol:",n)}}):console.error("No se puede actualizar el rol: ID es indefinido")}getRoles(){this.rolService.getRoles().subscribe({next:t=>{this.ROLES=t,this.collection=t.length,this.refreshRoles()},error:t=>{console.error("Error fetching rol:",t)}})}createRol(){this.rolService.createRol(this.newRol).subscribe({next:t=>{console.log("Rol created successfully:",t),this.newRol={nombre:"",descripcion:"",estado:!0},this.getRoles(),this.refreshRoles()},error:t=>{console.error("Error creating rol:",t)}})}patchEstado(t){this.rolService.changeStateRol(t).subscribe({next:n=>{console.log("Rol updated successfully:",n),this.getRoles(),this.refreshRoles()},error:n=>{console.error("Error updating rol:",n)}})}patchEstadoTrue(t){this.rolService.changeStateRolTrue(t).subscribe({next:n=>{console.log("Rol updated successfully:",n),this.getRoles(),this.refreshRoles()},error:n=>{console.error("Error updating rol:",n)}})}deleteRol(t){this.rolService.deleteRol(t).subscribe({next:n=>{console.log("Rol deleted successfully:",n),this.getRoles(),this.refreshRoles()},error:n=>{console.error("Error deleting Rol:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(Pe.P),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-rol"]],features:[e.Jv_([m.LY,m.Bq])],decls:49,vars:16,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label","fw-bold"],["type","text","name","descripcion","id","descripcion","placeholder","Escribir descripci\xf3n",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_especialidad",1,"form-label","fw-bold"],["type","text","name","nombre_especialidad","id","nombre_especialidad","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","coordinador",1,"form-label","fw-bold"],["type","text","name","coordinador","id","coordinador","placeholder","Escribir descripci\xf3n",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Rol "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createRol())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newRol.nombre,a)||(o.newRol.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",10),e.EFF(17,"Descripci\xf3n"),e.k0s(),e.j41(18,"input",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newRol.descripcion,a)||(o.newRol.descripcion=a),e.Njj(a)}),e.k0s()()(),e.nrm(19,"br"),e.k0s()()()(),e.nrm(20,"br")(21,"br"),e.j41(22,"div",12)(23,"table",13)(24,"thead")(25,"tr")(26,"th",14),e.EFF(27,"#"),e.k0s(),e.j41(28,"th",14),e.EFF(29,"Nombre"),e.k0s(),e.j41(30,"th",14),e.EFF(31,"Descripci\xf3n"),e.k0s(),e.j41(32,"th",15),e.EFF(33,"Estado"),e.k0s(),e.j41(34,"th",15),e.EFF(35,"OPC"),e.k0s()()(),e.j41(36,"tbody"),e.DNE(37,He,16,11,"tr",16),e.k0s()()(),e.j41(38,"div",17)(39,"ngb-pagination",18),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshRoles())}),e.k0s(),e.j41(40,"select",19),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshRoles())}),e.j41(41,"option",20),e.EFF(42,"2 items per page"),e.k0s(),e.j41(43,"option",20),e.EFF(44,"4 items per page"),e.k0s(),e.j41(45,"option",20),e.EFF(46,"6 items per page"),e.k0s()()()()(),e.DNE(47,Le,18,2,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Rol")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newRol.nombre),e.R7$(4),e.R50("ngModel",o.newRol.descripcion),e.R7$(19),e.Y8G("ngForOf",o.roles),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var _e=p(4526);const Je=(r,l)=>({"text-success":r,"text-danger":l});function We(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",28),e.k0s()}}function Ke(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",30),e.k0s()}}function Qe(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteFacultad(o.id))}),e.nrm(1,"i",31),e.k0s()}}function Ze(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",21)(8,"span",22),e.nrm(9,"i",22),e.k0s()(),e.j41(10,"td",21)(11,"button",23),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(43);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",24),e.k0s(),e.DNE(13,We,2,0,"button",25)(14,Ke,2,0,"button",26)(15,Qe,2,0,"button",25),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(null==t.universidadDetalle?null:t.universidadDetalle.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(8,Je,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function qe(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nombre," ")}}function et(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Agregar Facultad"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newFacultad.nombre,o)||(i.newFacultad.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Universidad de Procedencia"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newFacultad.universidad,o)||(i.newFacultad.universidad=o),e.Njj(o)}),e.j41(14,"option",40),e.EFF(15,"Seleccione Universidad"),e.k0s(),e.DNE(16,qe,2,2,"option",41),e.k0s()()(),e.nrm(17,"br"),e.k0s(),e.j41(18,"div",42)(19,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cancel click"))}),e.EFF(20,"Cancelar"),e.k0s(),e.j41(21,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveFacultad())}),e.EFF(22,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newFacultad.nombre),e.R7$(4),e.R50("ngModel",t.newFacultad.universidad),e.R7$(3),e.Y8G("ngForOf",t.universidades)}}function tt(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.nombre," ")}}function ot(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Editar Facultad"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editFacultad.nombre,o)||(i.editFacultad.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Universidad de Procedencia"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editFacultad.universidad,o)||(i.editFacultad.universidad=o),e.Njj(o)}),e.j41(14,"option",40),e.EFF(15,"Seleccione Universidad"),e.k0s(),e.DNE(16,tt,2,2,"option",41),e.k0s()()()(),e.j41(17,"div",42)(18,"button",46),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(19,"Cancelar"),e.k0s(),e.j41(20,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateFacultad())}),e.EFF(21,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.editFacultad.nombre),e.R7$(4),e.R50("ngModel",t.editFacultad.universidad),e.R7$(3),e.Y8G("ngForOf",t.universidades)}}let nt=(()=>{class r{constructor(t,n,o,i,c){this.universidadService=n,this.modalService=o,this.facultadesService=i,this.auth=c,this.page=1,this.pageSize=4,this.FACULTADES=[],this.facultades=[],this.collection=0,this.universidadeskey={},this.newFacultad={nombre:"",estado:!0,universidad:void 0},this.editFacultad={nombre:"",estado:!0,universidad:void 0},this.rol="",this.universidades=[],this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshfacultades()}ngOnInit(){this.getfacultades(),this.getUniversidades()}refreshfacultades(){this.facultades=this.FACULTADES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.FACULTADES.length}open(t){this.modalService.open(t)}openEditModal(t,n){console.log(t),this.editFacultad={...t},this.editFacultad.universidadDetalle=this.universidades.find(o=>o.id===t.universidad),this.modalService.open(n)}getUniversidadNombre(t){return this.universidadeskey[t]||"Desconocido"}getfacultades(){this.facultadesService.getAllFacultad().subscribe({next:t=>{this.FACULTADES=t,this.FACULTADES=t.map(n=>({...n,universidadDetalle:n.universidad,universidad:n.universidad.id})),this.collection=t.length,this.refreshfacultades()},error:t=>{console.error("Error fetching facultad:",t)}})}changeUniversity(t){console.log(t),this.editFacultad.universidad=t.id}saveFacultad(){this.newFacultad.nombre?this.facultadesService.createFacultad(this.newFacultad).subscribe({next:t=>{console.log("Facultad created successfully:",t),this.getfacultades(),this.refreshfacultades(),this.modalService.dismissAll(),this.newFacultad={nombre:"",estado:!0,universidad:void 0}},error:t=>{console.error("Error creating facultad:",t)}}):console.error("Por favor complete todos los campos requeridos.")}getUniversidades(){this.universidadService.getUniversidades().subscribe(t=>{this.universidadeskey[t.id]=t.nombre,this.universidades=t.filter(n=>!0===n.estado)},t=>{console.error(t)})}updateFacultad(){console.log(this.editFacultad);const t=this.editFacultad.id,n={id:this.editFacultad.id,nombre:this.editFacultad.nombre,estado:this.editFacultad.estado,universidad:this.editFacultad.universidad};console.log(n),t?this.facultadesService.updateFacultad(t,n).subscribe({next:o=>{console.log("Facultad updated successfully:",o),this.getfacultades(),this.refreshfacultades(),this.modalService.dismissAll()},error:o=>{console.error("Error updating facultad:",o)}}):console.error("No se puede actualizar la facultad: ID es indefinido")}patchEstado(t){this.facultadesService.changeStateFacultad(t).subscribe({next:n=>{console.log("Facultad updated successfully:",n),this.getfacultades(),this.refreshfacultades()},error:n=>{console.error("Error updating facultad:",n)}})}patchEstadoTrue(t){this.facultadesService.changeStateFacultadTrue(t).subscribe({next:n=>{console.log("Grupo updated successfully:",n),this.getfacultades(),this.refreshfacultades()},error:n=>{console.error("Error updating grupo:",n)}})}deleteFacultad(t){this.facultadesService.deleteFacultad(t).subscribe({next:n=>{console.log("Facultad deleted successfully:",n),this.getfacultades(),this.refreshfacultades()},error:n=>{console.error("Error deleting Facultad:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(U.k),e.rXU(m.Bq),e.rXU(_e.e),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-facultad"]],features:[e.Jv_([m.LY,m.Bq])],decls:44,vars:8,consts:[["content",""],["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[1,"btn","border","border-primary","position-absolute","top-0","end-0",3,"click"],[1,"fa-solid","fa-file-medical","me-2","text-primary"],[1,"text-primary","fw-bold"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_facultad",1,"form-label","fw-bold"],["type","text","name","nombre_facultad","id","nombre_facultad","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","universidad",1,"form-label","fw-bold"],["name","universidad","id","universidad",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"],[3,"value"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",2)(1,"mat-card-content")(2,"div",3)(3,"div",4)(4,"mat-card-title",5),e.nrm(5,"i",6),e.EFF(6," Facultades "),e.k0s()(),e.j41(7,"div",4)(8,"div",7)(9,"button",8),e.bIt("click",function(){e.eBV(i);const a=e.sdS(41);return e.Njj(o.open(a))}),e.nrm(10,"i",9),e.j41(11,"span",10),e.EFF(12,"Agregar"),e.k0s()()()()(),e.nrm(13,"br")(14,"br"),e.j41(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th",13),e.EFF(20,"#"),e.k0s(),e.j41(21,"th",13),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"th",13),e.EFF(24,"Universidad"),e.k0s(),e.j41(25,"th",14),e.EFF(26,"Estado"),e.k0s(),e.j41(27,"th",14),e.EFF(28,"OPC"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Ze,16,11,"tr",15),e.k0s()()(),e.j41(31,"div",16)(32,"ngb-pagination",17),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshfacultades())}),e.k0s(),e.j41(33,"select",18),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshfacultades())}),e.j41(34,"option",19),e.EFF(35,"2 items per page"),e.k0s(),e.j41(36,"option",19),e.EFF(37,"4 items per page"),e.k0s(),e.j41(38,"option",19),e.EFF(39,"6 items per page"),e.k0s()()()()(),e.DNE(40,et,23,3,"ng-template",null,0,e.C5r)(42,ot,22,3,"ng-template",null,1,e.C5r)}2&n&&(e.R7$(30),e.Y8G("ngForOf",o.facultades),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5]})}}return r})();var it=p(5128);const rt=(r,l)=>({"text-success":r,"text-danger":l});function st(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",28),e.k0s()}}function at(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",30),e.k0s()}}function lt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteCarrera(o.id))}),e.nrm(1,"i",31),e.k0s()}}function ct(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",21)(8,"span",22),e.nrm(9,"i",22),e.k0s()(),e.j41(10,"td",21)(11,"button",23),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(43);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",24),e.k0s(),e.DNE(13,st,2,0,"button",25)(14,at,2,0,"button",26)(15,lt,2,0,"button",25),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(null==t.facultadDetalle?null:t.facultadDetalle.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(8,rt,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function dt(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," (",null==t.universidadDetalle?null:t.universidadDetalle.siglas,") ")}}function pt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Agregar Carrera"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCarrera.nombre,o)||(i.newCarrera.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Facultad"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCarrera.facultad,o)||(i.newCarrera.facultad=o),e.Njj(o)}),e.j41(14,"option",40),e.EFF(15,"Seleccione Facultad"),e.k0s(),e.DNE(16,dt,2,3,"option",41),e.k0s()()(),e.nrm(17,"br"),e.k0s(),e.j41(18,"div",42)(19,"button",43),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cancel click"))}),e.EFF(20,"Cancelar"),e.k0s(),e.j41(21,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveCarrera())}),e.EFF(22,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newCarrera.nombre),e.R7$(4),e.R50("ngModel",t.newCarrera.facultad),e.R7$(3),e.Y8G("ngForOf",t.listfacultad)}}function ut(r,l){if(1&r&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," (",null==t.universidadDetalle?null:t.universidadDetalle.siglas,") ")}}function mt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",32)(1,"h4",33),e.EFF(2,"Editar Carrera"),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",35)(5,"div",3)(6,"div",4)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editCarrera.nombre,o)||(i.editCarrera.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",4)(11,"label",38),e.EFF(12,"Facultad"),e.k0s(),e.j41(13,"select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.editCarrera.facultadDetalle.id,o)||(i.editCarrera.facultadDetalle.id=o),e.Njj(o)}),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.changeUniversity(o))}),e.j41(14,"option",40),e.EFF(15,"Seleccione Facultad"),e.k0s(),e.DNE(16,ut,2,3,"option",41),e.k0s()()()(),e.j41(17,"div",42)(18,"button",46),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(19,"Cancelar"),e.k0s(),e.j41(20,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateCarrera())}),e.EFF(21,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.editCarrera.nombre),e.R7$(4),e.R50("ngModel",t.editCarrera.facultadDetalle.id),e.R7$(3),e.Y8G("ngForOf",t.listfacultad)}}let gt=(()=>{class r{constructor(t,n,o,i,c){this.modalService=n,this.carrerasService=o,this.facultadesService=i,this.auth=c,this.page=1,this.pageSize=4,this.CARRERAS=[],this.carreras=[],this.collection=0,this.listfacultad=[],this.facultades={},this.newCarrera={nombre:"",estado:!0,facultad:void 0},this.editCarrera={nombre:"",estado:!0,facultad:void 0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshCarreras()}ngOnInit(){this.getCarreras(),this.getFacultad()}getFacultad(){this.facultadesService.getAllFacultad().subscribe(t=>{console.log(t),this.facultades[t.id]=t.nombre,this.listfacultad=t.map(n=>({...n,universidadDetalle:n.universidad,universidad:n.universidad.id}))},t=>{console.error(t)})}refreshCarreras(){this.carreras=this.carreras.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.carreras.length}open(t){this.modalService.open(t)}openEditModal(t,n){console.log(t),this.editCarrera={...t},this.modalService.open(n)}getFacultadNombre(t){return this.facultades[t]||"Desconocido"}changeUniversity(t){this.editCarrera.facultad=t.id}getCarreras(){this.carrerasService.getAllCarrera().subscribe({next:t=>{this.carreras=t,this.carreras=t.map(n=>({...n,facultadDetalle:n.facultad})),console.log(this.listfacultad),this.collection=t.length,this.refreshCarreras()},error:t=>{console.error("Error fetching carrera:",t)}})}saveCarrera(){this.newCarrera.nombre?this.carrerasService.createCarrera(this.newCarrera).subscribe({next:t=>{console.log("Carrera created successfully:",t),this.getCarreras(),this.refreshCarreras(),this.modalService.dismissAll(),this.newCarrera={nombre:"",estado:!0,facultad:void 0}},error:t=>{console.error("Error creating carrera:",t)}}):console.error("Por favor complete todos los campos requeridos.")}updateCarrera(){console.log(this.editCarrera);const t=this.editCarrera.id;t?this.carrerasService.updateCarrera(t,this.editCarrera).subscribe({next:n=>{console.log("Carrera updated successfully:",n),this.getCarreras(),this.refreshCarreras(),this.modalService.dismissAll()},error:n=>{console.error("Error updating carrera:",n)}}):console.error("No se puede actualizar la carrera: ID es indefinido")}patchEstado(t){this.carrerasService.changeStateCarrera(t).subscribe({next:n=>{console.log("Carrera updated successfully:",n),this.getCarreras(),this.refreshCarreras()},error:n=>{console.error("Error updating carrera:",n)}})}patchEstadoTrue(t){this.carrerasService.changeStateCarreraTrue(t).subscribe({next:n=>{console.log("Grupo updated successfully:",n),this.getCarreras(),this.refreshCarreras()},error:n=>{console.error("Error updating grupo:",n)}})}deleteCarrera(t){this.carrerasService.deleteCarrera(t).subscribe({next:n=>{console.log("Carrera deleted successfully:",n),this.getCarreras(),this.refreshCarreras()},error:n=>{console.error("Error deleting Carrera:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(it.O),e.rXU(_e.e),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-carrera"]],features:[e.Jv_([m.LY,m.Bq])],decls:44,vars:8,consts:[["content",""],["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[1,"btn","border","border-primary","position-absolute","top-0","end-0",3,"click"],[1,"fa-solid","fa-file-medical","me-2","text-primary"],[1,"text-primary","fw-bold"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_carrera",1,"form-label","fw-bold"],["type","text","name","nombre_carrera","id","nombre_carrera","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","facultad",1,"form-label","fw-bold"],["name","facultad","id","facultad",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"],[3,"value"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",2)(1,"mat-card-content")(2,"div",3)(3,"div",4)(4,"mat-card-title",5),e.nrm(5,"i",6),e.EFF(6," Carreras "),e.k0s()(),e.j41(7,"div",4)(8,"div",7)(9,"button",8),e.bIt("click",function(){e.eBV(i);const a=e.sdS(41);return e.Njj(o.open(a))}),e.nrm(10,"i",9),e.j41(11,"span",10),e.EFF(12,"Agregar"),e.k0s()()()()(),e.nrm(13,"br")(14,"br"),e.j41(15,"div",11)(16,"table",12)(17,"thead")(18,"tr")(19,"th",13),e.EFF(20,"#"),e.k0s(),e.j41(21,"th",13),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"th",13),e.EFF(24,"Facultad"),e.k0s(),e.j41(25,"th",14),e.EFF(26,"Estado"),e.k0s(),e.j41(27,"th",14),e.EFF(28,"OPC"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,ct,16,11,"tr",15),e.k0s()()(),e.j41(31,"div",16)(32,"ngb-pagination",17),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshCarreras())}),e.k0s(),e.j41(33,"select",18),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshCarreras())}),e.j41(34,"option",19),e.EFF(35,"2 items per page"),e.k0s(),e.j41(36,"option",19),e.EFF(37,"4 items per page"),e.k0s(),e.j41(38,"option",19),e.EFF(39,"6 items per page"),e.k0s()()()()(),e.DNE(40,pt,23,3,"ng-template",null,0,e.C5r)(42,mt,22,3,"ng-template",null,1,e.C5r)}2&n&&(e.R7$(30),e.Y8G("ngForOf",o.carreras),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5]})}}return r})();var _t=p(6776);const bt=(r,l)=>({"text-success":r,"text-danger":l});function ht(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",27),e.k0s()}}function ft(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function Ct(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteCargo(o.id))}),e.nrm(1,"i",30),e.k0s()}}function jt(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",19),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",20)(6,"span",21),e.nrm(7,"i",21),e.k0s()(),e.j41(8,"td",20)(9,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",23),e.k0s(),e.DNE(11,ht,2,0,"button",24)(12,ft,2,0,"button",25)(13,Ct,2,0,"button",24),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,bt,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Et(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"Editar Cargo"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",2)(6,"div",3)(7,"label",8),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",9),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCargo.nombre,o)||(i.newCargo.nombre=o),e.Njj(o)}),e.k0s()()(),e.nrm(10,"br"),e.k0s(),e.j41(11,"div",35)(12,"button",36),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(13," Cancelar "),e.k0s(),e.j41(14,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateCargo())}),e.EFF(15," Guardar "),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newCargo.nombre)}}let kt=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.cargoService=o,this.auth=i,this.page=1,this.pageSize=4,this.CARGOS=[],this.cargos=[],this.collection=0,this.newCargo={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshCargos()}ngOnInit(){this.getCargos()}openEditModal(t,n){this.newCargo={...t},this.modalService.open(n)}refreshCargos(){this.cargos=this.CARGOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.CARGOS.length}open(t){this.modalService.open(t)}getCargos(){this.cargoService.getCargo().subscribe({next:t=>{this.CARGOS=t,this.collection=t.length,this.refreshCargos()},error:t=>{console.error("Error fetching especialidad:",t)}})}deleteCargo(t){this.cargoService.deleteCargo(t).subscribe({next:n=>{console.log("Cargo deleted successfully:",n),this.getCargos(),this.refreshCargos()},error:n=>{console.error("Error deleting Cargo:",n)}})}createCargo(){this.cargoService.createCargo(this.newCargo).subscribe({next:t=>{console.log("Cargo created successfully:",t),this.newCargo={nombre:"",estado:!0},this.getCargos(),this.refreshCargos()},error:t=>{console.error("Error creating cargo:",t)}})}updateCargo(){const t=this.newCargo.id;t&&this.cargoService.updateCargo(t,this.newCargo).subscribe({next:n=>{console.log("Cargo updated successfully:",n),this.getCargos(),this.refreshCargos(),this.modalService.dismissAll()},error:n=>{console.error("Error updating cargo:",n)}})}patchEstado(t){this.cargoService.changeStateCargo(t).subscribe({next:n=>{console.log("Cargo updated successfully:",n),this.getCargos(),this.refreshCargos()},error:n=>{console.error("Error updating cargo:",n)}})}patchEstadoTrue(t){this.cargoService.changeStateCargoTrue(t).subscribe({next:n=>{console.log("cargo updated successfully:",n),this.getCargos(),this.refreshCargos()},error:n=>{console.error("Error updating cargo:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(_t.q),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-cargo"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:16,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showImportButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Cargo "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createCargo())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCargo.nombre,a)||(o.newCargo.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",13),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",13),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,jt,14,10,"tr",14),e.k0s()()(),e.j41(32,"div",15)(33,"ngb-pagination",16),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshCargos())}),e.k0s(),e.j41(34,"select",17),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshCargos())}),e.j41(35,"option",18),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",18),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,Et,16,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showImportButton",!0)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Cargo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newCargo.nombre),e.R7$(17),e.Y8G("ngForOf",o.cargos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w],styles:[".button-cards[_ngcontent-%COMP%]{background-color:#199448;color:#fff}"]})}}return r})();var Ft=p(7164);const vt=(r,l)=>({"text-success":r,"text-danger":l});function Rt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",27),e.k0s()}}function St(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function Tt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteTipoDocument(o.id))}),e.nrm(1,"i",30),e.k0s()}}function Nt(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",19),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",20)(6,"span",21),e.nrm(7,"i",21),e.k0s()(),e.j41(8,"td",20)(9,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",23),e.k0s(),e.DNE(11,Rt,2,0,"button",24)(12,St,2,0,"button",25)(13,Tt,2,0,"button",24),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,vt,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function wt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"Editar Tipo de Documento"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",2)(6,"div",35)(7,"label",36),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newTipoDocumento.nombre,o)||(i.newTipoDocumento.nombre=o),e.Njj(o)}),e.k0s()()()(),e.j41(10,"div",38)(11,"button",39),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(12,"Cancelar"),e.k0s(),e.j41(13,"button",40),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateTipoDocumentos())}),e.EFF(14,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newTipoDocumento.nombre)}}let Gt=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.tipoDocumentoService=o,this.auth=i,this.page=1,this.pageSize=4,this.TIPO_DOCUMENTOS=[],this.tipoDocumentos=[],this.collection=0,this.newTipoDocumento={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshTipoDocumentos()}ngOnInit(){this.getTipoDocumentos()}refreshTipoDocumentos(){this.tipoDocumentos=this.TIPO_DOCUMENTOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.TIPO_DOCUMENTOS.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newTipoDocumento={...t},this.modalService.open(n)}getTipoDocumentos(){this.tipoDocumentoService.getTipoDocumento().subscribe({next:t=>{this.TIPO_DOCUMENTOS=t,this.collection=t.length,this.refreshTipoDocumentos()},error:t=>{console.error("Error fetching tipodocuemnto:",t)}})}createTipoDocumentos(){this.tipoDocumentoService.createTipoDocumentos(this.newTipoDocumento).subscribe({next:t=>{console.log("Rol created successfully:",t),this.newTipoDocumento={nombre:"",estado:!0},this.getTipoDocumentos(),this.refreshTipoDocumentos()},error:t=>{console.error("Error creating rol:",t)}})}updateTipoDocumentos(){const t=this.newTipoDocumento.id;t&&this.tipoDocumentoService.updateTipoDocumentos(t,this.newTipoDocumento).subscribe({next:n=>{console.log("Tipo documento updated successfully:",n),this.getTipoDocumentos(),this.refreshTipoDocumentos(),this.modalService.dismissAll()},error:n=>{console.error("Error updating tipodocumento:",n)}})}patchEstado(t){this.tipoDocumentoService.changeStateTipoDocumentos(t).subscribe({next:n=>{console.log("tipodocumento updated successfully:",n),this.getTipoDocumentos(),this.refreshTipoDocumentos()},error:n=>{console.error("Error updating tipodocumento:",n)}})}patchEstadoTrue(t){this.tipoDocumentoService.changeStateTipoDocumentosTrue(t).subscribe({next:n=>{console.log("Tipo documento updated successfully:",n),this.getTipoDocumentos(),this.refreshTipoDocumentos()},error:n=>{console.error("Error updating tipo documento:",n)}})}deleteTipoDocument(t){this.tipoDocumentoService.deleteTipoDocumentos(t).subscribe({next:n=>{console.log("Tipo de Documento deleted successfully:",n),this.getTipoDocumentos(),this.refreshTipoDocumentos()},error:n=>{console.error("Error deleting Tipo de Documento:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(Ft.a),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-tipo-documento"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:15,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],["for","nombre_tipo_documento",1,"form-label","fw-bold"],["type","text","name","nombre_tipo_documento","id","nombre_tipo_documento","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Tipo documento "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createTipoDocumentos())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newTipoDocumento.nombre,a)||(o.newTipoDocumento.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",13),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",13),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,Nt,14,10,"tr",14),e.k0s()()(),e.j41(32,"div",15)(33,"ngb-pagination",16),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshTipoDocumentos())}),e.k0s(),e.j41(34,"select",17),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshTipoDocumentos())}),e.j41(35,"option",18),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",18),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,wt,15,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Rol")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newTipoDocumento.nombre),e.R7$(17),e.Y8G("ngForOf",o.tipoDocumentos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();const It=(r,l)=>({"text-success":r,"text-danger":l});function yt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",31),e.k0s()}}function Mt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",33),e.k0s()}}function Vt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteCoordinador(o.id))}),e.nrm(1,"i",34),e.k0s()}}function xt(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",23),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td",24)(10,"span",25),e.nrm(11,"i",25),e.k0s()(),e.j41(12,"td",24)(13,"button",26),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(56);return e.Njj(i.openEditModal(o,c))}),e.nrm(14,"i",27),e.k0s(),e.DNE(15,yt,2,0,"button",28)(16,Mt,2,0,"button",29)(17,Vt,2,0,"button",28),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.apellido),e.R7$(2),e.JRh(t.documento),e.R7$(2),e.Y8G("ngClass",e.l_i(9,It,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Bt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",35)(1,"h4",36),e.EFF(2,"Editar Coordinador"),e.k0s(),e.j41(3,"button",37),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",38)(5,"div",2)(6,"div",3)(7,"label",8),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",9),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCoordinador.nombre,o)||(i.newCoordinador.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",3)(11,"label",10),e.EFF(12,"Apellido"),e.k0s(),e.j41(13,"input",11),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCoordinador.apellido,o)||(i.newCoordinador.apellido=o),e.Njj(o)}),e.k0s()()(),e.nrm(14,"br"),e.j41(15,"div",2)(16,"div",3)(17,"label",12),e.EFF(18,"Documento"),e.k0s(),e.j41(19,"input",13),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newCoordinador.documento,o)||(i.newCoordinador.documento=o),e.Njj(o)}),e.k0s()()()(),e.j41(20,"div",39)(21,"button",40),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(22," Cancelar "),e.k0s(),e.j41(23,"button",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateCoordinador())}),e.EFF(24," Guardar "),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newCoordinador.nombre),e.R7$(4),e.R50("ngModel",t.newCoordinador.apellido),e.R7$(6),e.R50("ngModel",t.newCoordinador.documento)}}let Dt=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.coordinadorService=o,this.auth=i,this.page=1,this.pageSize=4,this.COORDINADORES=[],this.coordinadores=[],this.collection=0,this.newCoordinador={nombre:"",apellido:"",documento:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshCoordinador()}ngOnInit(){this.getCoordinador()}refreshCoordinador(){this.coordinadores=this.COORDINADORES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.COORDINADORES.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newCoordinador={...t},this.modalService.open(n)}getCoordinador(){this.coordinadorService.getCoordinador().subscribe({next:t=>{this.COORDINADORES=t,this.collection=t.length,this.refreshCoordinador()},error:t=>{console.error("Error fetching coordinador:",t)}})}deleteCoordinador(t){this.coordinadorService.deleteCoordinadores(t).subscribe({next:n=>{console.log("Coordinador deleted successfully:",n),this.getCoordinador(),this.refreshCoordinador()},error:n=>{console.error("Error deleting Coordinador:",n)}})}createCoordinador(){this.coordinadorService.createCoordinador(this.newCoordinador).subscribe({next:t=>{console.log("Rol created successfully:",t),this.newCoordinador={nombre:"",apellido:"",documento:"",estado:!0},this.getCoordinador(),this.refreshCoordinador()},error:t=>{console.error("Error creating rol:",t)}})}updateCoordinador(){const t=this.newCoordinador.id;t&&this.coordinadorService.updateCoordinador(t,this.newCoordinador).subscribe({next:n=>{console.log("Coordinador updated successfully:",n),this.getCoordinador(),this.refreshCoordinador(),this.modalService.dismissAll()},error:n=>{console.error("Error updating coordinador:",n)}})}patchEstado(t){this.coordinadorService.changeStateCoordinador(t).subscribe({next:n=>{console.log("Coordinador updated successfully:",n),this.getCoordinador(),this.refreshCoordinador()},error:n=>{console.error("Error updating Coordinador:",n)}})}patchEstadoTrue(t){this.coordinadorService.changeStateCargoTrue(t).subscribe({next:n=>{console.log("Coordinador updated successfully:",n),this.getCoordinador(),this.refreshCoordinador()},error:n=>{console.error("Error updating Coordinador:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU($),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-coordinador"]],features:[e.Jv_([m.LY,m.Bq])],decls:57,vars:18,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido",1,"form-label","fw-bold"],["type","text","name","apellido","id","apellido","placeholder","Escribir apellido",1,"form-control",3,"ngModelChange","ngModel"],["for","documento",1,"form-label","fw-bold"],["type","text","name","documento","id","documento","placeholder","Escribir documento",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Coordinador "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createCoordinador())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCoordinador.nombre,a)||(o.newCoordinador.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",10),e.EFF(17,"Apellido"),e.k0s(),e.j41(18,"input",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCoordinador.apellido,a)||(o.newCoordinador.apellido=a),e.Njj(a)}),e.k0s()()(),e.nrm(19,"br"),e.j41(20,"div",2)(21,"div",3)(22,"label",12),e.EFF(23,"Documento"),e.k0s(),e.j41(24,"input",13),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newCoordinador.documento,a)||(o.newCoordinador.documento=a),e.Njj(a)}),e.k0s()()(),e.nrm(25,"br"),e.k0s()()()(),e.nrm(26,"br")(27,"br"),e.j41(28,"div",14)(29,"table",15)(30,"thead")(31,"tr")(32,"th",16),e.EFF(33,"#"),e.k0s(),e.j41(34,"th",16),e.EFF(35,"Nombre"),e.k0s(),e.j41(36,"th",16),e.EFF(37,"Apellido"),e.k0s(),e.j41(38,"th",16),e.EFF(39,"Documento"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Estado"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"OPC"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,xt,18,12,"tr",18),e.k0s()()(),e.j41(46,"div",19)(47,"ngb-pagination",20),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshCoordinador())}),e.k0s(),e.j41(48,"select",21),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshCoordinador())}),e.j41(49,"option",22),e.EFF(50,"2 items per page"),e.k0s(),e.j41(51,"option",22),e.EFF(52,"4 items per page"),e.k0s(),e.j41(53,"option",22),e.EFF(54,"6 items per page"),e.k0s()()()()(),e.DNE(55,Bt,25,3,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Coordinador")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newCoordinador.nombre),e.R7$(4),e.R50("ngModel",o.newCoordinador.apellido),e.R7$(6),e.R50("ngModel",o.newCoordinador.documento),e.R7$(21),e.Y8G("ngForOf",o.coordinadores),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();const At=(r,l)=>({"text-success":r,"text-danger":l});function zt(r,l){if(1&r&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t.id),e.R7$(),e.Lme(" ",t.nombre," (",t.is_postgrado?"Postgrado":"Pregrado",") ")}}function Ut(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",32),e.k0s()}}function Pt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",34),e.k0s()}}function $t(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteGrupo(o.id))}),e.nrm(1,"i",35),e.k0s()}}function Xt(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",24),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",25)(8,"span",26),e.nrm(9,"i",26),e.k0s()(),e.j41(10,"td",25)(11,"button",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(51);return e.Njj(i.openEditModal(o,c))}),e.nrm(12,"i",28),e.k0s(),e.DNE(13,Ut,2,0,"button",29)(14,Pt,2,0,"button",30)(15,$t,2,0,"button",29),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.categoria_profesional.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(8,At,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Yt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",36)(1,"h4",37),e.EFF(2,"Editar Especialidad"),e.k0s(),e.j41(3,"button",38),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",39)(5,"div",2)(6,"div",3)(7,"label",40),e.EFF(8,"Nombre"),e.k0s(),e.nrm(9,"input",41),e.k0s(),e.j41(10,"div",3)(11,"label",42),e.EFF(12,"Coordinador"),e.k0s(),e.nrm(13,"input",43),e.k0s()(),e.nrm(14,"br"),e.j41(15,"div",2)(16,"div",3)(17,"label",44),e.EFF(18,"Universidad"),e.k0s(),e.j41(19,"select",45)(20,"option",12),e.EFF(21,"UPeU"),e.k0s(),e.j41(22,"option",12),e.EFF(23,"UMSM"),e.k0s(),e.j41(24,"option",12),e.EFF(25,"UVR"),e.k0s()()(),e.j41(26,"div",3)(27,"label",44),e.EFF(28,"Estado"),e.k0s(),e.j41(29,"select",45)(30,"option",12),e.EFF(31,"Activo"),e.k0s(),e.j41(32,"option",12),e.EFF(33,"Inactivo"),e.k0s()()()()(),e.j41(34,"div",46)(35,"button",47),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(36,"Cancelar"),e.k0s(),e.j41(37,"button",48),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Save click"))}),e.EFF(38,"Guardar"),e.k0s()()}}let Ot=(()=>{class r{constructor(t,n,o,i,c){this.modalService=n,this.grupoService=o,this.tipoProfesionalService=i,this.auth=c,this.page=1,this.pageSize=4,this.GRUPOS=[],this.grupos=[],this.collection=0,this.listcategories=[],this.newGrupo={nombre:"",estado:!0,emite_certificado:!0,categoria_profesional:{id:"",nombre:"",estado:!0,is_postgrado:!0}},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshGrupos()}ngOnInit(){this.getGrupos(),this.getTipoProfesional()}refreshGrupos(){this.grupos=this.GRUPOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.GRUPOS.length}open(t){this.modalService.open(t)}openEditModal(t,n){this.newGrupo={...t},this.modalService.open(n)}getTipoProfesional(){this.tipoProfesionalService.getTipoProfesionales().subscribe(t=>{console.log(t),this.listcategories=t},t=>{console.error(t)})}getGrupos(){this.grupoService.getGruposProfesionales().subscribe({next:t=>{this.GRUPOS=t,this.collection=t.length,this.refreshGrupos()},error:t=>{console.error("Error fetching grupos:",t)}})}createGrupo(){const t={...this.newGrupo,categoria_profesional:this.newGrupo.categoria_profesional?.id};console.log(this.newGrupo),this.grupoService.createGrupoProfesional(t).subscribe({next:n=>{console.log("Grupo created successfully:",n),this.newGrupo={nombre:"",estado:!0,emite_certificado:!0,categoria_profesional:{id:"",nombre:"",estado:!0,is_postgrado:!1}},this.getGrupos(),this.refreshGrupos()},error:n=>{console.error("Error creating grupo:",n)}})}changeCategory(t){console.log("Categor\xeda seleccionada:",t),this.newGrupo.categoria_profesional.id=t,console.log("Grupo actualizado:",this.newGrupo)}updateGrupo(){const t=this.newGrupo.id;t?this.grupoService.updateGrupoProfesional(t,this.newGrupo).subscribe({next:n=>{console.log("Rol updated successfully:",n),this.getGrupos(),this.refreshGrupos(),this.modalService.dismissAll()},error:n=>{console.error("Error updating rol:",n)}}):console.error("No se puede actualizar el rol: ID es indefinido")}patchEstado(t){this.grupoService.changeStateGrupoProfesional(t).subscribe({next:n=>{console.log("Grupo updated successfully:",n),this.getGrupos(),this.refreshGrupos()},error:n=>{console.error("Error updating grupo:",n)}})}patchEstadoTrue(t){this.grupoService.changeStateGrupoProfesionalTrue(t).subscribe({next:n=>{console.log("Grupo updated successfully:",n),this.getGrupos(),this.refreshGrupos()},error:n=>{console.error("Error updating grupo:",n)}})}deleteGrupo(t){this.grupoService.deleteGrupoProfesional(t).subscribe({next:n=>{console.log("Grupo deleted successfully:",n),this.getGrupos(),this.refreshGrupos()},error:n=>{console.error("Error deleting Grupo:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(G.J),e.rXU(de.A),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-grupo-profesional"]],decls:52,vars:18,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","categorie",1,"form-label","fw-bold"],["name","categorie","id","categorie",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_especialidad",1,"form-label","fw-bold"],["type","text","name","nombre_especialidad","id","nombre_especialidad","placeholder","Escribir nombre",1,"form-control"],["for","coordinador",1,"form-label","fw-bold"],["type","text","name","coordinador","id","coordinador","placeholder","Escribir coordinador",1,"form-control"],["for","universidad",1,"form-label","fw-bold"],["name","","id","universidad",1,"form-select"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Grupo Profesional "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createGrupo())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newGrupo.nombre,a)||(o.newGrupo.nombre=a),e.Njj(a)}),e.k0s()(),e.j41(15,"div",3)(16,"label",10),e.EFF(17,"Categor\xeda"),e.k0s(),e.j41(18,"select",11),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newGrupo.categoria_profesional.id,a)||(o.newGrupo.categoria_profesional.id=a),e.Njj(a)}),e.bIt("ngModelChange",function(a){return e.eBV(i),e.Njj(o.changeCategory(a))}),e.j41(19,"option",12),e.EFF(20,"Seleccione la Categor\xeda"),e.k0s(),e.DNE(21,zt,2,3,"option",13),e.k0s()()(),e.nrm(22,"br"),e.k0s()()()(),e.nrm(23,"br")(24,"br"),e.j41(25,"div",14)(26,"table",15)(27,"thead")(28,"tr")(29,"th",16),e.EFF(30,"#"),e.k0s(),e.j41(31,"th",16),e.EFF(32,"Nombre"),e.k0s(),e.j41(33,"th",16),e.EFF(34,"Categoria Profesional"),e.k0s(),e.j41(35,"th",17),e.EFF(36,"Estado"),e.k0s(),e.j41(37,"th",17),e.EFF(38,"OPC"),e.k0s()()(),e.j41(39,"tbody"),e.DNE(40,Xt,16,11,"tr",18),e.k0s()()(),e.j41(41,"div",19)(42,"ngb-pagination",20),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshGrupos())}),e.k0s(),e.j41(43,"select",21),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshGrupos())}),e.j41(44,"option",22),e.EFF(45,"2 items per page"),e.k0s(),e.j41(46,"option",22),e.EFF(47,"4 items per page"),e.k0s(),e.j41(48,"option",22),e.EFF(49,"6 items per page"),e.k0s()()()()(),e.DNE(50,Yt,39,0,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Grupo Profesional")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newGrupo.nombre),e.R7$(4),e.R50("ngModel",o.newGrupo.categoria_profesional.id),e.R7$(3),e.Y8G("ngForOf",o.listcategories),e.R7$(19),e.Y8G("ngForOf",o.grupos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var Ht=p(9036);const Lt=(r,l)=>({"text-success":r,"text-danger":l});function Jt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",27),e.k0s()}}function Wt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function Kt(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteNivel(o.id))}),e.nrm(1,"i",30),e.k0s()}}function Qt(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",19),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",20)(6,"span",21),e.nrm(7,"i",21),e.k0s()(),e.j41(8,"td",20)(9,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",23),e.k0s(),e.DNE(11,Jt,2,0,"button",24)(12,Wt,2,0,"button",25)(13,Kt,2,0,"button",24),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(7,Lt,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function Zt(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"Editar Nivel"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",2)(6,"div",3)(7,"label",35),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",36),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newNivel.nombre,o)||(i.newNivel.nombre=o),e.Njj(o)}),e.k0s()()(),e.nrm(10,"br"),e.k0s(),e.j41(11,"div",37)(12,"button",38),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(13,"Cancelar"),e.k0s(),e.j41(14,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateNivel())}),e.EFF(15,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newNivel.nombre)}}let qt=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.nivelService=o,this.auth=i,this.page=1,this.pageSize=4,this.NIVELES=[],this.niveles=[],this.collection=0,this.newNivel={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshNiveles()}ngOnInit(){this.getNiveles()}refreshNiveles(){this.niveles=this.NIVELES.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.NIVELES.length}open(t){this.newNivel={nombre:"",estado:!0},this.modalService.open(t)}openEditModal(t,n){this.newNivel={...t},this.modalService.open(n)}getNiveles(){this.nivelService.getNiveles().subscribe({next:t=>{this.NIVELES=t,this.collection=t.length,this.refreshNiveles()},error:t=>{console.error("Error fetching nivel:",t)}})}createNivel(){this.nivelService.createNivel(this.newNivel).subscribe({next:t=>{console.log("Nivel created successfully:",t),this.newNivel={nombre:"",estado:!0},this.getNiveles(),this.refreshNiveles()},error:t=>{console.error("Error creating nivel:",t)}})}updateNivel(){const t=this.newNivel.id;t?this.nivelService.updateNivel(t,this.newNivel).subscribe({next:n=>{console.log("Nivel updated successfully:",n),this.getNiveles(),this.refreshNiveles(),this.modalService.dismissAll()},error:n=>{console.error("Error updating nivel:",n)}}):console.error("No se puede actualizar el nivel: ID es indefinido")}patchEstado(t){this.nivelService.changeStateNivel(t).subscribe({next:n=>{console.log("Nivel updated successfully:",n),this.getNiveles(),this.refreshNiveles()},error:n=>{console.error("Error updating nivel:",n)}})}patchEstadoTrue(t){this.nivelService.changeStateNivelTrue(t).subscribe({next:n=>{console.log("Nivel updated successfully:",n),this.getNiveles(),this.refreshNiveles()},error:n=>{console.error("Error updating nivel:",n)}})}deleteNivel(t){this.nivelService.deleteNivel(t).subscribe({next:n=>{console.log("Nivel deleted successfully:",n),this.getNiveles(),this.refreshNiveles()},error:n=>{console.error("Error deleting Nivel:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(Ht.k),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-nivel"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:15,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_nivel",1,"form-label","fw-bold"],["type","text","name","nombre_nivel","id","nombre_nivel","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Nivel "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createNivel())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newNivel.nombre,a)||(o.newNivel.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",13),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",13),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,Qt,14,10,"tr",14),e.k0s()()(),e.j41(32,"div",15)(33,"ngb-pagination",16),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshNiveles())}),e.k0s(),e.j41(34,"select",17),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshNiveles())}),e.j41(35,"option",18),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",18),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,Zt,16,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Nivel")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newNivel.nombre),e.R7$(17),e.Y8G("ngForOf",o.niveles),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();var eo=p(4180);const to=(r,l)=>({"text-success":r,"text-danger":l});function oo(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id))}),e.nrm(1,"i",27),e.k0s()}}function no(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function io(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstadoTrue(o.id))}),e.nrm(1,"i",29),e.k0s()}}function ro(r,l){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteEstablecimiento(o.id))}),e.nrm(1,"i",30),e.k0s()}}function so(r,l){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",19),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",20)(6,"span",21),e.nrm(7,"i",21),e.k0s()(),e.j41(8,"td",20)(9,"button",22),e.bIt("click",function(){const o=e.eBV(t).$implicit,i=e.XpG(),c=e.sdS(42);return e.Njj(i.openEditModal(o,c))}),e.nrm(10,"i",23),e.k0s(),e.DNE(11,oo,2,0,"button",24)(12,no,2,0,"button",25)(13,io,2,0,"button",25)(14,ro,2,0,"button",24),e.k0s()()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(2),e.JRh((o.page-1)*o.pageSize+n+1),e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.Y8G("ngClass",e.l_i(8,to,t.estado,!t.estado)),e.R7$(),e.Y8G("ngClass",t.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(4),e.Y8G("ngIf",t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",!t.estado),e.R7$(),e.Y8G("ngIf",o.rol.includes("ADMIN"))}}function ao(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",31)(1,"h4",32),e.EFF(2,"Editar Establecimiento"),e.k0s(),e.j41(3,"button",33),e.bIt("click",function(){const o=e.eBV(t).dismiss;return e.Njj(o("Cross click"))}),e.k0s()(),e.j41(4,"div",34)(5,"div",2)(6,"div",3)(7,"label",35),e.EFF(8,"Nombre"),e.k0s(),e.j41(9,"input",36),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.newEstablecimiento.nombre,o)||(i.newEstablecimiento.nombre=o),e.Njj(o)}),e.k0s()()(),e.nrm(10,"br"),e.k0s(),e.j41(11,"div",37)(12,"button",38),e.bIt("click",function(){const o=e.eBV(t).close;return e.Njj(o("Cancel click"))}),e.EFF(13,"Cancelar"),e.k0s(),e.j41(14,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.updateEstablecimiento())}),e.EFF(15,"Guardar"),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.newEstablecimiento.nombre)}}let lo=(()=>{class r{constructor(t,n,o,i){this.modalService=n,this.establecimientoService=o,this.auth=i,this.page=1,this.pageSize=4,this.ESTABLECIMIENTOS=[],this.establecimientos=[],this.collection=0,this.newEstablecimiento={nombre:"",estado:!0},this.rol="",this.rol=this.auth.getUserRole(),t.backdrop="static",t.keyboard=!1,this.refreshEstablecimientos()}ngOnInit(){this.getEstablecimientos()}openEditModal(t,n){this.newEstablecimiento={...t},this.modalService.open(n)}refreshEstablecimientos(){this.establecimientos=this.ESTABLECIMIENTOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ESTABLECIMIENTOS.length}open(t){this.modalService.open(t)}getEstablecimientos(){this.establecimientoService.getEstablecimientoRpa().subscribe({next:t=>{this.ESTABLECIMIENTOS=t,this.collection=t.length,this.refreshEstablecimientos()},error:t=>{console.error("Error fetching estab:",t)}})}createEstablecimiento(){this.establecimientoService.createEstablecimientoRpa(this.newEstablecimiento).subscribe({next:t=>{console.log("Establecimiento created successfully:",t),this.newEstablecimiento={nombre:"",estado:!0},this.getEstablecimientos(),this.refreshEstablecimientos()},error:t=>{console.error("Error creating establecimiento:",t)}})}updateEstablecimiento(){const t=this.newEstablecimiento.id;t?this.establecimientoService.updateEstablecimientoRpa(t,this.newEstablecimiento).subscribe({next:n=>{console.log("Establecimiento updated successfully:",n),this.getEstablecimientos(),this.refreshEstablecimientos(),this.modalService.dismissAll()},error:n=>{console.error("Error updating establecimiento:",n)}}):console.error("No se puede actualizar el establecimiento: ID es indefinido")}patchEstado(t){this.establecimientoService.changeStateEstablecimiento(t).subscribe({next:n=>{console.log("Establecimiento updated successfully:",n),this.getEstablecimientos(),this.refreshEstablecimientos()},error:n=>{console.error("Error updating establecimiento:",n)}})}patchEstadoTrue(t){this.establecimientoService.changeStateEstablecimientoTrue(t).subscribe({next:n=>{console.log("Establecimiento updated successfully:",n),this.getEstablecimientos(),this.refreshEstablecimientos()},error:n=>{console.error("Error updating establecimiento:",n)}})}deleteEstablecimiento(t){this.establecimientoService.deleteEstablecimientoRpa(t).subscribe({next:n=>{console.log("Establecimiento deleted successfully:",n),this.getEstablecimientos(),this.refreshEstablecimientos()},error:n=>{console.error("Error deleting Establecimiento:",n)}})}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.LY),e.rXU(m.Bq),e.rXU(eo.l),e.rXU(k.u))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-establecimiento"]],features:[e.Jv_([m.LY,m.Bq])],decls:43,vars:16,consts:[["content2",""],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"fa-solid","fa-notes-medical","me-2"],[1,"position-relative"],[3,"buttonClick","showFirstButton","showSecondButton","showImportButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[2,"overflow-x","auto"],[1,"table","table-striped"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"fa-solid","fa-trash"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","nombre_establecimiento",1,"form-label","fw-bold"],["type","text","name","nombre_establecimiento","id","nombre_establecimiento","placeholder","Escribir nombre",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"]],template:function(n,o){if(1&n){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"mat-card-title",4),e.nrm(5,"i",5),e.EFF(6," Establecimiento "),e.k0s()(),e.j41(7,"div",3)(8,"div",6)(9,"app-reusable-modal",7),e.bIt("buttonClick",function(){return e.eBV(i),e.Njj(o.createEstablecimiento())}),e.j41(10,"div",2)(11,"div",3)(12,"label",8),e.EFF(13,"Nombre"),e.k0s(),e.j41(14,"input",9),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.newEstablecimiento.nombre,a)||(o.newEstablecimiento.nombre=a),e.Njj(a)}),e.k0s()()(),e.nrm(15,"br"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),e.EFF(23,"#"),e.k0s(),e.j41(24,"th",12),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th",13),e.EFF(27,"Estado"),e.k0s(),e.j41(28,"th",13),e.EFF(29,"OPC"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,so,15,11,"tr",14),e.k0s()()(),e.j41(32,"div",15)(33,"ngb-pagination",16),e.mxI("pageChange",function(a){return e.eBV(i),e.DH7(o.page,a)||(o.page=a),e.Njj(a)}),e.bIt("pageChange",function(){return e.eBV(i),e.Njj(o.refreshEstablecimientos())}),e.k0s(),e.j41(34,"select",17),e.mxI("ngModelChange",function(a){return e.eBV(i),e.DH7(o.pageSize,a)||(o.pageSize=a),e.Njj(a)}),e.bIt("ngModelChange",function(){return e.eBV(i),e.Njj(o.refreshEstablecimientos())}),e.j41(35,"option",18),e.EFF(36,"2 items per page"),e.k0s(),e.j41(37,"option",18),e.EFF(38,"4 items per page"),e.k0s(),e.j41(39,"option",18),e.EFF(40,"6 items per page"),e.k0s()()()()(),e.DNE(41,ao,16,1,"ng-template",null,0,e.C5r)}2&n&&(e.R7$(9),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("showImportButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar Establecimiento")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newEstablecimiento.nombre),e.R7$(17),e.Y8G("ngForOf",o.establecimientos),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,h.RN,h.m2,h.dh,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,m.s5,S.w]})}}return r})();const co=[{path:"",children:[{path:"home-configuracion",component:(()=>{class r{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-principal-configuracion"]],decls:117,vars:0,consts:[[1,"cardWithShadow"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button","fw-bold"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","fw-bold","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingTwo2",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo2","aria-expanded","false","aria-controls","collapseTwo2",1,"accordion-button","fw-bold","collapsed"],["id","collapseTwo2","aria-labelledby","headingTwo2","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingTwo3",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo3","aria-expanded","false","aria-controls","collapseTwo3",1,"accordion-button","fw-bold","collapsed"],["id","collapseTwo3","aria-labelledby","headingTwo3","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","fw-bold","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingFour",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFour","aria-expanded","false","aria-controls","collapseFour",1,"accordion-button","fw-bold","collapsed"],["id","collapseFour","aria-labelledby","headingFour","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingFive",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFive","aria-expanded","false","aria-controls","collapseFive",1,"accordion-button","fw-bold","collapsed"],["id","collapseFive","aria-labelledby","headingFive","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingSix",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSix","aria-expanded","false","aria-controls","collapseSix",1,"accordion-button","fw-bold","collapsed"],["id","collapseSix","aria-labelledby","headingSix","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingSeven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseSeven","aria-expanded","false","aria-controls","collapseSeven",1,"accordion-button","fw-bold","collapsed"],["id","collapseSeven","aria-labelledby","headingSeven","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingEight",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEight","aria-expanded","false","aria-controls","collapseEight",1,"accordion-button","fw-bold","collapsed"],["id","collapseEight","aria-labelledby","headingEight","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingNine",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseNine","aria-expanded","false","aria-controls","collapseNine",1,"accordion-button","fw-bold","collapsed"],["id","collapseNine","aria-labelledby","headingNine","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingTen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTen","aria-expanded","false","aria-controls","collapseTen",1,"accordion-button","fw-bold","collapsed"],["id","collapseTen","aria-labelledby","headingTen","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingEleven",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseEleven","aria-expanded","false","aria-controls","collapseEleven",1,"accordion-button","fw-bold","collapsed"],["id","collapseEleven","aria-labelledby","headingEleven","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingTwelve",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwelve","aria-expanded","false","aria-controls","collapseTwelve",1,"accordion-button","fw-bold","collapsed"],["id","collapseTwelve","aria-labelledby","headingTwelve","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingThirteen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThirteen","aria-expanded","false","aria-controls","collapseThirteen",1,"accordion-button","fw-bold","collapsed"],["id","collapseThirteen","aria-labelledby","headingThirteen","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["id","headingForteen",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseForteen","aria-expanded","false","aria-controls","collapseForteen",1,"accordion-button","fw-bold","collapsed"],["id","collapseForteen","aria-labelledby","headingForteen","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"]],template:function(n,o){1&n&&(e.j41(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-title"),e.EFF(3,"Configuraciones"),e.k0s()()(),e.j41(4,"div",1)(5,"div",2)(6,"h2",3)(7,"button",4),e.EFF(8," Especialidades "),e.k0s()(),e.j41(9,"div",5)(10,"div",6),e.nrm(11,"app-especialidades"),e.k0s()()(),e.j41(12,"div",2)(13,"h2",7)(14,"button",8),e.EFF(15," Universidad "),e.k0s()(),e.j41(16,"div",9)(17,"div",6),e.nrm(18,"app-universidad"),e.k0s()()(),e.j41(19,"div",2)(20,"h2",10)(21,"button",11),e.EFF(22," Facultad "),e.k0s()(),e.j41(23,"div",12)(24,"div",6),e.nrm(25,"app-facultad"),e.k0s()()(),e.j41(26,"div",2)(27,"h2",13)(28,"button",14),e.EFF(29," Carrera "),e.k0s()(),e.j41(30,"div",15)(31,"div",6),e.nrm(32,"app-carrera"),e.k0s()()(),e.j41(33,"div",2)(34,"h2",16)(35,"button",17),e.EFF(36," Centro Asistencial "),e.k0s()(),e.j41(37,"div",18)(38,"div",6),e.nrm(39,"app-centro-asistencial"),e.k0s()()(),e.j41(40,"div",2)(41,"h2",19)(42,"button",20),e.EFF(43," Sede de Adjudicaci\xf3n "),e.k0s()(),e.j41(44,"div",21)(45,"div",6),e.nrm(46,"app-sede-adjudicacion"),e.k0s()()(),e.j41(47,"div",2)(48,"h2",22)(49,"button",23),e.EFF(50," Tipo de Profesional "),e.k0s()(),e.j41(51,"div",24)(52,"div",6),e.nrm(53,"app-tipo-profesional"),e.k0s()()(),e.j41(54,"div",2)(55,"h2",25)(56,"button",26),e.EFF(57," Entidad "),e.k0s()(),e.j41(58,"div",27)(59,"div",6),e.nrm(60,"app-entidad"),e.k0s()()(),e.j41(61,"div",2)(62,"h2",28)(63,"button",29),e.EFF(64," Plaza "),e.k0s()(),e.j41(65,"div",30)(66,"div",6),e.nrm(67,"app-plaza"),e.k0s()()(),e.j41(68,"div",2)(69,"h2",31)(70,"button",32),e.EFF(71," Rol "),e.k0s()(),e.j41(72,"div",33)(73,"div",6),e.nrm(74,"app-rol"),e.k0s()()(),e.j41(75,"div",2)(76,"h2",34)(77,"button",35),e.EFF(78," Cargo "),e.k0s()(),e.j41(79,"div",36)(80,"div",6),e.nrm(81,"app-cargo"),e.k0s()()(),e.j41(82,"div",2)(83,"h2",37)(84,"button",38),e.EFF(85," Tipo documento "),e.k0s()(),e.j41(86,"div",39)(87,"div",6),e.nrm(88,"app-tipo-documento"),e.k0s()()(),e.j41(89,"div",2)(90,"h2",40)(91,"button",41),e.EFF(92," Coordinador "),e.k0s()(),e.j41(93,"div",42)(94,"div",6),e.nrm(95,"app-coordinador"),e.k0s()()(),e.j41(96,"div",2)(97,"h2",43)(98,"button",44),e.EFF(99," Nivel "),e.k0s()(),e.j41(100,"div",45)(101,"div",6),e.nrm(102,"app-nivel"),e.k0s()()(),e.j41(103,"div",2)(104,"h2",46)(105,"button",47),e.EFF(106," Establecimiento "),e.k0s()(),e.j41(107,"div",48)(108,"div",6),e.nrm(109,"app-establecimiento"),e.k0s()()(),e.j41(110,"div",2)(111,"h2",49)(112,"button",50),e.EFF(113," Grupo Profesional "),e.k0s()(),e.j41(114,"div",51)(115,"div",6),e.nrm(116,"app-grupo-profesional"),e.k0s()()()())},dependencies:[h.RN,h.m2,h.dh,z,X,j,ce,pe,ue,me,ge,nt,gt,kt,Gt,Dt,Ot,qt,lo]})}}return r})()},{path:"especialidades",component:z},{path:"universidad",component:X},{path:"centro-asistencial",component:j},{path:"sede-adjudicacion",component:ce},{path:"tipo-profesional",component:pe},{path:"entidad",component:ue},{path:"plaza",component:me},{path:"rol",component:ge},{path:"usuarios",loadChildren:()=>Promise.resolve().then(p.bind(p,6206)).then(r=>r.UsuariosModule),canActivate:[se.q],data:{roles:["ADMIN"]}}]}];var po=p(6206),uo=p(5911),mo=p(6850),go=p(9213),_o=p(8834),bo=p(9115),ho=p(9159),fo=p(9461),Co=p(3887);let jo=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[_.MD,v.iI.forChild(co),N.G,d.YN,d.X1,s.X4.pick(w),uo.s5,mo.RI,fo.I,ho.tP,Co.G,go.m_,_o.Hl,bo.Cn,po.UsuariosModule]})}}return r})()},6206:(Y,I,p)=>{p.r(I),p.d(I,{UsuariosModule:()=>le});var v=p(8498),_=p(177),d=p(9417),N=p(467),s=p(4438),w=p(8480),m=p(7164),e=p(1626),y=p(8810),G=p(6354),k=p(9437),h=p(5357),F=p(1339);let E=(()=>{class C{constructor(u,g,b){this.http=u,this.authService=g,this.router=b}getHeaders(){const u=this.authService.getToken();return new e.Lr({Authorization:`Bearer ${u}`,"Content-Type":"application/json"})}registerUser(u){const g=this.getHeaders();return this.http.post(`${h.i.baseUrl}${h.i.register}`,u,{headers:g}).pipe((0,G.T)(b=>(this.router.navigate(["/configuration/usuarios"]),b)),(0,k.W)(b=>(0,y.$)(b)))}static{this.\u0275fac=function(g){return new(g||C)(s.KVO(e.Qq),s.KVO(F.u),s.KVO(v.Ix))}}static{this.\u0275prov=s.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})();var f=p(5596),R=p(1885);function O(C,T){if(1&C&&(s.j41(0,"option",30),s.EFF(1),s.k0s()),2&C){const u=T.$implicit;s.Y8G("value",u.id),s.R7$(),s.JRh(u.nombre)}}function H(C,T){if(1&C&&(s.j41(0,"option",30),s.EFF(1),s.k0s()),2&C){const u=T.$implicit;s.Y8G("value",u.id),s.R7$(),s.JRh(u.nombre)}}let L=(()=>{class C{constructor(u,g,b,j){this.fb=u,this.rolesService=g,this.tipoDocumentoService=b,this.registerService=j,this.tiposRoles=[],this.tiposDocumento=[]}ngOnInit(){this.getRoles(),this.getTipoDocumento(),this.registerForm=this.fb.group({email:["",[d.k0.required,d.k0.email]],password:["",d.k0.required],nombre:["",d.k0.required],apellido:["",d.k0.required],telefono:["",d.k0.required],direccion:["",d.k0.required],numero_documento:["",d.k0.required],tipo_documento:["",d.k0.required],rol:["",d.k0.required]})}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get nombre(){return this.registerForm.get("nombre")}get apellido(){return this.registerForm.get("apellido")}get telefono(){return this.registerForm.get("telefono")}get direccion(){return this.registerForm.get("direccion")}get numero_documento(){return this.registerForm.get("numero_documento")}get tipo_documento(){return this.registerForm.get("tipo_documento")}get rol(){return this.registerForm.get("rol")}onSubmit(){var u=this;return(0,N.A)(function*(){if(u.registerForm.invalid)return;const g=u.registerForm.value,b={email:g.email,password:g.password,persona:{id:"",nombre:g.nombre,apellido:g.apellido,email:g.email,telefono:g.telefono,direccion:g.direccion,numero_documento:g.numero_documento,tipo_documento:g.tipo_documento},rol:g.rol};try{const j=yield u.registerService.registerUser(b).toPromise();console.log("Usuario creado exitosamente:",j),u.registerForm.reset()}catch(j){console.error("Error al crear el usuario:",j)}})()}verPassword(){const u=document.getElementById("password");u.type="password"===u.type?"text":"password"}getTipoDocumento(){this.tipoDocumentoService.getTipoDocumento().subscribe(u=>{this.tiposDocumento=u.filter(g=>g.estado)},u=>{console.error("Error al obtener los tipos de documento",u)})}getRoles(){this.rolesService.getRoles().subscribe(u=>{this.tiposRoles=u.filter(g=>g.estado)},u=>{console.error("Error al obtener los roles",u)})}static{this.\u0275fac=function(g){return new(g||C)(s.rXU(d.ok),s.rXU(w.P),s.rXU(m.a),s.rXU(E))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-register"]],decls:55,vars:5,consts:[["iconName","clipboard-plus",3,"routerLink","cardTitle"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-4"],["for","tipo_documento",1,"form-label","fw-bold"],["id","tipo_documento","formControlName","tipo_documento",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","numero_documento",1,"form-label","fw-bold"],["type","text","id","numero_documento","formControlName","numero_documento",1,"form-control"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],[1,"row","mt-3"],["for","apellido",1,"form-label","fw-bold"],["type","text","id","apellido","formControlName","apellido",1,"form-control"],["for","telefono",1,"form-label","fw-bold"],["type","number","id","telefono","formControlName","telefono",1,"form-control"],["for","direccion",1,"form-label","fw-bold"],["type","text","id","direccion","formControlName","direccion",1,"form-control"],["for","email",1,"form-label","fw-bold"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"form-label","fw-bold"],[1,"input-group"],["type","password","id","password","formControlName","password",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-eye"],["for","rol",1,"form-label","fw-bold"],["id","rol","formControlName","rol",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-5"],[3,"value"]],template:function(g,b){1&g&&(s.nrm(0,"app-reusable-card",0),s.j41(1,"mat-card")(2,"mat-card-content")(3,"form",1),s.bIt("ngSubmit",function(){return b.onSubmit()}),s.j41(4,"div",2)(5,"div",3)(6,"label",4),s.EFF(7,"Tipo de Documento"),s.k0s(),s.j41(8,"select",5)(9,"option",6),s.EFF(10,"Seleccionar Tipo de Documento"),s.k0s(),s.DNE(11,O,2,2,"option",7),s.k0s()(),s.j41(12,"div",3)(13,"label",8),s.EFF(14,"Documento Identidad"),s.k0s(),s.nrm(15,"input",9),s.k0s(),s.j41(16,"div",3)(17,"label",10),s.EFF(18,"Nombres"),s.k0s(),s.nrm(19,"input",11),s.k0s()(),s.j41(20,"div",12)(21,"div",3)(22,"label",13),s.EFF(23,"Apellidos"),s.k0s(),s.nrm(24,"input",14),s.k0s(),s.j41(25,"div",3)(26,"label",15),s.EFF(27,"Celular"),s.k0s(),s.nrm(28,"input",16),s.k0s(),s.j41(29,"div",3)(30,"label",17),s.EFF(31,"Direcci\xf3n"),s.k0s(),s.nrm(32,"input",18),s.k0s()(),s.j41(33,"div",12)(34,"div",3)(35,"label",19),s.EFF(36,"Email"),s.k0s(),s.nrm(37,"input",20),s.k0s(),s.j41(38,"div",3)(39,"label",21),s.EFF(40,"Contrase\xf1a"),s.k0s(),s.j41(41,"div",22),s.nrm(42,"input",23),s.j41(43,"button",24),s.bIt("click",function(){return b.verPassword()}),s.nrm(44,"i",25),s.k0s()()(),s.j41(45,"div",3)(46,"label",26),s.EFF(47,"Rol"),s.k0s(),s.j41(48,"select",27)(49,"option",6),s.EFF(50,"Seleccionar un Rol"),s.k0s(),s.DNE(51,H,2,2,"option",7),s.k0s()()(),s.j41(52,"div",28)(53,"button",29),s.EFF(54,"Registrar"),s.k0s()()()()()),2&g&&(s.Y8G("routerLink","/configuration/usuarios")("cardTitle","Registrar Usuario"),s.R7$(3),s.Y8G("formGroup",b.registerForm),s.R7$(8),s.Y8G("ngForOf",b.tiposDocumento),s.R7$(40),s.Y8G("ngForOf",b.tiposRoles))},dependencies:[_.Sq,v.Wk,d.qT,d.xH,d.y7,d.me,d.Q0,d.wz,d.BC,d.cb,d.j4,d.JD,f.RN,f.m2,R.v]})}}return C})();var A=p(1084),J=p(5794);let z=(()=>{class C{constructor(u,g,b){this.http=u,this.authService=g,this.toastr=b,this.apiUsuarios=h.i.baseUrl+h.i.usuario,this.token=this.authService.getToken()}getUsuarios(){const u=new e.Lr({Authorization:`token ${this.token}`});return this.http.get(this.apiUsuarios,{headers:u}).pipe((0,G.T)(g=>g),(0,k.W)(g=>{throw g}))}PatchUsuario(u,g){const b=new e.Lr({Authorization:`token ${this.token}`});return this.http.patch(this.apiUsuarios+u+"/",g,{headers:b}).pipe((0,G.T)(j=>(this.toastr.success("Usuario actualizado correctamente","Actualizaci\xf3n exitosa"),j)),(0,k.W)(j=>{if(console.error("Error al actualizar:",j),j.error&&j.error.errores&&Array.isArray(j.error.errores)){const V=j.error.errores.join("<br>");this.toastr.error(V,"Error al actualizar a un Usuario",{enableHtml:!0})}else j.error&&j.error.message?this.toastr.error(j.error.message,"Error al actualizar a un Usuario"):this.toastr.error("Ocurri\xf3 un error al actualizar a un Usuario.");return(0,y.$)(()=>j)}))}deleteUsuario(u){const g=new e.Lr({Authorization:`token ${this.token}`});return this.http.delete(`${this.apiUsuarios}${u}/`,{headers:g}).pipe((0,G.T)(b=>(this.toastr.success("Se elimin\xf3 correctamente al Usuario","Eliminaci\xf3n exitosa"),b)),(0,k.W)(b=>{if(console.error("Error al eliminar:",b),b.error&&b.error.errores&&Array.isArray(b.error.errores)){const j=b.error.errores.join("<br>");this.toastr.error(j,"Error al eliminar al Usuario",{enableHtml:!0})}else b.error&&b.error.message?this.toastr.error(b.error.message,"Error al eliminar al Usuario"):this.toastr.error("Error al eliminar al Usuario");return(0,y.$)(b)}))}static{this.\u0275fac=function(g){return new(g||C)(s.KVO(e.Qq),s.KVO(F.u),s.KVO(J.tw))}}static{this.\u0275prov=s.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})();var U=p(4013);const P=()=>["/configuration/register"],M=(C,T)=>({"text-success":C,"text-danger":T});function B(C,T){1&C&&(s.j41(0,"th",10),s.EFF(1,"OPC"),s.k0s())}function D(C,T){if(1&C){const u=s.RV6();s.j41(0,"td")(1,"button",20),s.bIt("click",function(){s.eBV(u);const b=s.XpG().$implicit,j=s.XpG(),V=s.sdS(40);return s.Njj(j.openEditModal(b,V))}),s.nrm(2,"i",21),s.k0s(),s.j41(3,"app-reusable-modal",22),s.bIt("buttonClick",function(){s.eBV(u);const b=s.XpG().$implicit,j=s.XpG();return s.Njj(j.deletePasante(b.id))}),s.j41(4,"div",23)(5,"h3",24),s.EFF(6,"\xbfEstas seguro de eliminar este Usuario?"),s.k0s()()()()}2&C&&(s.R7$(3),s.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","trash")("buttonTitle","Delete")("title","Eliminar Usuario")("buttonText","Eliminar")("openInXl",!1)("severy","danger"))}function W(C,T){if(1&C&&(s.j41(0,"tr")(1,"th",17),s.EFF(2),s.k0s(),s.j41(3,"td"),s.EFF(4),s.k0s(),s.j41(5,"td"),s.EFF(6),s.k0s(),s.j41(7,"td"),s.EFF(8),s.k0s(),s.j41(9,"td"),s.EFF(10),s.k0s(),s.j41(11,"td")(12,"span",18),s.EFF(13),s.k0s()(),s.j41(14,"td"),s.EFF(15),s.k0s(),s.DNE(16,D,7,8,"td",19),s.k0s()),2&C){const u=T.$implicit,g=T.index;s.R7$(2),s.JRh(g+1),s.R7$(2),s.Lme("",u.persona.nombre," ",u.persona.apellido,""),s.R7$(2),s.JRh(u.persona.numero_documento),s.R7$(2),s.JRh(u.persona.telefono),s.R7$(2),s.JRh(u.rol.nombre),s.R7$(2),s.Y8G("ngClass",s.l_i(10,M,u.is_active,!u.is_active)),s.R7$(),s.SpI(" ",u.is_active?"Activo":"Inactivo"," "),s.R7$(2),s.JRh(u.last_login),s.R7$(),s.Y8G("ngIf",!1)}}function K(C,T){if(1&C&&(s.j41(0,"option",37),s.EFF(1),s.k0s()),2&C){const u=T.$implicit;s.Y8G("value",u.id),s.R7$(),s.JRh(u.nombre)}}function Q(C,T){if(1&C){const u=s.RV6();s.j41(0,"div",25)(1,"h4",26),s.EFF(2,"Editar Plaza"),s.k0s(),s.j41(3,"button",27),s.bIt("click",function(){const b=s.eBV(u).dismiss;return s.Njj(b("Cross click"))}),s.k0s()(),s.j41(4,"div",28)(5,"div",3)(6,"div",29)(7,"label",30),s.EFF(8,"Rol"),s.k0s(),s.j41(9,"select",31),s.mxI("ngModelChange",function(b){s.eBV(u);const j=s.XpG();return s.DH7(j.userSelected.rol.id,b)||(j.userSelected.rol.id=b),s.Njj(b)}),s.j41(10,"option",32),s.EFF(11,"Seleccionar un Rol"),s.k0s(),s.DNE(12,K,2,2,"option",33),s.k0s()()(),s.nrm(13,"br"),s.k0s(),s.j41(14,"div",34)(15,"button",35),s.bIt("click",function(){const b=s.eBV(u).close;return s.Njj(b("Cancel click"))}),s.EFF(16,"Cancelar"),s.k0s(),s.j41(17,"button",36),s.bIt("click",function(){s.eBV(u);const b=s.XpG();return s.Njj(b.updatePasanteTemp(b.userSelected))}),s.EFF(18,"Guardar"),s.k0s()()}if(2&C){const u=s.XpG();s.R7$(9),s.R50("ngModel",u.userSelected.rol.id),s.R7$(3),s.Y8G("ngForOf",u.tiposRoles)}}let $=(()=>{class C{constructor(u,g,b,j){this.rolesService=g,this.modalService=b,this.usuariosService=j,this.page=1,this.pageSize=4,this.USERS=[],this.users=[],this.collection=0,this.userSelected={id:"",email:"",persona:{id:"",nombre:"",apellido:"",email:"",telefono:"",direccion:"",numero_documento:"",tipo_documento:""},rol:{id:"",nombre:"",descripcion:"",estado:!0},is_active:!0,last_login:""},this.tiposRoles=[],u.backdrop="static",u.keyboard=!1,this.refreshUsers()}refreshUsers(){this.users=this.USERS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.USERS.length}ngOnInit(){this.getUsuarios(),this.getRoles()}getUsuarios(){this.usuariosService.getUsuarios().subscribe(u=>{this.USERS=u,this.refreshUsers()},u=>{console.error("Error getting users:",u)})}deletePasante(u){this.usuariosService.deleteUsuario(u).subscribe({next:g=>{console.log("Usuario deleted successfully:",g)},error:g=>{console.error("Error deleting Usuario:",g)}})}getRoles(){this.rolesService.getRoles().subscribe(u=>{this.tiposRoles=u.filter(g=>g.estado)},u=>{console.error("Error al obtener los roles",u)})}openEditModal(u,g){console.log(u),this.userSelected={...u},this.modalService.open(g)}updatePasanteTemp(u){if(!u)return;const b={rol:{id:this.tiposRoles.find(j=>j.id===u.rol.id)?.id}};console.log("Datos actualizados:",b),this.usuariosService.PatchUsuario(u.id,b).subscribe(j=>{},j=>{console.error("Error al actualizar el Usuario",j)})}static{this.\u0275fac=function(g){return new(g||C)(s.rXU(A.LY),s.rXU(w.P),s.rXU(A.Bq),s.rXU(z))}}static{this.\u0275cmp=s.VBU({type:C,selectors:[["app-usuarios"]],decls:41,vars:12,consts:[["content2",""],["iconName","bell-ringing",3,"cardTitle"],[1,"cardWithShadow"],[1,"row"],[1,"position-relative"],[1,"btn","border","border-primary","position-absolute","top-0","end-0",3,"routerLink"],[1,"fa-solid","fa-file-medical","me-2","text-primary"],[1,"text-primary","fw-bold"],[2,"overflow-x","auto"],[1,"table","table-striped","mt-5"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],[3,"ngClass"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],[1,"ms-2",3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText","openInXl","severy"],[1,""],[2,"color","darkred"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],["for","rol",1,"form-label","fw-bold"],["id","rol",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-danger","text-light","fw-semibold","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-primary","text-light","fw-semibold","btn-sm",3,"click"],[3,"value"]],template:function(g,b){if(1&g){const j=s.RV6();s.nrm(0,"app-reusable-card",1),s.j41(1,"mat-card",2)(2,"mat-card-content")(3,"div",3)(4,"div",4)(5,"button",5),s.nrm(6,"i",6),s.j41(7,"span",7),s.EFF(8," Agregar "),s.k0s()()()(),s.j41(9,"div",8)(10,"table",9)(11,"thead")(12,"tr")(13,"th",10),s.EFF(14,"#"),s.k0s(),s.j41(15,"th",10),s.EFF(16,"Nombre y Apellido"),s.k0s(),s.j41(17,"th",10),s.EFF(18,"Documento"),s.k0s(),s.j41(19,"th",10),s.EFF(20,"Tel\xe9fono"),s.k0s(),s.j41(21,"th",10),s.EFF(22,"Rol"),s.k0s(),s.j41(23,"th",10),s.EFF(24,"Estado"),s.k0s(),s.j41(25,"th",10),s.EFF(26,"\xdaltimo Acceso"),s.k0s(),s.DNE(27,B,2,0,"th",11),s.k0s()(),s.j41(28,"tbody"),s.DNE(29,W,17,13,"tr",12),s.k0s()()(),s.j41(30,"div",13)(31,"ngb-pagination",14),s.mxI("pageChange",function(x){return s.eBV(j),s.DH7(b.page,x)||(b.page=x),s.Njj(x)}),s.bIt("pageChange",function(){return s.eBV(j),s.Njj(b.refreshUsers())}),s.k0s(),s.j41(32,"select",15),s.mxI("ngModelChange",function(x){return s.eBV(j),s.DH7(b.pageSize,x)||(b.pageSize=x),s.Njj(x)}),s.bIt("ngModelChange",function(){return s.eBV(j),s.Njj(b.refreshUsers())}),s.j41(33,"option",16),s.EFF(34,"2 items per page"),s.k0s(),s.j41(35,"option",16),s.EFF(36,"4 items per page"),s.k0s(),s.j41(37,"option",16),s.EFF(38,"6 items per page"),s.k0s()()()()(),s.DNE(39,Q,19,2,"ng-template",null,0,s.C5r)}2&g&&(s.Y8G("cardTitle","Usuarios"),s.R7$(5),s.Y8G("routerLink",s.lJ4(11,P)),s.R7$(22),s.Y8G("ngIf",!1),s.R7$(2),s.Y8G("ngForOf",b.users),s.R7$(2),s.Y8G("collectionSize",b.collection),s.R50("page",b.page),s.Y8G("pageSize",b.pageSize),s.R7$(),s.R50("ngModel",b.pageSize),s.R7$(),s.Y8G("ngValue",2),s.R7$(2),s.Y8G("ngValue",4),s.R7$(2),s.Y8G("ngValue",6))},dependencies:[_.YU,_.Sq,_.bT,v.Wk,d.xH,d.y7,d.wz,d.BC,d.vS,f.RN,f.m2,R.v,U.w,A.s5]})}}return C})();var S=p(1620);const Z=[{path:"",children:[{path:"usuarios",component:$,canActivate:[S.q],data:{roles:["ADMIN"]}},{path:"register",component:L,canActivate:[S.q],data:{roles:["ADMIN"]}}]}];var q=p(5509),ee=p(5911),te=p(6850),oe=p(9213),ne=p(8834),ie=p(9115),re=p(2941),X=p(4912),se=p(3887),ae=p(9461);let le=(()=>{class C{static{this.\u0275fac=function(g){return new(g||C)}}static{this.\u0275mod=s.$C({type:C})}static{this.\u0275inj=s.G2t({imports:[_.MD,v.iI.forChild(Z),d.YN,d.X1,re.G,d.YN,d.X1,X.X4.pick(q),ee.s5,te.RI,oe.m_,ne.Hl,ie.Cn,se.G,ae.I]})}}return C})()},8480:(Y,I,p)=>{p.d(I,{P:()=>G});var v=p(6354),_=p(9437),d=p(8810),N=p(5357),s=p(4438),w=p(1626),m=p(1339),e=p(5794),y=p(1416);let G=(()=>{class k{constructor(F,E,f,R){this.http=F,this.authService=E,this.toastr=f,this.getHeaders=R,this.apiRoles=N.i.baseUrl+N.i.roles}getRoles(){const F=this.getHeaders.getHeaders();return this.http.get(this.apiRoles,{headers:F}).pipe((0,v.T)(E=>E),(0,_.W)(E=>E))}createRol(F){const E=this.getHeaders.getHeaders();return this.http.post(this.apiRoles,F,{headers:E}).pipe((0,v.T)(f=>f),(0,_.W)(f=>(console.error("Error creating Rol:",f),(0,d.$)(()=>f))))}updateRol(F,E){const f=this.getHeaders.getHeaders();return this.http.put(`${this.apiRoles}${F}/`,E,{headers:f}).pipe((0,v.T)(R=>R),(0,_.W)(R=>(console.error("Error updating Rol:",R),(0,d.$)(()=>R))))}deleteRol(F){const E=this.getHeaders.getHeaders();return this.http.delete(`${this.apiRoles}${F}/`,{headers:E}).pipe((0,v.T)(f=>(this.toastr.success("Rol eliminada correctamente"),f)),(0,_.W)(f=>(console.error("Error deleting rol:",f),(0,d.$)(()=>f))))}changeStateRol(F){const E=this.getHeaders.getHeaders();return this.http.patch(`${this.apiRoles}${F}/`,{estado:!1},{headers:E}).pipe((0,v.T)(f=>f),(0,_.W)(f=>(console.error("Error changing state rol:",f),(0,d.$)(()=>f))))}changeStateRolTrue(F){const E=this.getHeaders.getHeaders();return this.http.patch(`${this.apiRoles}${F}/`,{estado:!0},{headers:E}).pipe((0,v.T)(f=>f),(0,_.W)(f=>(console.error("Error changing state Rol:",f),(0,d.$)(()=>f))))}static{this.\u0275fac=function(E){return new(E||k)(s.KVO(w.Qq),s.KVO(m.u),s.KVO(e.tw),s.KVO(y.y))}}static{this.\u0275prov=s.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},8084:(Y,I,p)=>{p.d(I,{N:()=>G});var v=p(1626),_=p(5357),d=p(6354),N=p(9437),s=p(8810),w=p(4438),m=p(8498),e=p(5794),y=p(1339);let G=(()=>{class k{constructor(F,E,f,R){this.http=F,this.router=E,this.toastr=f,this.authService=R,this.apiSedeAdjudicacion=_.i.baseUrl+_.i.sedeAdjudicacion,this.token=this.authService.getToken()}getSedeAdjudicacion(){const F=new v.Lr({Authorization:`token ${this.token}`});return this.http.get(this.apiSedeAdjudicacion,{headers:F}).pipe((0,d.T)(E=>E),(0,N.W)(E=>{throw E}))}createSedeAdjudicacion(F){const E=new v.Lr({Authorization:`token ${this.token}`});return this.http.post(this.apiSedeAdjudicacion,F,{headers:E}).pipe((0,d.T)(f=>f),(0,N.W)(f=>(console.error("Error creating sede-adjudicacion:",f),f)))}updateSedeAdjudicacion(F,E){const f=new v.Lr({Authorization:`token ${this.token}`});return this.http.put(`${this.apiSedeAdjudicacion}${F}/`,E,{headers:f}).pipe((0,d.T)(R=>R),(0,N.W)(R=>(console.error("Error updating sede-adjudicacion:",R),R)))}deleteSedeAdjudicacion(F){const E=new v.Lr({Authorization:`token ${this.token}`});return this.http.delete(`${this.apiSedeAdjudicacion}${F}/`,{headers:E}).pipe((0,d.T)(f=>(this.toastr.success("Sede Adjudicacion eliminada correctamente"),f)),(0,N.W)(f=>(console.error("Error deleting sede adjudicacion:",f),(0,s.$)(()=>f))))}changeStateSedeAdjudicacion(F){const E=new v.Lr({Authorization:`token ${this.token}`});return this.http.patch(`${this.apiSedeAdjudicacion}${F}/`,{estado:!1},{headers:E}).pipe((0,d.T)(f=>f),(0,N.W)(f=>(console.error("Error changing state sede-adjudicacion:",f),(0,s.$)(()=>f))))}changeStateSedeAdjudicacionTrue(F){const E=new v.Lr({Authorization:`token ${this.token}`});return this.http.patch(`${this.apiSedeAdjudicacion}${F}/`,{estado:!0},{headers:E}).pipe((0,d.T)(f=>f),(0,N.W)(f=>(console.error("Error changing state sede-adjudicacion:",f),(0,s.$)(()=>f))))}static{this.\u0275fac=function(E){return new(E||k)(w.KVO(v.Qq),w.KVO(m.Ix),w.KVO(e.tw),w.KVO(y.u))}}static{this.\u0275prov=w.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()}}]);