"use strict";(self.webpackChunktestApp=self.webpackChunktestApp||[]).push([[368],{368:(we,E,d)=>{d.r(E),d.d(E,{PlanTrabajoModule:()=>Ae});var h=d(177),e=d(4438),u=d(1084),p=d(5596),l=d(9417),v=d(1885),k=d(4013);const S=(r,c)=>c.key;function P(r,c){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s(),e.j41(23,"td"),e.EFF(24),e.k0s(),e.j41(25,"td"),e.EFF(26),e.k0s(),e.j41(27,"td"),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",29)(31,"button",30),e.nrm(32,"i",31),e.k0s(),e.j41(33,"button",32),e.nrm(34,"i",33),e.k0s()()()()),2&r){const n=c.$implicit;e.R7$(2),e.JRh(n.key),e.R7$(2),e.JRh(n.facultad),e.R7$(2),e.JRh(n.universidad),e.R7$(2),e.JRh(n.unidad_organica),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.duration),e.R7$(2),e.JRh(n.sede),e.R7$(2),e.JRh(n.beneficiados),e.R7$(2),e.JRh(n.valorizacion),e.R7$(2),e.JRh(n.responsable),e.R7$(2),e.JRh(n.estado)}}const M=[{key:1,facultad:"Facultad de Ingenier\xeda",universidad:"Universidad Nacional de Trujillo",unidad_organica:"Facultad de Ingenier\xeda",fecha_inicio:"11/07/2024",fecha_fin:"11/07/2024",compromiso:"Compromiso 1",detalle:"Detalle 1",duration:"1 a\xf1o",sede:"Sede 1",beneficiados:"Beneficiados 1",valorizacion:"Valorizaci\xf3n 1",responsable:"Universidad 1",estado:"Activo"},{key:2,facultad:"Facultad de Ingenier\xeda",universidad:"Universidad Nacional de Trujillo",unidad_organica:"Facultad de Ingenier\xeda",fecha_inicio:"11/07/2024",fecha_fin:"11/07/2024",compromiso:"Compromiso 1",detalle:"Detalle 1",duration:"1 a\xf1o",sede:"Sede 1",beneficiados:"Beneficiados 1",valorizacion:"Valorizaci\xf3n 1",responsable:"EsSalud",estado:"Activo"}];let I=(()=>{class r{constructor(n,t){this.modalService=t,this.page=1,this.pageSize=4,this.collectionSize=M.length,n.backdrop="static",n.keyboard=!1,this.refreshCountries()}ngOnInit(){}refreshCountries(){this.convenios=M.map((n,t)=>({id:t+1,...n})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}open(n){this.modalService.open(n)}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(u.LY),e.rXU(u.Bq))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-convenio-universidad"]],decls:95,vars:21,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-4"],["name","","id","tipo_document",1,"form-control"],["value",""],[1,"col-md-3"],[3,"showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"col-md-12"],["for","facultad",1,"form-label","fw-bold"],["type","text","name","facultad","id","facultad","placeholder","Escribir facultad",1,"form-control"],[1,"col-md-2"],[1,"col-md-6"],["for","universidad",1,"form-label","fw-bold"],["type","text","name","universidad","id","universidad","placeholder","Escribir universidad",1,"form-control"],[1,"row","mt-2"],["for","unidad_organica",1,"form-label","fw-bold"],["type","text","name","unidad_organica","id","unidad_organica","placeholder","Escribir unidad organica",1,"form-control"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","name","fecha_inicio","id","fecha_inicio",1,"form-control"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","name","fecha_fin","id","fecha_fin",1,"form-control"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"d-flex"],[1,"btn","btn-sm","btn-outline-primary","me-1"],[1,"fa-regular","fa-eye"],[1,"btn","btn-sm","btn-outline-danger"],[1,"fa-solid","fa-trash"]],template:function(t,o){1&t&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"select",4)(6,"option",5),e.EFF(7,"Filtrar por Universidad"),e.k0s(),e.j41(8,"option",5),e.EFF(9,"UPeU"),e.k0s(),e.j41(10,"option",5),e.EFF(11,"UMSM"),e.k0s(),e.j41(12,"option",5),e.EFF(13,"UVR"),e.k0s()()(),e.nrm(14,"div",6),e.j41(15,"div",6)(16,"app-reusable-modal",7)(17,"div",2)(18,"div",8)(19,"label",9),e.EFF(20,"Compromiso"),e.k0s(),e.nrm(21,"input",10),e.k0s()()()(),e.j41(22,"div",11)(23,"app-reusable-modal",7)(24,"div",2)(25,"div",12)(26,"label",9),e.EFF(27,"Facultad"),e.k0s(),e.nrm(28,"input",10),e.k0s(),e.j41(29,"div",12)(30,"label",13),e.EFF(31,"Universidad"),e.k0s(),e.nrm(32,"input",14),e.k0s()(),e.j41(33,"div",15)(34,"div",8)(35,"label",16),e.EFF(36,"Unidad Organica"),e.k0s(),e.nrm(37,"input",17),e.k0s()(),e.j41(38,"div",15)(39,"div",12)(40,"label",18),e.EFF(41,"Fecha Inicio"),e.k0s(),e.nrm(42,"input",19),e.k0s(),e.j41(43,"div",12)(44,"label",20),e.EFF(45,"Fecha Fin"),e.k0s(),e.nrm(46,"input",21),e.k0s()()()()(),e.nrm(47,"br")(48,"br"),e.j41(49,"div",22)(50,"table",23)(51,"thead")(52,"tr")(53,"th",24),e.EFF(54,"N\xb0"),e.k0s(),e.j41(55,"th",24),e.EFF(56,"Facultad"),e.k0s(),e.j41(57,"th",24),e.EFF(58,"Universidad"),e.k0s(),e.j41(59,"th",24),e.EFF(60,"Unidad Organica"),e.k0s(),e.j41(61,"th",24),e.EFF(62,"Fecha Inicio"),e.k0s(),e.j41(63,"th",24),e.EFF(64,"Fecha Fin"),e.k0s(),e.j41(65,"th",24),e.EFF(66,"Compromiso"),e.k0s(),e.j41(67,"th",24),e.EFF(68,"Detalle"),e.k0s(),e.j41(69,"th",24),e.EFF(70,"Duraci\xf3n"),e.k0s(),e.j41(71,"th",24),e.EFF(72,"Sede"),e.k0s(),e.j41(73,"th",24),e.EFF(74,"Beneficiados"),e.k0s(),e.j41(75,"th",24),e.EFF(76,"Valorizaci\xf3n"),e.k0s(),e.j41(77,"th",24),e.EFF(78,"Responsable"),e.k0s(),e.j41(79,"th",24),e.EFF(80,"Estado"),e.k0s(),e.j41(81,"th",24),e.EFF(82,"OPC"),e.k0s()()(),e.j41(83,"tbody"),e.Z7z(84,P,35,14,"tr",null,S),e.k0s()()(),e.j41(86,"div",25)(87,"ngb-pagination",26),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshCountries()}),e.k0s(),e.j41(88,"select",27),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshCountries()}),e.j41(89,"option",28),e.EFF(90,"2 items per page"),e.k0s(),e.j41(91,"option",28),e.EFF(92,"4 items per page"),e.k0s(),e.j41(93,"option",28),e.EFF(94,"6 items per page"),e.k0s()()()()()),2&t&&(e.Y8G("cardTitle","Plan de Trabajo")("cardSubtitle","Convenios especificos de EsSalud - Universidades "),e.R7$(16),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar Compromiso")("title","Plan de Trabajo")("buttonText","Guardar"),e.R7$(7),e.Y8G("showFirstButton",!1)("showSecondButton",!0)("iconName","circle-plus")("buttonTitle","Agregar")("title","Plan de Trabajo")("buttonText","Guardar"),e.R7$(61),e.Dyx(o.convenios),e.R7$(3),e.Y8G("collectionSize",o.collectionSize),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[p.RN,p.m2,l.xH,l.y7,l.wz,l.BC,l.vS,u.s5,v.v,k.w]})}}return r})();var _=d(1185),A=d(5112),w=d(9107);d(4941);let D=(()=>{class r{constructor(){}exportPlanTrabajoPDF(n){const t=new w.default({orientation:"landscape"}),i=n.map((a,s)=>({numero:s+1,nombre:a.nombre||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",universidad:a.universidadDetalle?.nombre||"",acuerdos:a.acuerdo?.length||0,estado:a.estado?"Activo":"Inactivo"}));t.autoTable({head:[[{header:"N\xb0",dataKey:"numero"},{header:"Nombre",dataKey:"nombre"},{header:"Fecha Inicio",dataKey:"fecha_inicio"},{header:"Fecha Fin",dataKey:"fecha_fin"},{header:"Universidad",dataKey:"universidad"},{header:"N\xb0 de Acuerdos",dataKey:"acuerdos"},{header:"Estado",dataKey:"estado"}].map(a=>a.header)],body:i.map(a=>Object.values(a)),theme:"striped",styles:{fontSize:8,cellPadding:1},margin:{top:20}}),t.save("plan_trabajo_postgrado.pdf")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var m=d(2288);let y=(()=>{class r{constructor(){}exportarConveniosExcel(n){const t=n.map((a,s)=>({"N\xb0":s+1,Nombre:a.nombre||"","Fecha Inicio":a.fecha_inicio||"","Fecha Fin":a.fecha_fin||"",Universidad:a.universidadDetalle?.nombre||"",Acuerdos:a.acuerdo?.length||0,Estado:a.estado?"Activo":"Inactivo"})),o=m.Wp.json_to_sheet(t),i=m.Wp.book_new();m.Wp.book_append_sheet(i,o,"Convenios Pregrado"),m._h(i,"Convenios_Postgrado.xlsx")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var g=d(8498);const z=(r,c)=>({"text-success":r,"text-danger":c}),x=r=>["/plan-trabajo/detalle",r];function N(r,c){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function V(r,c){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function B(r,c){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",34),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",35),e.EFF(12),e.k0s(),e.j41(13,"td",35)(14,"span",36),e.nrm(15,"i",36),e.k0s()(),e.j41(16,"td",37)(17,"div",38)(18,"app-reusable-modal",39),e.bIt("buttonClick",function(){const o=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.updatePlanTrabajo(o.id,o))}),e.j41(19,"div",2)(20,"div",3)(21,"label",10),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"input",11),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.nombre,o)||(i.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",3)(25,"label",12),e.EFF(26,"Universidad"),e.k0s(),e.j41(27,"select",13),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.universidad,o)||(i.universidad=o),e.Njj(o)}),e.j41(28,"option"),e.EFF(29,"Selecione la Universidad"),e.k0s(),e.DNE(30,V,2,2,"option",14),e.k0s()()(),e.j41(31,"div",15)(32,"div",3)(33,"label",16),e.EFF(34,"Fecha Inicio"),e.k0s(),e.j41(35,"input",17),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.fecha_inicio,o)||(i.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(36,"div",3)(37,"label",18),e.EFF(38,"Fecha Fin"),e.k0s(),e.j41(39,"input",19),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.fecha_fin,o)||(i.fecha_fin=o),e.Njj(o)}),e.k0s()()()(),e.j41(40,"button",40),e.nrm(41,"i",41),e.EFF(42,"Ver Detalle "),e.k0s()()()()}if(2&r){const n=c.$implicit,t=c.index,o=e.XpG();e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(n.nombre),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(null==n.universidadDetalle?null:n.universidadDetalle.nombre),e.R7$(2),e.JRh(n.acuerdo.length),e.R7$(2),e.Y8G("ngClass",e.l_i(20,z,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(3),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","edit")("buttonTitle","")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",n.nombre),e.R7$(4),e.R50("ngModel",n.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",n.fecha_inicio),e.R7$(4),e.R50("ngModel",n.fecha_fin),e.R7$(),e.Y8G("routerLink",e.eq3(23,x,n.id))}}let G=(()=>{class r{constructor(n,t,o,i,a,s){this.modalService=t,this.planTrabajoService=o,this.universidadesService=i,this.exportPdfService=a,this.exportExcelService=s,this.page=1,this.pageSize=4,this.CONVENIOS=[],this.convenios=[],this.collection=0,this.listuniversidades=[],this.searchTerm="",this.newConvenio={nombre:"",is_postgrado:!0,fecha_inicio:"",fecha_fin:"",estado:!0,universidad:"",acuerdo:[]},n.backdrop="static",n.keyboard=!1,this.refreshPlanTrabajo()}ngOnInit(){this.getPlanTrabajo(),this.getUniversidades()}refreshPlanTrabajo(){let n=this.CONVENIOS;this.searchTerm&&(n=n.filter(t=>{const o=t.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),i=t.universidadDetalle?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase());return o||i})),this.collection=n.length,this.convenios=n.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),0===this.convenios.length&&this.page>1&&(this.page--,this.refreshPlanTrabajo())}onSearchTermChange(){this.refreshPlanTrabajo()}open(n){this.modalService.open(n)}getUniversidades(){this.universidadesService.getUniversidades().subscribe(n=>{console.log(n),this.listuniversidades=n},n=>{console.error(n)})}getPlanTrabajo(){this.planTrabajoService.getPlanTrabajo().subscribe({next:n=>{const t=n.filter(o=>!0===o.is_postgrado);this.CONVENIOS=t,this.collection=t.length,this.refreshPlanTrabajo(),this.universidadesService.getUniversidades().subscribe({next:o=>{t.forEach(i=>{if(i.universidad){const a=o.find(s=>s.id===i.universidad);a&&(i.universidadDetalle=a)}})},error:o=>{console.error("Error fetching universidades:",o)}})},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createPlanTrabajo(){this.planTrabajoService.createPlanTrabajo(this.newConvenio).subscribe(n=>{console.log(n),console.log("Datos enviados:",this.newConvenio),this.getPlanTrabajo()},n=>{console.error(n)})}updatePlanTrabajo(n,t){this.planTrabajoService.updatePlanTrabajo(n,t).subscribe(o=>{console.log(o),this.getPlanTrabajo()},o=>{console.error(o)})}exportarPDF(){this.exportPdfService.exportPlanTrabajoPDF(this.convenios)}exportarExcel(){this.exportExcelService.exportarConveniosExcel(this.convenios)}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(_.a),e.rXU(A.k),e.rXU(D),e.rXU(y))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-postgrado"]],features:[e.Jv_([u.LY,u.Bq])],decls:71,vars:22,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"example-input","position-relative"],["type","text","placeholder","Buscar por nombre de plan o universidad",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"position","absolute","right","0","top","0"],[1,"fas","fa-search"],[2,"text-align","right"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],["for","universidad",1,"form-label","fw-bold"],["name","universidad","id","universidad",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","id","fecha_inicio","name","fecha_inicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","id","fecha_fin","name","fecha_fin",1,"form-control",3,"ngModelChange","ngModel"],["nz-button","","nzType","link",1,"fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-pdf","me-2"],["nz-button","","nzType","link",1,"text-success","fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-excel","me-2"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"justify-content-center","d-flex"],[1,"d-flex"],[1,"me-1",3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"routerLink"],[1,""]],template:function(t,o){1&t&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(a){return e.DH7(o.searchTerm,a)||(o.searchTerm=a),a}),e.bIt("input",function(){return o.onSearchTermChange()}),e.k0s(),e.j41(7,"button",6),e.nrm(8,"i",7),e.k0s()()(),e.j41(9,"div",3)(10,"div",8)(11,"app-reusable-modal",9),e.bIt("buttonClick",function(){return o.createPlanTrabajo()}),e.j41(12,"div",2)(13,"div",3)(14,"label",10),e.EFF(15,"Nombre"),e.k0s(),e.j41(16,"input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.nombre,a)||(o.newConvenio.nombre=a),a}),e.k0s()(),e.j41(17,"div",3)(18,"label",12),e.EFF(19,"Universidad"),e.k0s(),e.j41(20,"select",13),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.universidad,a)||(o.newConvenio.universidad=a),a}),e.j41(21,"option"),e.EFF(22,"Selecione la Universidad"),e.k0s(),e.DNE(23,N,2,2,"option",14),e.k0s()()(),e.j41(24,"div",15)(25,"div",3)(26,"label",16),e.EFF(27,"Fecha Inicio"),e.k0s(),e.j41(28,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_inicio,a)||(o.newConvenio.fecha_inicio=a),a}),e.k0s()(),e.j41(29,"div",3)(30,"label",18),e.EFF(31,"Fecha Fin"),e.k0s(),e.j41(32,"input",19),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_fin,a)||(o.newConvenio.fecha_fin=a),a}),e.k0s()()()(),e.j41(33,"a",20),e.bIt("click",function(){return o.exportarPDF()}),e.nrm(34,"i",21),e.EFF(35," Exportar PDF "),e.k0s(),e.j41(36,"a",22),e.bIt("click",function(){return o.exportarExcel()}),e.nrm(37,"i",23),e.EFF(38," Exportar Excel "),e.k0s()()()(),e.nrm(39,"br"),e.j41(40,"div",24)(41,"table",25)(42,"thead")(43,"tr")(44,"th",26),e.EFF(45,"N\xb0"),e.k0s(),e.j41(46,"th",26),e.EFF(47,"Nombre"),e.k0s(),e.j41(48,"th",26),e.EFF(49,"Fec. Inicio"),e.k0s(),e.j41(50,"th",26),e.EFF(51,"Fec. Fin"),e.k0s(),e.j41(52,"th",26),e.EFF(53,"Universidad"),e.k0s(),e.j41(54,"th",27),e.EFF(55,"Acuerdos"),e.k0s(),e.j41(56,"th",27),e.EFF(57,"Estado"),e.k0s(),e.j41(58,"th",27),e.EFF(59,"Acciones"),e.k0s()()(),e.j41(60,"tbody"),e.DNE(61,B,43,25,"tr",28),e.k0s()()(),e.j41(62,"div",29)(63,"ngb-pagination",30),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshPlanTrabajo()}),e.k0s(),e.j41(64,"select",31),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshPlanTrabajo()}),e.j41(65,"option",32),e.EFF(66,"2 items per page"),e.k0s(),e.j41(67,"option",32),e.EFF(68,"4 items per page"),e.k0s(),e.j41(69,"option",32),e.EFF(70,"6 items per page"),e.k0s()()()()()),2&t&&(e.Y8G("cardTitle","Plan de Trabajo Postgrado")("cardSubtitle","Convenios especificos de EsSalud - Universidades"),e.R7$(6),e.R50("ngModel",o.searchTerm),e.R7$(5),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newConvenio.nombre),e.R7$(4),e.R50("ngModel",o.newConvenio.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",o.newConvenio.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newConvenio.fecha_fin),e.R7$(29),e.Y8G("ngForOf",o.convenios),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[h.YU,h.Sq,g.Wk,p.RN,p.m2,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,u.s5,v.v,k.w],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.filter-title[_ngcontent-%COMP%]{font-size:13px;color:#8f9bb3;margin-bottom:5px}.input-rounded[_ngcontent-%COMP%]{border-radius:50px;padding:0 15px}.icon-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:none;background:transparent;cursor:pointer;color:#276ca1}.icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#276ca1}.btn-blue[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.ayuda-btn[_ngcontent-%COMP%]{background-color:#007bff!important;border-color:#007bff!important;color:#fff}"]})}}return r})(),O=(()=>{class r{constructor(){}exportPlanTrabajoPDF(n){const t=new w.default({orientation:"landscape"}),i=n.map((a,s)=>({numero:s+1,nombre:a.nombre||"",fecha_inicio:a.fecha_inicio||"",fecha_fin:a.fecha_fin||"",universidad:a.universidadDetalle?.nombre||"",acuerdos:a.acuerdo?.length||0,estado:a.estado?"Activo":"Inactivo"}));t.autoTable({head:[[{header:"N\xb0",dataKey:"numero"},{header:"Nombre",dataKey:"nombre"},{header:"Fecha Inicio",dataKey:"fecha_inicio"},{header:"Fecha Fin",dataKey:"fecha_fin"},{header:"Universidad",dataKey:"universidad"},{header:"N\xb0 de Acuerdos",dataKey:"acuerdos"},{header:"Estado",dataKey:"estado"}].map(a=>a.header)],body:i.map(a=>Object.values(a)),theme:"striped",styles:{fontSize:8,cellPadding:1},margin:{top:20}}),t.save("plan_trabajo_pregrado.pdf")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),U=(()=>{class r{constructor(){}exportarConveniosExcel(n){const t=n.map((a,s)=>({"N\xb0":s+1,Nombre:a.nombre||"","Fecha Inicio":a.fecha_inicio||"","Fecha Fin":a.fecha_fin||"",Universidad:a.universidadDetalle?.nombre||"",Acuerdos:a.acuerdo?.length||0,Estado:a.estado?"Activo":"Inactivo"})),o=m.Wp.json_to_sheet(t),i=m.Wp.book_new();m.Wp.book_append_sheet(i,o,"Convenios Pregrado"),m._h(i,"Convenios_Pregrado.xlsx")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const $=(r,c)=>({"text-success":r,"text-danger":c}),H=r=>["/plan-trabajo/pre-detalle",r];function X(r,c){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function Y(r,c){if(1&r&&(e.j41(0,"option",33),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.siglas,"")}}function J(r,c){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",34),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",35),e.EFF(12),e.k0s(),e.j41(13,"td",35)(14,"span",36),e.nrm(15,"i",36),e.k0s()(),e.j41(16,"td",37)(17,"div",38)(18,"app-reusable-modal",39),e.bIt("buttonClick",function(){const o=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.updatePlanTrabajo(o.id,o))}),e.j41(19,"div",2)(20,"div",3)(21,"label",10),e.EFF(22,"Nombre"),e.k0s(),e.j41(23,"input",11),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.nombre,o)||(i.nombre=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",3)(25,"label",12),e.EFF(26,"Universidad"),e.k0s(),e.j41(27,"select",13),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.universidad,o)||(i.universidad=o),e.Njj(o)}),e.j41(28,"option"),e.EFF(29,"Selecione la Universidad"),e.k0s(),e.DNE(30,Y,2,2,"option",14),e.k0s()()(),e.j41(31,"div",15)(32,"div",3)(33,"label",16),e.EFF(34,"Fecha Inicio"),e.k0s(),e.j41(35,"input",17),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.fecha_inicio,o)||(i.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(36,"div",3)(37,"label",18),e.EFF(38,"Fecha Fin"),e.k0s(),e.j41(39,"input",19),e.mxI("ngModelChange",function(o){const i=e.eBV(n).$implicit;return e.DH7(i.fecha_fin,o)||(i.fecha_fin=o),e.Njj(o)}),e.k0s()()()(),e.j41(40,"button",40),e.nrm(41,"i",41),e.EFF(42,"Ver Detalle "),e.k0s()()()()}if(2&r){const n=c.$implicit,t=c.index,o=e.XpG();e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(n.nombre),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.JRh(null==n.universidadDetalle?null:n.universidadDetalle.nombre),e.R7$(2),e.JRh(n.acuerdo.length),e.R7$(2),e.Y8G("ngClass",e.l_i(20,$,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(3),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","edit")("buttonTitle","")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",n.nombre),e.R7$(4),e.R50("ngModel",n.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",n.fecha_inicio),e.R7$(4),e.R50("ngModel",n.fecha_fin),e.R7$(),e.Y8G("routerLink",e.eq3(23,H,n.id))}}let L=(()=>{class r{constructor(n,t,o,i,a,s){this.modalService=t,this.planTrabajoService=o,this.universidadesService=i,this.exportPdfService=a,this.exportExcelService=s,this.page=1,this.pageSize=4,this.CONVENIOS=[],this.convenios=[],this.collection=0,this.listuniversidades=[],this.searchTerm="",this.newConvenio={nombre:"",is_postgrado:!1,fecha_inicio:"",fecha_fin:"",estado:!0,universidad:"",acuerdo:[]},n.backdrop="static",n.keyboard=!1,this.refreshPlanTrabajo()}ngOnInit(){this.getPlanTrabajo(),this.getUniversidades()}refreshPlanTrabajo(){let n=this.CONVENIOS;this.searchTerm&&(n=n.filter(t=>{const o=t.nombre.toLowerCase().includes(this.searchTerm.toLowerCase()),i=t.universidadDetalle?.nombre.toLowerCase().includes(this.searchTerm.toLowerCase());return o||i})),this.collection=n.length,this.convenios=n.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),0===this.convenios.length&&this.page>1&&(this.page--,this.refreshPlanTrabajo())}open(n){this.modalService.open(n)}onSearchTermChange(){this.refreshPlanTrabajo()}getUniversidades(){this.universidadesService.getUniversidades().subscribe(n=>{console.log(n),this.listuniversidades=n},n=>{console.error(n)})}getPlanTrabajo(){this.planTrabajoService.getPlanTrabajo().subscribe({next:n=>{const t=n.filter(o=>!1===o.is_postgrado);this.CONVENIOS=t,this.collection=t.length,this.refreshPlanTrabajo(),this.universidadesService.getUniversidades().subscribe({next:o=>{t.forEach(i=>{if(i.universidad){const a=o.find(s=>s.id===i.universidad);a&&(i.universidadDetalle=a)}})},error:o=>{console.error("Error fetching universidades:",o)}})},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createPlanTrabajo(){this.planTrabajoService.createPlanTrabajo(this.newConvenio).subscribe(n=>{console.log(n),console.log("Datos enviados:",this.newConvenio),this.getPlanTrabajo()},n=>{console.error(n)})}updatePlanTrabajo(n,t){this.planTrabajoService.updatePlanTrabajo(n,t).subscribe(o=>{console.log(o),this.getPlanTrabajo()},o=>{console.error(o)})}exportarPDF(){this.exportPdfService.exportPlanTrabajoPDF(this.convenios)}exportarExcel(){this.exportExcelService.exportarConveniosExcel(this.convenios)}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(_.a),e.rXU(A.k),e.rXU(O),e.rXU(U))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-grado"]],features:[e.Jv_([u.LY,u.Bq])],decls:71,vars:22,consts:[["iconName","bell-ringing",3,"cardTitle","cardSubtitle"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"example-input","position-relative"],["type","text","placeholder","Buscar por nombre de plan o universidad",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"position","absolute","right","0","top","0"],[1,"fas","fa-search"],[2,"text-align","right"],[3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],["for","nombre",1,"form-label","fw-bold"],["type","text","name","nombre","id","nombre","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],["for","universidad",1,"form-label","fw-bold"],["name","universidad","id","universidad",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],["for","fecha_inicio",1,"form-label","fw-bold"],["type","date","id","fecha_inicio","name","fecha_inicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_fin",1,"form-label","fw-bold"],["type","date","id","fecha_fin","name","fecha_fin",1,"form-control",3,"ngModelChange","ngModel"],["nz-button","","nzType","link",1,"fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-pdf","me-2"],["nz-button","","nzType","link",1,"text-success","fw-bold",2,"margin-left","15px","text-decoration","none",3,"click"],[1,"fa-solid","fa-file-excel","me-2"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"value"],["scope","row"],[1,"text-center"],[3,"ngClass"],[1,"justify-content-center","d-flex"],[1,"d-flex"],[1,"me-1",3,"buttonClick","showFirstButton","showSecondButton","iconName","buttonTitle","title","buttonText"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"routerLink"],[1,""]],template:function(t,o){1&t&&(e.nrm(0,"app-reusable-card",0),e.j41(1,"mat-card",1)(2,"mat-card-content")(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),e.mxI("ngModelChange",function(a){return e.DH7(o.searchTerm,a)||(o.searchTerm=a),a}),e.bIt("input",function(){return o.onSearchTermChange()}),e.k0s(),e.j41(7,"button",6),e.nrm(8,"i",7),e.k0s()()(),e.j41(9,"div",3)(10,"div",8)(11,"app-reusable-modal",9),e.bIt("buttonClick",function(){return o.createPlanTrabajo()}),e.j41(12,"div",2)(13,"div",3)(14,"label",10),e.EFF(15,"Nombre"),e.k0s(),e.j41(16,"input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.nombre,a)||(o.newConvenio.nombre=a),a}),e.k0s()(),e.j41(17,"div",3)(18,"label",12),e.EFF(19,"Universidad"),e.k0s(),e.j41(20,"select",13),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.universidad,a)||(o.newConvenio.universidad=a),a}),e.j41(21,"option"),e.EFF(22,"Selecione la Universidad"),e.k0s(),e.DNE(23,X,2,2,"option",14),e.k0s()()(),e.j41(24,"div",15)(25,"div",3)(26,"label",16),e.EFF(27,"Fecha Inicio"),e.k0s(),e.j41(28,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_inicio,a)||(o.newConvenio.fecha_inicio=a),a}),e.k0s()(),e.j41(29,"div",3)(30,"label",18),e.EFF(31,"Fecha Inicio"),e.k0s(),e.j41(32,"input",19),e.mxI("ngModelChange",function(a){return e.DH7(o.newConvenio.fecha_fin,a)||(o.newConvenio.fecha_fin=a),a}),e.k0s()()()(),e.j41(33,"a",20),e.bIt("click",function(){return o.exportarPDF()}),e.nrm(34,"i",21),e.EFF(35," Exportar PDF "),e.k0s(),e.j41(36,"a",22),e.bIt("click",function(){return o.exportarExcel()}),e.nrm(37,"i",23),e.EFF(38," Exportar Excel "),e.k0s()()()(),e.nrm(39,"br"),e.j41(40,"div",24)(41,"table",25)(42,"thead")(43,"tr")(44,"th",26),e.EFF(45,"N\xb0"),e.k0s(),e.j41(46,"th",26),e.EFF(47,"Nombre"),e.k0s(),e.j41(48,"th",26),e.EFF(49,"Fec. Inicio"),e.k0s(),e.j41(50,"th",26),e.EFF(51,"Fec. Fin"),e.k0s(),e.j41(52,"th",26),e.EFF(53,"Universidad"),e.k0s(),e.j41(54,"th",27),e.EFF(55,"Acuerdos"),e.k0s(),e.j41(56,"th",27),e.EFF(57,"Estado"),e.k0s(),e.j41(58,"th",27),e.EFF(59,"Detalle"),e.k0s()()(),e.j41(60,"tbody"),e.DNE(61,J,43,25,"tr",28),e.k0s()()(),e.j41(62,"div",29)(63,"ngb-pagination",30),e.mxI("pageChange",function(a){return e.DH7(o.page,a)||(o.page=a),a}),e.bIt("pageChange",function(){return o.refreshPlanTrabajo()}),e.k0s(),e.j41(64,"select",31),e.mxI("ngModelChange",function(a){return e.DH7(o.pageSize,a)||(o.pageSize=a),a}),e.bIt("ngModelChange",function(){return o.refreshPlanTrabajo()}),e.j41(65,"option",32),e.EFF(66,"2 items per page"),e.k0s(),e.j41(67,"option",32),e.EFF(68,"4 items per page"),e.k0s(),e.j41(69,"option",32),e.EFF(70,"6 items per page"),e.k0s()()()()()),2&t&&(e.Y8G("cardTitle","Plan de Trabajo Pregrado")("cardSubtitle","Convenios especificos de EsSalud - Universidades"),e.R7$(6),e.R50("ngModel",o.searchTerm),e.R7$(5),e.Y8G("showFirstButton",!0)("showSecondButton",!1)("iconName","circle-plus")("buttonTitle","Agregar")("title","Agregar un Plan de Trabajo")("buttonText","Guardar"),e.R7$(5),e.R50("ngModel",o.newConvenio.nombre),e.R7$(4),e.R50("ngModel",o.newConvenio.universidad),e.R7$(3),e.Y8G("ngForOf",o.listuniversidades),e.R7$(5),e.R50("ngModel",o.newConvenio.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newConvenio.fecha_fin),e.R7$(29),e.Y8G("ngForOf",o.convenios),e.R7$(2),e.Y8G("collectionSize",o.collection),e.R50("page",o.page),e.Y8G("pageSize",o.pageSize),e.R7$(),e.R50("ngModel",o.pageSize),e.R7$(),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",6))},dependencies:[h.YU,h.Sq,g.Wk,p.RN,p.m2,l.xH,l.y7,l.me,l.wz,l.BC,l.vS,u.s5,v.v,k.w],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px}.filter-title[_ngcontent-%COMP%]{font-size:13px;color:#8f9bb3;margin-bottom:5px}.input-rounded[_ngcontent-%COMP%]{border-radius:50px;padding:0 15px}.icon-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border:none;background:transparent;cursor:pointer;color:#276ca1}.icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#276ca1}.btn-blue[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-blue[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.ayuda-btn[_ngcontent-%COMP%]{background-color:#007bff!important;border-color:#007bff!important;color:#fff}"]})}}return r})();var j=d(5357),F=d(6354),f=d(9437),b=d(8810),W=d(7468),K=d(1626),q=d(1339),Q=d(5794),Z=d(1416);let C=(()=>{class r{constructor(n,t,o,i){this.http=n,this.authService=t,this.toastr=o,this.getHeaders=i,this.apiPlanTrabajo=j.i.baseUrl+j.i.planTrabajo,this.apiAcuerdos=j.i.baseUrl+j.i.acuerdos}getAcuerdos(){const n=this.getHeaders.getHeaders();return this.http.get(this.apiAcuerdos,{headers:n}).pipe((0,F.T)(t=>t),(0,f.W)(t=>t))}getPlanTrabajoById(n){const t=this.getHeaders.getHeaders();return this.http.get(`${this.apiPlanTrabajo}${n}/`,{headers:t}).pipe((0,f.W)(i=>(console.error("Error fetching plan de trabajo:",i),(0,b.$)(()=>i))))}getAcuerdosByDetalle(n){const t=this.getHeaders.getHeaders();return this.http.get(`${this.apiAcuerdos}${n}/`,{headers:t}).pipe((0,f.W)(i=>(console.error("Error fetching acuerdo:",i),(0,b.$)(()=>i))))}getAcuerdosByIds(n){const t=n.map(o=>this.getAcuerdosByDetalle(o));return(0,W.p)(t).pipe((0,f.W)(o=>(console.error("Error fetching acuerdos:",o),(0,b.$)(()=>o))))}createAcuerdos(n){const t=this.getHeaders.getHeaders();return this.http.post(this.apiAcuerdos,n,{headers:t}).pipe((0,F.T)(o=>o),(0,f.W)(o=>(console.error("Error creating Acuerdo:",o),(0,b.$)(()=>o))))}updateAcuerdo(n,t){const o=this.getHeaders.getHeaders();return this.http.put(`${this.apiAcuerdos}${n}/`,t,{headers:o}).pipe((0,F.T)(i=>i),(0,f.W)(i=>(console.error("Error updating Acuerdo:",i),(0,b.$)(()=>i))))}changeStateCarreraTrue(n,t){const o=this.getHeaders.getHeaders();return this.http.patch(`${this.apiAcuerdos}${n}/`,{estado:t},{headers:o}).pipe((0,F.T)(i=>{this.toastr.success("Entidad eliminada correctamente")}),(0,f.W)(i=>(console.error("Error changing state Acuerdo:",i),(0,b.$)(()=>i))))}static{this.\u0275fac=function(t){return new(t||r)(e.KVO(K.Qq),e.KVO(q.u),e.KVO(Q.tw),e.KVO(Z.y))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const ee=()=>["/plan-trabajo/postgrado"],oe=(r,c)=>({"text-success":r,"text-danger":c});function ne(r,c){if(1&r){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id,!1))}),e.nrm(1,"i",30),e.k0s()}}function te(r,c){if(1&r){const n=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id,!0))}),e.nrm(1,"i",32),e.k0s()}}function ie(r,c){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.k0s(),e.j41(5,"td",21),e.EFF(6),e.k0s(),e.j41(7,"td",21),e.EFF(8),e.k0s(),e.j41(9,"td",21),e.EFF(10),e.k0s(),e.j41(11,"td",21),e.EFF(12),e.k0s(),e.j41(13,"td",21),e.EFF(14),e.k0s(),e.j41(15,"td",21),e.EFF(16),e.k0s(),e.j41(17,"td",22)(18,"span",23),e.nrm(19,"i",23),e.k0s()(),e.j41(20,"td",21)(21,"div",24)(22,"button",25),e.bIt("click",function(){const o=e.eBV(n).$implicit,i=e.XpG(),a=e.sdS(53);return e.Njj(i.openEditModal(o,a))}),e.nrm(23,"i",26),e.k0s(),e.DNE(24,ne,2,0,"button",27)(25,te,2,0,"button",28),e.k0s()()()}if(2&r){const n=c.$implicit,t=c.index;e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.beneficiarios),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.SpI("S/.",n.valorizacion,""),e.R7$(2),e.JRh(n.is_esssalud_responsable?"Essalud":"Externo"),e.R7$(2),e.Y8G("ngClass",e.l_i(12,oe,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(5),e.Y8G("ngIf",n.estado),e.R7$(),e.Y8G("ngIf",!n.estado)}}function ae(r,c){if(1&r){const n=e.RV6();e.j41(0,"div",33)(1,"h4",34),e.EFF(2,"Editar Acuerdo"),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.k0s()(),e.j41(4,"div",36)(5,"form")(6,"div",37)(7,"label",38),e.EFF(8,"Compromiso"),e.k0s(),e.j41(9,"input",39),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.compromiso,o)||(i.newAcuerdo.compromiso=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",37)(11,"label",40),e.EFF(12,"Detalle"),e.k0s(),e.j41(13,"input",41),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.detalle,o)||(i.newAcuerdo.detalle=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",37)(15,"label",42),e.EFF(16,"Beneficiarios"),e.k0s(),e.j41(17,"input",43),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.beneficiarios,o)||(i.newAcuerdo.beneficiarios=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",37)(19,"label",44),e.EFF(20,"Fecha Inicio"),e.k0s(),e.j41(21,"input",45),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.fecha_inicio,o)||(i.newAcuerdo.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div",37)(23,"label",46),e.EFF(24,"Fecha Fin"),e.k0s(),e.j41(25,"input",47),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.fecha_fin,o)||(i.newAcuerdo.fecha_fin=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",37)(27,"label",48),e.EFF(28,"Valorizaci\xf3n"),e.k0s(),e.j41(29,"input",49),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.valorizacion,o)||(i.newAcuerdo.valorizacion=o),e.Njj(o)}),e.k0s()()()(),e.j41(30,"div",50)(31,"button",51),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.EFF(32,"Cancelar"),e.k0s(),e.j41(33,"button",52),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.XpG().updateAcuerdo(),e.Njj(o.close())}),e.EFF(34,"Guardar"),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(9),e.R50("ngModel",n.newAcuerdo.compromiso),e.R7$(4),e.R50("ngModel",n.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",n.newAcuerdo.beneficiarios),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_fin),e.R7$(4),e.R50("ngModel",n.newAcuerdo.valorizacion)}}let re=(()=>{class r{constructor(n,t,o,i,a){this.route=n,this.modalService=o,this.acuerdosService=i,this.router=a,this.page=1,this.pageSize=10,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.pasarId="",this.planNombre="",this.essaludValorizacion=0,this.externoValorizacion=0,this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},t.backdrop="static",t.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.pasarId=this.convenioId,this.getPlanTrabajo()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getPlanTrabajo(){this.acuerdosService.getPlanTrabajoById(this.convenioId).subscribe({next:n=>{this.getAcuerdos(n.acuerdo),this.planNombre=n.nombre,console.log("Plan de trabajo:",n)},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}patchEstado(n,t){this.acuerdosService.changeStateCarreraTrue(n,t).subscribe({next:o=>{console.log("Carrera updated successfully:",o),this.getPlanTrabajo(),this.refreshAcuerdos()},error:o=>{console.error("Error updating carrera:",o)}})}getAcuerdos(n){this.acuerdosService.getAcuerdosByIds(n).subscribe({next:t=>{this.ACUERDOS=t,this.collection=t.length,this.essaludValorizacion=0,this.externoValorizacion=0,t.forEach(o=>{o.is_esssalud_responsable?this.essaludValorizacion+=Number(o.valorizacion):this.externoValorizacion+=Number(o.valorizacion)}),this.refreshAcuerdos()},error:t=>{console.error("Error fetching acuerdos:",t)}})}getPasarId(){this.router.navigate(["/plan-trabajo/registro-plan",this.pasarId])}openEditModal(n,t){this.newAcuerdo={...n},this.modalService.open(t)}updateAcuerdo(){const n=this.newAcuerdo.id;n?this.acuerdosService.updateAcuerdo(n,this.newAcuerdo).subscribe({next:t=>{console.log("Acuerdo updated successfully:",t),this.getPlanTrabajo(),this.refreshAcuerdos(),this.modalService.dismissAll()},error:t=>{console.error("Error updating acuerdo:",t)}}):console.error("No se puede actualizar el acuerdo: ID es indefinido")}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(g.nX),e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-detalle"]],decls:54,vars:7,consts:[["editModal",""],[1,"cardWithShadow",3,"click"],[1,"row"],[1,"col-md-6"],[1,"d-flex"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"routerLink"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"cardWithShadow"],[1,"col-md-4"],[2,"text-align","right"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-circle-plus"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"align-middle"],[1,"text-center","align-middle"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","compromiso",1,"form-label"],["id","compromiso","name","compromiso",1,"form-control",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label"],["id","detalle","name","detalle",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label"],["id","beneficiarios","name","beneficiarios",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label"],["id","fechaInicio","type","date","name","fechaInicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label"],["id","fechaFin","type","date","name","fechaFin",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label"],["id","valorizacion","type","number","name","valorizacion",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,o){if(1&t){const i=e.RV6();e.j41(0,"mat-card",1),e.bIt("click",function(s){return e.eBV(i),e.Njj(s.stopPropagation())}),e.j41(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.nrm(7,"i",7),e.k0s()(),e.nrm(8,"div",5),e.j41(9,"mat-card-title",8),e.EFF(10),e.k0s()()(),e.nrm(11,"div",9),e.k0s()()(),e.j41(12,"mat-card",10)(13,"mat-card-content")(14,"div",2)(15,"div",11)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"div",11)(19,"span"),e.EFF(20),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){return e.eBV(i),e.Njj(o.getPasarId())}),e.nrm(23,"i",14),e.EFF(24," Agregar "),e.k0s()(),e.nrm(25,"br"),e.j41(26,"div",15)(27,"table",16)(28,"thead")(29,"tr")(30,"th",17),e.EFF(31,"N\xb0"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Compromiso"),e.k0s(),e.j41(34,"th",17),e.EFF(35,"Detalle"),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Beneficiarios"),e.k0s(),e.j41(38,"th",17),e.EFF(39,"Fec. Inicio"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Fec. Fin"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"Valorizaci\xf3n"),e.k0s(),e.j41(44,"th",17),e.EFF(45,"Responsable"),e.k0s(),e.j41(46,"th",18),e.EFF(47,"Estado"),e.k0s(),e.j41(48,"th",18),e.EFF(49,"OPC"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,ie,26,15,"tr",19),e.k0s()()()()(),e.DNE(52,ae,35,6,"ng-template",null,0,e.C5r)}2&t&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(6,ee)),e.R7$(4),e.SpI("Detalle de ",o.planNombre,""),e.R7$(7),e.SpI("Valorizaci\xf3n RPA: S/. ",o.essaludValorizacion,""),e.R7$(3),e.Lme("Valorizaci\xf3n ",o.planNombre,": S/. ",o.externoValorizacion,""),e.R7$(31),e.Y8G("ngForOf",o.acuerdos))},dependencies:[h.YU,h.Sq,h.bT,g.Wk,p.RN,p.m2,p.dh,l.qT,l.me,l.Q0,l.BC,l.cb,l.vS,l.cV],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})();var T=d(8084);function se(r,c){if(1&r&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nombre)}}const ce=()=>["/plan-trabajo/pre-grado"],de=(r,c)=>({"text-success":r,"text-danger":c});function ue(r,c){if(1&r){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id,!1))}),e.nrm(1,"i",30),e.k0s()}}function pe(r,c){if(1&r){const n=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.patchEstado(o.id,!0))}),e.nrm(1,"i",32),e.k0s()}}function he(r,c){if(1&r){const n=e.RV6();e.j41(0,"tr")(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.k0s(),e.j41(5,"td",21),e.EFF(6),e.k0s(),e.j41(7,"td",21),e.EFF(8),e.k0s(),e.j41(9,"td",21),e.EFF(10),e.k0s(),e.j41(11,"td",21),e.EFF(12),e.k0s(),e.j41(13,"td",21),e.EFF(14),e.k0s(),e.j41(15,"td",21),e.EFF(16),e.k0s(),e.j41(17,"td",22)(18,"span",23),e.nrm(19,"i",23),e.k0s()(),e.j41(20,"td",21)(21,"div",24)(22,"button",25),e.bIt("click",function(){const o=e.eBV(n).$implicit,i=e.XpG(),a=e.sdS(53);return e.Njj(i.openEditModal(o,a))}),e.nrm(23,"i",26),e.k0s(),e.DNE(24,ue,2,0,"button",27)(25,pe,2,0,"button",28),e.k0s()()()}if(2&r){const n=c.$implicit,t=c.index;e.R7$(2),e.JRh(t+1),e.R7$(2),e.JRh(n.compromiso),e.R7$(2),e.JRh(n.detalle),e.R7$(2),e.JRh(n.beneficiarios),e.R7$(2),e.JRh(n.fecha_inicio),e.R7$(2),e.JRh(n.fecha_fin),e.R7$(2),e.SpI("S/.",n.valorizacion,""),e.R7$(2),e.JRh(n.is_esssalud_responsable?"Essalud":"Externo"),e.R7$(2),e.Y8G("ngClass",e.l_i(12,de,n.estado,!n.estado)),e.R7$(),e.Y8G("ngClass",n.estado?"fa-solid fa-circle text-success":"fa-solid fa-circle text-danger"),e.R7$(5),e.Y8G("ngIf",n.estado),e.R7$(),e.Y8G("ngIf",!n.estado)}}function ge(r,c){if(1&r){const n=e.RV6();e.j41(0,"div",33)(1,"h4",34),e.EFF(2,"Editar Acuerdo"),e.k0s(),e.j41(3,"button",35),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.k0s()(),e.j41(4,"div",36)(5,"form")(6,"div",37)(7,"label",38),e.EFF(8,"Compromiso"),e.k0s(),e.j41(9,"input",39),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.compromiso,o)||(i.newAcuerdo.compromiso=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",37)(11,"label",40),e.EFF(12,"Detalle"),e.k0s(),e.j41(13,"input",41),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.detalle,o)||(i.newAcuerdo.detalle=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",37)(15,"label",42),e.EFF(16,"Beneficiarios"),e.k0s(),e.j41(17,"input",43),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.beneficiarios,o)||(i.newAcuerdo.beneficiarios=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",37)(19,"label",44),e.EFF(20,"Fecha Inicio"),e.k0s(),e.j41(21,"input",45),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.fecha_inicio,o)||(i.newAcuerdo.fecha_inicio=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div",37)(23,"label",46),e.EFF(24,"Fecha Fin"),e.k0s(),e.j41(25,"input",47),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.fecha_fin,o)||(i.newAcuerdo.fecha_fin=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",37)(27,"label",48),e.EFF(28,"Valorizaci\xf3n"),e.k0s(),e.j41(29,"input",49),e.mxI("ngModelChange",function(o){e.eBV(n);const i=e.XpG();return e.DH7(i.newAcuerdo.valorizacion,o)||(i.newAcuerdo.valorizacion=o),e.Njj(o)}),e.k0s()()()(),e.j41(30,"div",50)(31,"button",51),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.Njj(o.dismiss())}),e.EFF(32,"Cancelar"),e.k0s(),e.j41(33,"button",52),e.bIt("click",function(){const o=e.eBV(n).$implicit;return e.XpG().updateAcuerdo(),e.Njj(o.close())}),e.EFF(34,"Guardar"),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(9),e.R50("ngModel",n.newAcuerdo.compromiso),e.R7$(4),e.R50("ngModel",n.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",n.newAcuerdo.beneficiarios),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",n.newAcuerdo.fecha_fin),e.R7$(4),e.R50("ngModel",n.newAcuerdo.valorizacion)}}function fe(r,c){if(1&r&&(e.j41(0,"option",47),e.EFF(1),e.k0s()),2&r){const n=c.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nombre)}}const be=[{path:"",children:[{path:"convenios",component:I},{path:"postgrado",component:G},{path:"pre-grado",component:L},{path:"detalle/:id",component:re},{path:"registro-plan/:id",component:(()=>{class r{constructor(n,t,o,i,a,s,R){this.modalService=t,this.acuerdosService=o,this.planTrabajoService=i,this.route=a,this.router=s,this.sedeAdjudicacionService=R,this.page=1,this.pageSize=4,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.listSedeAdjudicacion=[],this.idAcuerdo="",this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},n.backdrop="static",n.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.getSedeAdjudicaciones(),this.getAcuerdos()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getSedeAdjudicaciones(){this.sedeAdjudicacionService.getSedeAdjudicacion().subscribe(n=>{console.log(n),this.listSedeAdjudicacion=n},n=>{console.error(n)})}getAcuerdos(){this.acuerdosService.getAcuerdos().subscribe({next:n=>{this.ACUERDOS=n,this.collection=n.length,this.refreshAcuerdos()},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createAcuerdos(){this.acuerdosService.createAcuerdos(this.newAcuerdo).subscribe(n=>{const t=n.id;console.log(n),console.log("Acuerdo creado con ID:",t),console.log("Datos enviados:",this.newAcuerdo),this.actualizarAcuerdo(t),this.getAcuerdos()},n=>{console.error(n)})}actualizarAcuerdo(n){if("string"!=typeof n||!n)return void console.error("acuerdoId no es una cadena v\xe1lida:",n);const t={acuerdo_id:n};console.log("Acuerdos creados:",t),this.planTrabajoService.patchAcuerdo2(this.convenioId,t).subscribe(o=>{console.log("Plan de trabajo actualizado:",o),this.getAcuerdos(),this.regresar()},o=>{console.error("Error actualizando plan de trabajo:",o)})}regresar(){this.router.navigate(["/plan-trabajo/detalle",this.convenioId])}actualizarPagina(){window.location.reload()}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C),e.rXU(_.a),e.rXU(g.nX),e.rXU(g.Ix),e.rXU(T.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-registro"]],inputs:{idAcuerdo:"idAcuerdo"},decls:82,vars:11,consts:[["acuerdoForm","ngForm"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"click"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"col-md-4"],[1,"d-flex","justify-content-end"],[1,"btn","ayuda-btn","me-2"],[1,"fa-solid","fa-circle-question","me-2","text-light"],[1,"text-light","fw-bold"],[1,"btn","border","actualizar-btn",3,"click"],[1,"fa-solid","fa-rotate-right","me-2","actualizar-icon"],[1,"fw-bold","actualizar-text"],[3,"ngSubmit"],[1,"col-md-12"],["for","compromiso",1,"form-label","fw-bold"],["id","compromiso","name","compromiso","rows","5","required","",1,"form-control",2,"resize","vertical",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label","fw-bold"],["type","text","id","detalle","name","detalle","placeholder","Escribir detalle","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label","fw-bold"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label","fw-bold"],["type","text","id","beneficiarios","name","beneficiarios","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],["type","number","id","valorizacion","name","valorizacion","min","0","step","0.01","placeholder","0.00","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","responsable",1,"form-label","fw-bold"],[1,"form-check"],["type","radio","name","responsableEssalud","id","responsableSi","value","true",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableSi",1,"form-check-label"],["type","radio","name","responsableEssalud","id","responsableNo","value","false",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableNo",1,"form-check-label"],["for","sedeAdjudicacion",1,"form-label","fw-bold"],["name","sedeAdjudicacion","id","sedeAdjudicacion","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-5","w-25",3,"disabled"],[3,"value"]],template:function(t,o){if(1&t){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.bIt("click",function(){return e.eBV(i),e.Njj(o.regresar())}),e.nrm(8,"i",8),e.k0s()(),e.j41(9,"div")(10,"mat-card-title",9),e.EFF(11,"Registro de Compromiso"),e.k0s()()()()(),e.nrm(12,"div",10),e.j41(13,"div",11)(14,"div",12)(15,"button",13),e.nrm(16,"i",14),e.j41(17,"span",15),e.EFF(18,"Ayuda"),e.k0s()(),e.j41(19,"button",16),e.bIt("click",function(){return e.eBV(i),e.Njj(o.actualizarPagina())}),e.nrm(20,"i",17),e.j41(21,"span",18),e.EFF(22,"Actualizar"),e.k0s()()()()()()(),e.j41(23,"mat-card",1)(24,"mat-card-content")(25,"form",19,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.createAcuerdos())}),e.j41(27,"div",2)(28,"div",20)(29,"label",21),e.EFF(30,"Compromiso"),e.k0s(),e.j41(31,"textarea",22),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.compromiso,s)||(o.newAcuerdo.compromiso=s),e.Njj(s)}),e.k0s()()(),e.nrm(32,"br"),e.j41(33,"div",2)(34,"div",11)(35,"label",23),e.EFF(36,"Detalle"),e.k0s(),e.j41(37,"input",24),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.detalle,s)||(o.newAcuerdo.detalle=s),e.Njj(s)}),e.k0s()(),e.j41(38,"div",11)(39,"label",25),e.EFF(40,"Fecha Inicio"),e.k0s(),e.j41(41,"input",26),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.fecha_inicio,s)||(o.newAcuerdo.fecha_inicio=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",11)(43,"label",27),e.EFF(44,"Fecha Fin"),e.k0s(),e.j41(45,"input",28),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.fecha_fin,s)||(o.newAcuerdo.fecha_fin=s),e.Njj(s)}),e.k0s()()(),e.nrm(46,"br"),e.j41(47,"div",2)(48,"div",11)(49,"label",29),e.EFF(50,"Beneficiario"),e.k0s(),e.j41(51,"input",30),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.beneficiarios,s)||(o.newAcuerdo.beneficiarios=s),e.Njj(s)}),e.k0s()(),e.j41(52,"div",11)(53,"label",31),e.EFF(54,"Valorizaci\xf3n"),e.k0s(),e.j41(55,"div",32)(56,"span",33),e.EFF(57,"S/."),e.k0s(),e.j41(58,"input",34),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.valorizacion,s)||(o.newAcuerdo.valorizacion=s),e.Njj(s)}),e.k0s()()(),e.j41(59,"div",11)(60,"label",35),e.EFF(61,"Responsable RPA"),e.k0s(),e.j41(62,"div",36)(63,"input",37),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(64,"label",38),e.EFF(65,"S\xed"),e.k0s()(),e.j41(66,"div",36)(67,"input",39),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(68,"label",40),e.EFF(69,"No"),e.k0s()()()(),e.j41(70,"div",2)(71,"div",11)(72,"label",41),e.EFF(73,"Sede Docente"),e.k0s(),e.j41(74,"select",42),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.sede_Adjudicacion,s)||(o.newAcuerdo.sede_Adjudicacion=s),e.Njj(s)}),e.j41(75,"option",43),e.EFF(76,"Seleccione Sede"),e.k0s(),e.DNE(77,se,2,2,"option",44),e.k0s()()(),e.nrm(78,"br"),e.j41(79,"div",45)(80,"button",46),e.EFF(81,"Registrar"),e.k0s()()()()()}if(2&t){const i=e.sdS(26);e.R7$(31),e.R50("ngModel",o.newAcuerdo.compromiso),e.R7$(6),e.R50("ngModel",o.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_fin),e.R7$(6),e.R50("ngModel",o.newAcuerdo.beneficiarios),e.R7$(7),e.R50("ngModel",o.newAcuerdo.valorizacion),e.R7$(5),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(4),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(7),e.R50("ngModel",o.newAcuerdo.sede_Adjudicacion),e.R7$(3),e.Y8G("ngForOf",o.listSedeAdjudicacion),e.R7$(3),e.Y8G("disabled",!i.valid)}},dependencies:[h.Sq,p.RN,p.m2,p.dh,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.Fm,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV],styles:[".custom-icon-bg[_ngcontent-%COMP%]{background-color:#276ca1;border-radius:50%;box-shadow:0 4px 8px #0003;width:30px;height:30px;display:flex;justify-content:center;align-items:center}.ayuda-btn[_ngcontent-%COMP%]{background-color:#00a5d7!important;border-color:#00a5d7!important;color:#fff}.actualizar-btn[_ngcontent-%COMP%]{border-color:#276ca1!important}.actualizar-text[_ngcontent-%COMP%], .actualizar-icon[_ngcontent-%COMP%]{color:#276ca1!important}.titles[_ngcontent-%COMP%]{font-size:17px}.subtitles[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})()},{path:"pre-detalle/:id",component:(()=>{class r{constructor(n,t,o,i,a){this.route=n,this.modalService=o,this.acuerdosService=i,this.router=a,this.page=1,this.pageSize=10,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.pasarId="",this.planNombre="",this.essaludValorizacion=0,this.externoValorizacion=0,this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},t.backdrop="static",t.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.pasarId=this.convenioId,this.getPlanTrabajo()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getPlanTrabajo(){this.acuerdosService.getPlanTrabajoById(this.convenioId).subscribe({next:n=>{this.getAcuerdos(n.acuerdo),this.planNombre=n.nombre,console.log("Plan de trabajo:",n)},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}patchEstado(n,t){this.acuerdosService.changeStateCarreraTrue(n,t).subscribe({next:o=>{console.log("Carrera updated successfully:",o),this.getPlanTrabajo(),this.refreshAcuerdos()},error:o=>{console.error("Error updating carrera:",o)}})}getAcuerdos(n){this.acuerdosService.getAcuerdosByIds(n).subscribe({next:t=>{this.ACUERDOS=t,this.collection=t.length,this.essaludValorizacion=0,this.externoValorizacion=0,t.forEach(o=>{o.is_esssalud_responsable?this.essaludValorizacion+=Number(o.valorizacion):this.externoValorizacion+=Number(o.valorizacion)}),this.refreshAcuerdos()},error:t=>{console.error("Error fetching acuerdos:",t)}})}getPasarId(){this.router.navigate(["/plan-trabajo/pre-registro",this.pasarId])}openEditModal(n,t){this.newAcuerdo={...n},this.modalService.open(t)}updateAcuerdo(){const n=this.newAcuerdo.id;n?this.acuerdosService.updateAcuerdo(n,this.newAcuerdo).subscribe({next:t=>{console.log("Acuerdo updated successfully:",t),this.getPlanTrabajo(),this.refreshAcuerdos(),this.modalService.dismissAll()},error:t=>{console.error("Error updating acuerdo:",t)}}):console.error("No se puede actualizar el acuerdo: ID es indefinido")}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(g.nX),e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-detalle"]],decls:54,vars:7,consts:[["editModal",""],[1,"cardWithShadow",3,"click"],[1,"row"],[1,"col-md-6"],[1,"d-flex"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"routerLink"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"cardWithShadow"],[1,"col-md-4"],[2,"text-align","right"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-circle-plus"],[2,"overflow-x","auto"],[1,"table","table-striped"],[1,"fw-bold"],[1,"fw-bold","text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"align-middle"],[1,"text-center","align-middle"],[3,"ngClass"],[1,"d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-edit"],["class","btn btn-sm btn-outline-danger me-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-success me-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fa-solid","fa-close"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"fa-solid","fa-check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","compromiso",1,"form-label"],["id","compromiso","name","compromiso",1,"form-control",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label"],["id","detalle","name","detalle",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label"],["id","beneficiarios","name","beneficiarios",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label"],["id","fechaInicio","type","date","name","fechaInicio",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label"],["id","fechaFin","type","date","name","fechaFin",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label"],["id","valorizacion","type","number","name","valorizacion",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,o){if(1&t){const i=e.RV6();e.j41(0,"mat-card",1),e.bIt("click",function(s){return e.eBV(i),e.Njj(s.stopPropagation())}),e.j41(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.nrm(7,"i",7),e.k0s()(),e.nrm(8,"div",5),e.j41(9,"mat-card-title",8),e.EFF(10),e.k0s()()(),e.nrm(11,"div",9),e.k0s()()(),e.j41(12,"mat-card",10)(13,"mat-card-content")(14,"div",2)(15,"div",11)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"div",11)(19,"span"),e.EFF(20),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){return e.eBV(i),e.Njj(o.getPasarId())}),e.nrm(23,"i",14),e.EFF(24," Agregar "),e.k0s()(),e.nrm(25,"br"),e.j41(26,"div",15)(27,"table",16)(28,"thead")(29,"tr")(30,"th",17),e.EFF(31,"N\xb0"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Compromiso"),e.k0s(),e.j41(34,"th",17),e.EFF(35,"Detalle"),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Beneficiarios"),e.k0s(),e.j41(38,"th",17),e.EFF(39,"Fec. Inicio"),e.k0s(),e.j41(40,"th",17),e.EFF(41,"Fec. Fin"),e.k0s(),e.j41(42,"th",17),e.EFF(43,"Valorizaci\xf3n"),e.k0s(),e.j41(44,"th",17),e.EFF(45,"Responsable"),e.k0s(),e.j41(46,"th",18),e.EFF(47,"Estado"),e.k0s(),e.j41(48,"th",18),e.EFF(49,"OPC"),e.k0s()()(),e.j41(50,"tbody"),e.DNE(51,he,26,15,"tr",19),e.k0s()()()()(),e.DNE(52,ge,35,6,"ng-template",null,0,e.C5r)}2&t&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(6,ce)),e.R7$(4),e.SpI("Detalle de ",o.planNombre,""),e.R7$(7),e.SpI("Valorizaci\xf3n RPA: S/. ",o.essaludValorizacion,""),e.R7$(3),e.Lme("Valorizaci\xf3n ",o.planNombre,": S/. ",o.externoValorizacion,""),e.R7$(31),e.Y8G("ngForOf",o.acuerdos))},dependencies:[h.YU,h.Sq,h.bT,g.Wk,p.RN,p.m2,p.dh,l.qT,l.me,l.Q0,l.BC,l.cb,l.vS,l.cV],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}"]})}}return r})()},{path:"pre-registro/:id",component:(()=>{class r{constructor(n,t,o,i,a,s,R){this.modalService=t,this.acuerdosService=o,this.planTrabajoService=i,this.route=a,this.router=s,this.sedeAdjudicacionService=R,this.page=1,this.pageSize=4,this.ACUERDOS=[],this.acuerdos=[],this.collection=0,this.convenioId="",this.listSedeAdjudicacion=[],this.idAcuerdo="",this.newAcuerdo={compromiso:"",detalle:"",beneficiarios:"",fecha_inicio:"",fecha_fin:"",valorizacion:"",is_esssalud_responsable:!0,estado:!0,sede_Adjudicacion:""},n.backdrop="static",n.keyboard=!1,this.refreshAcuerdos()}ngOnInit(){this.convenioId=this.route.snapshot.paramMap.get("id")||"",this.getSedeAdjudicaciones(),this.getAcuerdos()}refreshAcuerdos(){this.acuerdos=this.ACUERDOS.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collection=this.ACUERDOS.length}open(n){this.modalService.open(n)}getSedeAdjudicaciones(){this.sedeAdjudicacionService.getSedeAdjudicacion().subscribe(n=>{console.log(n),this.listSedeAdjudicacion=n},n=>{console.error(n)})}getAcuerdos(){this.acuerdosService.getAcuerdos().subscribe({next:n=>{this.ACUERDOS=n,this.collection=n.length,this.refreshAcuerdos()},error:n=>{console.error("Error fetching plan de trabajo:",n)}})}createAcuerdos(){this.acuerdosService.createAcuerdos(this.newAcuerdo).subscribe(n=>{const t=n.id;console.log(n),console.log("Acuerdo creado con ID:",t),console.log("Datos enviados:",this.newAcuerdo),this.actualizarAcuerdo(t),this.getAcuerdos()},n=>{console.error(n)})}actualizarAcuerdo(n){if("string"!=typeof n||!n)return void console.error("acuerdoId no es una cadena v\xe1lida:",n);const t={acuerdo_id:n};console.log("Acuerdos creados:",t),this.planTrabajoService.patchAcuerdo2(this.convenioId,t).subscribe(o=>{console.log("Plan de trabajo actualizado:",o),this.getAcuerdos(),this.regresar()},o=>{console.error("Error actualizando plan de trabajo:",o)})}regresar(){this.router.navigate(["/plan-trabajo/pre-detalle",this.convenioId])}actualizarPagina(){window.location.reload()}static{this.\u0275fac=function(t){return new(t||r)(e.rXU(u.LY),e.rXU(u.Bq),e.rXU(C),e.rXU(_.a),e.rXU(g.nX),e.rXU(g.Ix),e.rXU(T.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-pre-registro"]],inputs:{idAcuerdo:"idAcuerdo"},decls:82,vars:11,consts:[["acuerdoForm","ngForm"],[1,"cardWithShadow"],[1,"row"],[1,"col-md-6"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"me-2"],[1,"border","border-white","fondo-flechas","rounded-circle",3,"click"],[1,"fa-solid","fa-arrow-left","flechas"],[1,"titles"],[1,"col-md-2"],[1,"col-md-4"],[1,"d-flex","justify-content-end"],[1,"btn","ayuda-btn","me-2"],[1,"fa-solid","fa-circle-question","me-2","text-light"],[1,"text-light","fw-bold"],[1,"btn","border","actualizar-btn",3,"click"],[1,"fa-solid","fa-rotate-right","me-2","actualizar-icon"],[1,"fw-bold","actualizar-text"],[3,"ngSubmit"],[1,"col-md-12"],["for","compromiso",1,"form-label","fw-bold"],["id","compromiso","name","compromiso","rows","5","required","",1,"form-control",2,"resize","vertical",3,"ngModelChange","ngModel"],["for","detalle",1,"form-label","fw-bold"],["type","text","id","detalle","name","detalle","placeholder","Escribir detalle","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin",1,"form-label","fw-bold"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","beneficiarios",1,"form-label","fw-bold"],["type","text","id","beneficiarios","name","beneficiarios","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","valorizacion",1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],["type","number","id","valorizacion","name","valorizacion","min","0","step","0.01","placeholder","0.00","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","responsable",1,"form-label","fw-bold"],[1,"form-check"],["type","radio","name","responsableEssalud","id","responsableSi","value","true",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableSi",1,"form-check-label"],["type","radio","name","responsableEssalud","id","responsableNo","value","false",1,"form-check-input",3,"ngModelChange","ngModel"],["for","responsableNo",1,"form-check-label"],["for","sedeAdjudicacion",1,"form-label","fw-bold"],["name","sedeAdjudicacion","id","sedeAdjudicacion","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-5","w-25",3,"disabled"],[3,"value"]],template:function(t,o){if(1&t){const i=e.RV6();e.j41(0,"mat-card",1)(1,"mat-card-content")(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),e.bIt("click",function(){return e.eBV(i),e.Njj(o.regresar())}),e.nrm(8,"i",8),e.k0s()(),e.j41(9,"div")(10,"mat-card-title",9),e.EFF(11,"Registro de Compromiso"),e.k0s()()()()(),e.nrm(12,"div",10),e.j41(13,"div",11)(14,"div",12)(15,"button",13),e.nrm(16,"i",14),e.j41(17,"span",15),e.EFF(18,"Ayuda"),e.k0s()(),e.j41(19,"button",16),e.bIt("click",function(){return e.eBV(i),e.Njj(o.actualizarPagina())}),e.nrm(20,"i",17),e.j41(21,"span",18),e.EFF(22,"Actualizar"),e.k0s()()()()()()(),e.j41(23,"mat-card",1)(24,"mat-card-content")(25,"form",19,0),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(o.createAcuerdos())}),e.j41(27,"div",2)(28,"div",20)(29,"label",21),e.EFF(30,"Compromiso"),e.k0s(),e.j41(31,"textarea",22),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.compromiso,s)||(o.newAcuerdo.compromiso=s),e.Njj(s)}),e.k0s()()(),e.nrm(32,"br"),e.j41(33,"div",2)(34,"div",11)(35,"label",23),e.EFF(36,"Detalle"),e.k0s(),e.j41(37,"input",24),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.detalle,s)||(o.newAcuerdo.detalle=s),e.Njj(s)}),e.k0s()(),e.j41(38,"div",11)(39,"label",25),e.EFF(40,"Fecha Inicio"),e.k0s(),e.j41(41,"input",26),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.fecha_inicio,s)||(o.newAcuerdo.fecha_inicio=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",11)(43,"label",27),e.EFF(44,"Fecha Fin"),e.k0s(),e.j41(45,"input",28),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.fecha_fin,s)||(o.newAcuerdo.fecha_fin=s),e.Njj(s)}),e.k0s()()(),e.nrm(46,"br"),e.j41(47,"div",2)(48,"div",11)(49,"label",29),e.EFF(50,"Beneficiario"),e.k0s(),e.j41(51,"input",30),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.beneficiarios,s)||(o.newAcuerdo.beneficiarios=s),e.Njj(s)}),e.k0s()(),e.j41(52,"div",11)(53,"label",31),e.EFF(54,"Valorizaci\xf3n"),e.k0s(),e.j41(55,"div",32)(56,"span",33),e.EFF(57,"S/."),e.k0s(),e.j41(58,"input",34),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.valorizacion,s)||(o.newAcuerdo.valorizacion=s),e.Njj(s)}),e.k0s()()(),e.j41(59,"div",11)(60,"label",35),e.EFF(61,"Responsable RPA"),e.k0s(),e.j41(62,"div",36)(63,"input",37),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(64,"label",38),e.EFF(65,"S\xed"),e.k0s()(),e.j41(66,"div",36)(67,"input",39),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.is_esssalud_responsable,s)||(o.newAcuerdo.is_esssalud_responsable=s),e.Njj(s)}),e.k0s(),e.j41(68,"label",40),e.EFF(69,"No"),e.k0s()()()(),e.j41(70,"div",2)(71,"div",11)(72,"label",41),e.EFF(73,"Sede Docente"),e.k0s(),e.j41(74,"select",42),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(o.newAcuerdo.sede_Adjudicacion,s)||(o.newAcuerdo.sede_Adjudicacion=s),e.Njj(s)}),e.j41(75,"option",43),e.EFF(76,"Seleccione Sede"),e.k0s(),e.DNE(77,fe,2,2,"option",44),e.k0s()()(),e.nrm(78,"br"),e.j41(79,"div",45)(80,"button",46),e.EFF(81,"Registrar"),e.k0s()()()()()}if(2&t){const i=e.sdS(26);e.R7$(31),e.R50("ngModel",o.newAcuerdo.compromiso),e.R7$(6),e.R50("ngModel",o.newAcuerdo.detalle),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_inicio),e.R7$(4),e.R50("ngModel",o.newAcuerdo.fecha_fin),e.R7$(6),e.R50("ngModel",o.newAcuerdo.beneficiarios),e.R7$(7),e.R50("ngModel",o.newAcuerdo.valorizacion),e.R7$(5),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(4),e.R50("ngModel",o.newAcuerdo.is_esssalud_responsable),e.R7$(7),e.R50("ngModel",o.newAcuerdo.sede_Adjudicacion),e.R7$(3),e.Y8G("ngForOf",o.listSedeAdjudicacion),e.R7$(3),e.Y8G("disabled",!i.valid)}},dependencies:[h.Sq,p.RN,p.m2,p.dh,l.qT,l.xH,l.y7,l.me,l.Q0,l.wz,l.Fm,l.BC,l.cb,l.YS,l.VZ,l.vS,l.cV]})}}return r})()}]}];var _e=d(2941),je=d(9159),Fe=d(3887),Ce=d(4912),ve=d(5509),ke=d(6695),Re=d(4006),Ee=d(9461),Me=d(8834);let Ae=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[h.MD,g.iI.forChild(be),_e.G,l.YN,je.tP,ke.Ou,l.X1,Re.hM,Ee.I,Me.Hl,Fe.G,Ce.X4.pick(ve)]})}}return r})()}}]);